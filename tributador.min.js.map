{"version":3,"sources":["webpack:///tributador.min.js","webpack:///webpack/bootstrap f0f1bd11cf46c45d43a4","webpack:///./app/modules/taxsettings/services/module.js","webpack:///./app/import-modules.js","webpack:///./app/import-style.js","webpack:///./app/app.js","webpack:///./app/modules/taxsettings/controllers/ModalConflitoController.js","webpack:///./app/modules/taxsettings/controllers/TaxSettingsFormController.js","webpack:///./app/modules/taxsettings/controllers/TaxSettingsListController.js","webpack:///./app/modules/taxsettings/controllers/module.js","webpack:///./app/modules/taxsettings/module.js","webpack:///./app/modules/taxsettings/services/CodigoEnquadramentoIpiService.js","webpack:///./app/modules/taxsettings/services/FormulaService.js","webpack:///./app/modules/taxsettings/services/MensagemService.js","webpack:///./app/modules/taxsettings/services/TaxationGroupService.js","webpack:///./app/modules/taxsettings/views/form.html","webpack:///./app/modules/taxsettings/views/list.html","webpack:///./app/modules/taxsettings/views/modalConflito.html"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","angular","service","config","$stateProvider","state","data","id","url","templateUrl","ModalConflitoController","entity","values","$scope","$uibModalInstance","filterById","arr","insideArr","filter","length","filterByKey","key","copy","map","operationTypes","productTypes","productGroups","personTypes","personGroups","destinations","origins","conf","columns","selection","columnsConfig","size","title","content","close","$inject","TaxSettingsFormController","TaxationGroupService","MensagemService","CompanyService","OperationTypeService","PersonGroupService","ProductGroupService","CfopService","FormulaService","$state","$timeout","$uibModal","$rootScope","CodigoEnquadramentoIpiService","GumgaAlert","gumgaController","invalidPis","pis","CST","invalidPisAliquota","calculationTypeST","invalidPisAliquotaST","calculationType","invalidCofins","cofins","invalidCofinsAliquota","invalidCofinsAliquotaST","invalidIpi","ipi","ipiCalculationType","invalidIpiAliquota","invalidIcmsNormal","icms","invalidIcmsBase","invalidIcmsStBase","UFST","invalidIcmsDeson","invalidIcmsStRetid","invalidIcmsDife","invalidIcmsStRetidoAnter","invalidIcmsSimples","CSOSN","vCredICMSSN","invalidBaseStSimples","invalidAliquotaGroup","invalidIcmsStRetidoAnterSimples","vBCSTRet","vICMSSTRet","modBCST","vBCST","pICMSST","vICMSST","pCredSN","doSave","current","swal","text","type","showCancelButton","confirmButtonClass","confirmButtonText","cancelButtonText","closeOnConfirm","closeOnCancel","isConfirm","go","doErr","err","Array","isArray","unmapEnum","stateDestinationList","stateOriginList","open","modalConflito","controller","resolve","createWarningMessage","details","valueArr","dtoArr","pCOFINSST","vCOFINSST","vBC","pCOFINS","vCOFINS","pIPI","vIPI","pPISST","vPISST","pPIS","vPIS","modBC","pICMS","vICMS","vICMSDeson","motDesICMS","pRedBCST","pMVAST","vBCSTDest","vICMSSTDest","vICMSOp","pDif","vICMSDif","mapEnum","mountIcms","obj","version","cfop","mensagem","mensagemRef","cfopRef","pReducaoBase","mountIcmsSimples","pRedBC","mountPis","mountCofins","mountIpi","enquadramentoIpi","operationConditional","2px solid red","operationConflicts","createRestMethods","taxationGroup","execute","taxationPIS","taxationICMS","taxationCOFINS","taxationIPI","continue","vICMSd","showICMS","showPIS","showCOFINS","openTaxation","step1","configOpen","configOpenNext","mensagemICMSList","mensagemPISList","mensagemIPIList","mensagemCOFINSList","formulaIcmsBCList","formulaValorIcms","formulaBaseIcmsSt","formulaValorIcmsSt","formulaValorIcmsDeson","formulaIcmsStDeson","fomulasBaseIcmsRet","formulaValorIcmsRet","formulaBaseIcmsDest","formulaValorIcmsDest","formulaValorIcmsOpe","formulaBasePis","formulaBasePisST","formulaValorPisST","formulaValorPis","formulaBaseCofins","formulaBaseCofinsST","formulaValorCofinsST","formulaValorCofins","cfopList","stateOriginConflicts","stateDestinationsConflicts","personGroupConflicts","productGroupConflicts","getCurrentCompany","then","icmsNormal","crt","tribute","all","operationTypesList","clearPage","openPanel","replicateTaxSetting","newEntity","personGroupList","productGroupList","getStateList","getICMSTypes","icmsTypes","label","concat","getCsosnTypes","csosnTypes","getPISTypes","cstpis","getIPITypes","cstipi","getCalculationTypes","calculationTypes","getModeCalculationBaseTypes","modeCalculationBaseList","getModeCalculationBaseSTTypes","modeCalculationBaseSTList","getUnburdeningMotives","unburdeningMotiveList","confOperation","conditional","checkbox","confState","confPerson","confProduct","panel","blockBtnTributos","isIcmsAble","isIcmsStandartGroupAble","isIcmsDesoGroupAble","isIcmsRedGroupAble","isIcmsStAble","isIcmsStStandartGroupAble","getCfopIcms","getAdvancedSearch","getFormulaIcms","getFormulaPis","getFormulaCofins","getFormulaIpi","getMensagem","isIpiAble","isPisAble","isPisOperationTypeUnable","isPisAliquotaAble","isCofinsAble","isCofinsOperationTypeUnable","isCofinsAliquotaAble","saveDisabled","update","disabled","isFCPVisible","pICMSUFDest","pFCPUFDest","$emit","saveValiding","showAliquotaGroup","showIcmsStSimple","showSimples","showSimplesSt","searchEnquadramento","param","getSearch","TaxSettingsListController","materialTheme","activeLineColor","hoverLineColor","itemsPerPage","methods","getLatestOperation","on","list","form","apiLocation","controllerAs","$stateParams","$http","$q","ent","GumgaRest","getAttributeMessageNames","extend","getTiposMensagem","this","getCofinsPisTypes","path","window","run","put"],"mappings":"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","file":"tributador.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = angular.module('app.taxsettings.services', ['api.location']).service('MensagemService', __webpack_require__(11)).service('FormulaService', __webpack_require__(10)).service('CodigoEnquadramentoIpiService', __webpack_require__(9)).service('TaxationGroupService', __webpack_require__(12));\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(8);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(13);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(2);\n__webpack_require__(1);\n\nvar base = '/baseGrandsComponents.html';\n\nmodule.exports = angular.module('taxsettings.core', ['ui.router', 'ngSanitize', 'gumga.core', 'brasil.filters', 'ui.utils.masks', 'datePicker', 'app.stock', 'app.taxsettings', 'buddy.core', 'operationtype.core', 'product.core']).config(function ($stateProvider) {\n    $stateProvider.state('taxsettings', {\n        data: {\n            id: 1\n        },\n        url: '/taxsettings',\n        templateUrl: base\n    });\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nModalConflitoController.$inject = ['entity', 'values', '$scope', '$uibModalInstance'];\nfunction ModalConflitoController(entity, values, $scope, $uibModalInstance) {\n\n    entity = angular.copy(entity);\n    $scope.values = angular.copy(values);\n    $scope.values = $scope.values.map(function (data) {\n        data.operationTypes = filterById(data.operationTypes, entity.operationTypes);\n        data.productTypes = filterById(data.productGroups, entity.productGroups);\n        data.personTypes = filterById(data.personGroups, entity.personGroups);\n        data.destinations = filterByKey(data.destinations, entity.destinations);\n        data.origins = filterByKey(data.origins, entity.origins);\n        return data;\n    });\n    $scope.conf = {\n        columns: 'id,name,operations,origins,destinations,personTypes,productType',\n        selection: 'none',\n        columnsConfig: [{\n            name: 'id',\n            size: 'col-md-1',\n            title: '<strong gumga-translate-tag=\"taxsettings.id\">Code</strong>',\n            content: '<div>{{$value.id}}</div>'\n        }, {\n            name: 'name',\n            size: 'col-md-1',\n            title: '<strong gumga-translate-tag=\"taxsettings.name\">Tribute</strong>',\n            content: '<div>{{$value.name}}</div>'\n        }, {\n            name: 'operations',\n            size: 'col-md-2',\n            title: '<strong gumga-translate-tag=\"taxsettings.operations\">Operations</strong>',\n            content: '<span ng-repeat=\"obj in $value.operationTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n        }, {\n            name: 'origins',\n            size: 'col-md-2',\n            title: '<strong gumga-translate-tag=\"taxsettings.origins\">Origins</strong>',\n            content: '<span ng-repeat=\"obj in $value.origins track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.label}}</span>'\n        }, {\n            name: 'destinations',\n            size: 'col-md-2',\n            title: '<strong gumga-translate-tag=\"taxsettings.destinations\">Destinations</strong>',\n            content: '<span ng-repeat=\"obj in $value.destinations track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.label}}</span>'\n        }, {\n            name: 'personTypes',\n            size: 'col-md-2',\n            title: '<strong gumga-translate-tag=\"taxsettings.groupofpeople\">Group of People</strong>',\n            content: '<span ng-repeat=\"obj in $value.personTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n        }, {\n            name: 'productType',\n            size: 'col-md-2',\n            title: '<strong gumga-translate-tag=\"taxsettings.productgroup\">Product Group</strong>',\n            content: '<span ng-repeat=\"obj in $value.productTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n        }]\n    };\n    $scope.close = function () {\n        $uibModalInstance.close($scope.values);\n    };\n\n    function filterById(arr, insideArr) {\n        return arr.filter(function (data) {\n            return insideArr.filter(function (value) {\n                return value.id === data.id;\n            }).length > 0;\n        });\n    }\n\n    function filterByKey(arr, insideArr) {\n        return arr.filter(function (data) {\n            return insideArr.filter(function (value) {\n                return value.key === data.key;\n            }).length > 0;\n        });\n    }\n}\nmodule.exports = ModalConflitoController;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar modalConflito = __webpack_require__(16);\n\nTaxSettingsFormController.$inject = ['TaxationGroupService', 'MensagemService', 'CompanyService', 'OperationTypeService', 'PersonGroupService', 'ProductGroupService', 'CfopService', 'FormulaService', '$state', 'entity', '$scope', '$timeout', '$uibModal', '$rootScope', 'CodigoEnquadramentoIpiService', 'GumgaAlert', 'gumgaController'];\nfunction TaxSettingsFormController(TaxationGroupService, MensagemService, CompanyService, OperationTypeService, PersonGroupService, ProductGroupService, CfopService, FormulaService, $state, entity, $scope, $timeout, $uibModal, $rootScope, CodigoEnquadramentoIpiService, GumgaAlert, gumgaController) {\n\n    gumgaController.createRestMethods($scope, TaxationGroupService, 'taxationGroup');\n    $scope.taxationGroup.execute('reset');\n    $scope.entity = angular.copy(entity.data);\n    $scope.pis = $scope.entity.taxationPIS || {};\n    $scope.icms = $scope.entity.taxationICMS || {};\n    $scope.cofins = $scope.entity.taxationCOFINS || {};\n    $scope.ipi = $scope.entity.taxationIPI || {};\n    $scope.continue = {};\n    $scope.entity.operationTypes = $scope.entity.operationTypes || [];\n    $scope.entity.origins = $scope.entity.origins || [];\n    $scope.entity.destinations = $scope.entity.destinations || [];\n    $scope.entity.personGroups = $scope.entity.personGroups || [];\n    $scope.entity.productGroups = $scope.entity.productGroups || [];\n    $scope.vICMSd = $scope.vICMSd || 0;\n    $scope.showICMS = false;\n    $scope.showPIS = false;\n    $scope.showCOFINS = false;\n    $scope.openTaxation = false;\n    $scope.step1 = false;\n    $scope.configOpen = false;\n    $scope.configOpenNext = false;\n    $scope.mensagemICMSList = [];\n    $scope.mensagemPISList = [];\n    $scope.mensagemIPIList = [];\n    $scope.mensagemCOFINSList = [];\n    $scope.formulaIcmsBCList = [];\n    $scope.formulaValorIcms = [];\n    $scope.formulaBaseIcmsSt = [];\n    $scope.formulaValorIcmsSt = [];\n    $scope.formulaValorIcmsDeson = [];\n    $scope.formulaIcmsStDeson = [];\n    $scope.fomulasBaseIcmsRet = [];\n    $scope.formulaValorIcmsRet = [];\n    $scope.formulaBaseIcmsDest = [];\n    $scope.formulaValorIcmsDest = [];\n    $scope.formulaValorIcmsOpe = [];\n    $scope.formulaBasePis = [];\n    $scope.formulaBasePisST = [];\n    $scope.formulaValorPisST = [];\n    $scope.formulaValorPis = [];\n    $scope.formulaBaseCofins = [];\n    $scope.formulaBaseCofinsST = [];\n    $scope.formulaValorCofinsST = [];\n    $scope.formulaValorCofins = [];\n    $scope.cfopList = [];\n    $scope.stateOriginConflicts = [];\n    $scope.stateDestinationsConflicts = [];\n    $scope.personGroupConflicts = [];\n    $scope.productGroupConflicts = [];\n    $scope.operationConflicts = [];\n    if ($scope.entity.id) {\n        $scope.openTaxation = true;\n        $scope.configOpen = false;\n        $scope.configOpenNext = false;\n    }\n\n    CompanyService.getCurrentCompany().then(function (data) {\n        $scope.icmsNormal = data.data.crt === 'REGIME_NORMAL';\n        if ($scope.icmsNormal) {\n            $scope.tribute = ['ICMS', 'PIS', 'COFINS', 'IPI'];\n        } else {\n            $scope.tribute = ['ICMS Simples', 'PIS', 'COFINS', 'IPI'];\n            $scope.icms.CST = '';\n        }\n    });\n\n    OperationTypeService.all().then(function (data) {\n        $scope.operationTypesList = data.data.values;\n        $timeout(function () {\n            $scope.entity.operationTypes = entity.data.operationTypes || [];\n            $scope.entity.operationTypes = $scope.entity.operationTypes.map(function (data) {\n                return $scope.operationTypesList.filter(function (value) {\n                    return value.id === data.id;\n                })[0];\n            });\n        });\n    });\n\n    $scope.clearPage = function () {\n        $scope.pis = {};\n        $scope.icms = {};\n        $scope.cofins = {};\n        $scope.ipi = {};\n        $scope.entity.operationTypes = [];\n        $scope.entity.origins = [];\n        $scope.entity.destinations = [];\n        $scope.entity.personGroups = [];\n        $scope.entity.productGroups = [];\n        $scope.entity.name = \"\";\n        $scope.openTaxation = false;\n        $scope.openPanel();\n        $scope.stateOriginConflicts = [];\n        $scope.personGroupConflicts = [];\n        $scope.productGroupConflicts = [];\n        $scope.operationConflicts = [];\n        $scope.entity.taxationPIS = {};\n        $scope.entity.taxationICMS = {};\n        $scope.entity.taxationCOFINS = {};\n        $scope.entity.taxationIPI = {};\n    };\n\n    $scope.replicateTaxSetting = function () {\n        var newEntity = angular.copy($scope.entity);\n        delete newEntity.id;\n\n        TaxationGroupService.newEntity = newEntity;\n        $state.go('taxsettings.insert');\n    };\n\n    PersonGroupService.all().then(function (data) {\n        $scope.personGroupList = data.data.values;\n        $timeout(function () {\n            $scope.entity.personGroups = entity.data.personGroups || [];\n        });\n    });\n    ProductGroupService.all().then(function (data) {\n        $scope.productGroupList = data.data.values;\n        $timeout(function () {\n            $scope.entity.productGroups = entity.data.productGroups || [];\n        });\n    });\n    TaxationGroupService.getStateList().then(function (data) {\n        $scope.stateDestinationList = $scope.stateOriginList = data.data;\n        $timeout(function () {\n            $scope.entity.origins = unmapEnum(entity.data.origins, $scope.stateOriginList);\n            $scope.entity.destinations = unmapEnum(entity.data.destinations, $scope.stateDestinationList);\n        });\n    });\n    TaxationGroupService.getICMSTypes().then(function (data) {\n        $scope.icmsTypes = [{ label: ' ' }].concat(data.data);\n    });\n    TaxationGroupService.getCsosnTypes().then(function (data) {\n        $scope.csosnTypes = [{ label: ' ' }].concat(data.data);\n    });\n    TaxationGroupService.getPISTypes().then(function (data) {\n        $scope.cstpis = [{ label: ' ' }].concat(data.data);\n    });\n    TaxationGroupService.getIPITypes().then(function (data) {\n        $scope.cstipi = [{ label: ' ' }].concat(data.data);\n    });\n    TaxationGroupService.getCalculationTypes().then(function (data) {\n        $scope.calculationTypes = data.data;\n    });\n    TaxationGroupService.getModeCalculationBaseTypes().then(function (data) {\n        $scope.modeCalculationBaseList = [{ label: ' ' }].concat(data.data);\n    });\n    TaxationGroupService.getModeCalculationBaseSTTypes().then(function (data) {\n        $scope.modeCalculationBaseSTList = [{ label: ' ' }].concat(data.data);\n    });\n    TaxationGroupService.getUnburdeningMotives().then(function (data) {\n        $scope.unburdeningMotiveList = [{ label: ' ' }].concat(data.data);\n    });\n    $scope.confOperation = {\n        columns: 'operations',\n        selection: 'multi',\n        conditional: operationConditional,\n        checkbox: true,\n        columnsConfig: [{\n            name: 'operations',\n            size: 'col-md-9',\n            title: '<strong gumga-translate-tag=\"taxsettings.operations\">Operations</strong>',\n            content: '<div>{{$value.name}}</div>'\n        }]\n    };\n    $scope.confState = {\n        columns: 'state',\n        selection: 'multi',\n        checkbox: true,\n        columnsConfig: [{\n            name: 'state',\n            size: 'col-md-9',\n            title: '<strong gumga-translate-tag=\"taxsettings.state\">State</strong>',\n            content: '<div>{{$value.label}}</div>'\n        }]\n    };\n    $scope.confPerson = {\n        columns: 'person',\n        selection: 'multi',\n        checkbox: true,\n        columnsConfig: [{\n            name: 'person',\n            size: 'col-md-9',\n            title: '<strong gumga-translate-tag=\"taxsettings.groupofpeople\">Group of People</strong>',\n            content: '<div>{{$value.name}}</div>'\n        }]\n    };\n    $scope.confProduct = {\n        columns: 'product',\n        selection: 'multi',\n        checkbox: true,\n        columnsConfig: [{\n            name: 'product',\n            size: 'col-md-9',\n            title: '<strong gumga-translate-tag=\"taxsettings.productgroup\">Product Group</strong>',\n            content: '<div>{{$value.name}}</div>'\n        }]\n    };\n    $scope.openPanel = function (panel) {\n        $scope.configOpen = panel === 'configOpen';\n        $scope.openTaxation = panel === 'openTaxation';\n    };\n\n    if (!$scope.entity.id) {\n        $scope.openPanel('configOpen');\n    }\n\n    $scope.blockBtnTributos = function (entity) {\n        return entity.operationTypes.length === 0 || entity.origins.length === 0 || entity.destinations.length === 0 || entity.personGroups.length === 0 || entity.productGroups.length === 0;\n    };\n    $scope.isIcmsAble = function (entity) {\n        return !entity.CST || entity.CST === 'ISENTA_COM_ST_30' || entity.CST === 'NAO_TRIBUTADA_41_ICMSST' || entity.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60';\n    };\n    $scope.isIcmsStandartGroupAble = function (entity) {\n        return entity.CST === 'INTEGRALMENTE_00' || entity.CST === 'COBRANCA_ST_10' || entity.CST === 'COBRANCA_ST_10_COM_PARTILHA' || entity.CST === 'REDUCAO_BC_20' || entity.CST === 'DIFERIMENTO_51' || entity.CST === 'ST_REDUCAO_BC_70' || entity.CST === 'OUTRAS_COM_PARTILHA_90' || entity.CST === 'OUTROS_90';\n    };\n    $scope.isIcmsDesoGroupAble = function (entity) {\n        return entity.CST === 'REDUCAO_BC_20' || entity.CST === 'ISENTA_40' || entity.CST === 'NAO_TRIBUTADA_41' || entity.CST === 'SUSPENSAO_50' || entity.CST === 'ST_REDUCAO_BC_70' || entity.CST === 'OUTROS_90';\n    };\n    $scope.isIcmsRedGroupAble = function (entity) {\n        return entity.CST === 'COBRANCA_ST_10_COM_PARTILHA' || entity.CST === 'REDUCAO_BC_20' || entity.CST === 'DIFERIMENTO_51' || entity.CST === 'ST_REDUCAO_BC_70' || entity.CST === 'OUTRAS_COM_PARTILHA_90' || entity.CST === 'OUTROS_90';\n    };\n    $scope.isIcmsStAble = function (entity) {\n        return !entity.CST || entity.CST === 'INTEGRALMENTE_00' || entity.CST === 'REDUCAO_BC_20' || entity.CST === 'ISENTA_40' || entity.CST === 'NAO_TRIBUTADA_41' || entity.CST === 'SUSPENSAO_50' || entity.CST === 'DIFERIMENTO_51';\n    };\n    $scope.isIcmsStStandartGroupAble = function (entity) {\n        return entity.CST === 'NAO_TRIBUTADA_41_ICMSST' || entity.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60';\n    };\n    $scope.getCfopIcms = function (value) {\n        value = value || '';\n        return CfopService.getAdvancedSearch('lower(obj.codigo) like lower(\\'%' + value + '%\\') or lower(obj.descricao) like lower(\\'%' + value + '%\\')').then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.getFormulaIcms = function (value) {\n        return FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = 'ICMS'\").then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.getFormulaPis = function (value) {\n        return FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%\\') and obj.tariffType = 'PIS'\").then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.getFormulaCofins = function (value) {\n        return FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%\\') and obj.tariffType = 'COFINS'\").then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.getFormulaIpi = function (value) {\n        return FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = 'IPI'\").then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.getMensagem = function (value, tribute) {\n        return MensagemService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = '\" + tribute + \"'\").then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.isIpiAble = function (entity) {\n        return !entity.CST || entity.CST !== 'ENTRADA_RECUPERACAO_CREDITO_00' && entity.CST !== 'OUTRAS_ENTRADAS_49' && entity.CST !== 'SAIDA_TRIBUTADA_50' && entity.CST !== 'OUTRAS_SAIDAS_99';\n    };\n    $scope.isPisAble = function (entity) {\n        return !entity.CST || entity.CST === 'OPERACAO_TRIBUTAVEL_04' || entity.CST === 'OPERACAO_TRIBUTAVEL_03' || entity.CST === 'OPERACAO_TRIBUTAVEL_06' || entity.CST === 'OPERACAO_TRIBUTAVEL_07' || entity.CST === 'SEM_INCIDENCIA_08' || entity.CST === 'COM_SUSPENSAO_09';\n    };\n    $scope.isPisOperationTypeUnable = function (entity) {\n        return entity.CST && ($scope.isPisAble(entity) || entity.CST === 'OPERACAO_TRIBUTAVEL_01' || entity.CST === 'OPERACAO_TRIBUTAVEL_02');\n    };\n    $scope.isPisAliquotaAble = function (entity) {\n        return $scope.isPisOperationTypeUnable(entity) || entity.calculationType === 'PORCENTAGEM';\n    };\n    $scope.isCofinsAble = function (entity) {\n        return !entity.CST || entity.CST === 'OPERACAO_TRIBUTAVEL_04' || entity.CST === 'OPERACAO_TRIBUTAVEL_03' || entity.CST === 'OPERACAO_TRIBUTAVEL_06' || entity.CST === 'OPERACAO_TRIBUTAVEL_07' || entity.CST === 'SEM_INCIDENCIA_08' || entity.CST === 'COM_SUSPENSAO_09';\n    };\n    $scope.isCofinsOperationTypeUnable = function (entity) {\n        return entity.CST && ($scope.isCofinsAble(entity) || entity.CST === 'OPERACAO_TRIBUTAVEL_01' || entity.CST === 'OPERACAO_TRIBUTAVEL_02');\n    };\n    $scope.isCofinsAliquotaAble = function (entity) {\n        return $scope.isCofinsOperationTypeUnable(entity) || entity.calculationType === 'PORCENTAGEM';\n    };\n\n    function invalidPis(pis) {\n        if (pis.CST) {\n            switch (pis.CST) {\n                case 'OPERACAO_TRIBUTAVEL_01':\n                case 'OPERACAO_TRIBUTAVEL_02':\n                    if (invalidPisAliquota(pis)) {\n                        return true;\n                    }\n                    break;\n                case 'OPERACAO_TRIBUTAVEL_05':\n                    if (!pis.calculationTypeST) {\n                        return true;\n                    }\n                    if (pis.calculationTypeST === 'PORCENTAGEM' && invalidPisAliquotaST(pis)) {\n                        return true;\n                    }\n                    break;\n                case 'OUTRAS_SAIDAS_49':\n                case 'OPERACOES_CREDITO_50':\n                case 'OPERACOES_CREDITO_51':\n                case 'OPERACOES_CREDITO_52':\n                case 'OPERACOES_CREDITO_53':\n                case 'OPERACOES_CREDITO_54':\n                case 'OPERACOES_CREDITO_55':\n                case 'OPERACOES_CREDITO_56':\n                case 'CREDITO_PRESUMIDO_60':\n                case 'CREDITO_PRESUMIDO_61':\n                case 'CREDITO_PRESUMIDO_62':\n                case 'CREDITO_PRESUMIDO_63':\n                case 'CREDITO_PRESUMIDO_64':\n                case 'CREDITO_PRESUMIDO_65':\n                case 'CREDITO_PRESUMIDO_66':\n                case 'CREDITO_PRESUMIDO_67':\n                case 'AQUISICAO_SEM_CREDITO_70':\n                case 'AQUISICAO_ISENTA_71':\n                case 'AQUISICAO_COM_SUSPENSAO_72':\n                case 'AQUISICAO_ALIQUOTA_ZERO_73':\n                case 'AQUISICAO_SEM_CONTRIBUICAO_74':\n                case 'AQUISICAO_ST_75':\n                case 'OUTRAS_ENTRADAS_98':\n                case 'OUTRAS_99':\n                    if (!pis.calculationType) {\n                        return true;\n                    }\n                    if (pis.calculationType === 'PORCENTAGEM' && invalidPisAliquota(pis)) {\n                        return true;\n                    }\n                    break;\n                default:\n\n            }\n        }\n    }\n\n    function invalidCofins(cofins) {\n        if (cofins.CST) {\n            switch (cofins.CST) {\n                case 'OPERACAO_TRIBUTAVEL_01':\n                case 'OPERACAO_TRIBUTAVEL_02':\n                    if (invalidCofinsAliquota(cofins)) {\n                        return true;\n                    }\n                    break;\n                case 'OPERACAO_TRIBUTAVEL_05':\n                    if (!cofins.calculationTypeST) {\n                        return true;\n                    }\n                    if (cofins.calculationTypeST === 'PORCENTAGEM' && invalidCofinsAliquotaST(cofins)) {\n                        return true;\n                    }\n                    break;\n                case 'OUTRAS_SAIDAS_49':\n                case 'OPERACOES_CREDITO_50':\n                case 'OPERACOES_CREDITO_51':\n                case 'OPERACOES_CREDITO_52':\n                case 'OPERACOES_CREDITO_53':\n                case 'OPERACOES_CREDITO_54':\n                case 'OPERACOES_CREDITO_55':\n                case 'OPERACOES_CREDITO_56':\n                case 'CREDITO_PRESUMIDO_60':\n                case 'CREDITO_PRESUMIDO_61':\n                case 'CREDITO_PRESUMIDO_62':\n                case 'CREDITO_PRESUMIDO_63':\n                case 'CREDITO_PRESUMIDO_64':\n                case 'CREDITO_PRESUMIDO_65':\n                case 'CREDITO_PRESUMIDO_66':\n                case 'CREDITO_PRESUMIDO_67':\n                case 'AQUISICAO_SEM_CREDITO_70':\n                case 'AQUISICAO_ISENTA_71':\n                case 'AQUISICAO_COM_SUSPENSAO_72':\n                case 'AQUISICAO_ALIQUOTA_ZERO_73':\n                case 'AQUISICAO_SEM_CONTRIBUICAO_74':\n                case 'AQUISICAO_ST_75':\n                case 'OUTRAS_ENTRADAS_98':\n                case 'OUTRAS_99':\n                    if (!cofins.calculationType) {\n                        return true;\n                    }\n                    if (cofins.calculationType === 'PORCENTAGEM' && invalidCofinsAliquota(cofins)) {\n                        return true;\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n\n    function invalidIpi(ipi) {\n        if (ipi.CST) {\n            switch (ipi.CST) {\n                case 'ENTRADA_RECUPERACAO_CREDITO_00':\n                case 'OUTRAS_ENTRADAS_49':\n                case 'SAIDA_TRIBUTADA_50':\n                case 'OUTRAS_SAIDAS_99':\n                    if (!ipi.ipiCalculationType || ipi.ipiCalculationType === 'PORCENTAGEM' && invalidIpiAliquota(ipi)) {\n                        return true;\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n\n    function invalidIcmsNormal(icms) {\n        if (icms.CST) {\n            switch (icms.CST) {\n                case 'INTEGRALMENTE_00':\n                    if (invalidIcmsBase(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'COBRANCA_ST_10':\n                    if (invalidIcmsBase(icms) || invalidIcmsStBase(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'OUTRAS_COM_PARTILHA_90':\n                case 'COBRANCA_ST_10_COM_PARTILHA':\n                    if (invalidIcmsBase(icms) || invalidIcmsStBase(icms) || !icms.UFST) {\n                        return true;\n                    }\n                    break;\n                case 'REDUCAO_BC_20':\n                    if (invalidIcmsBase(icms) || invalidIcmsDeson(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'ISENTA_COM_ST_30':\n                    if (invalidIcmsStBase(icms) || invalidIcmsDeson(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'ISENTA_40':\n                case 'NAO_TRIBUTADA_41':\n                case 'SUSPENSAO_50':\n                    if (invalidIcmsDeson(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'NAO_TRIBUTADA_41_ICMSST':\n                    if (invalidIcmsStRetid(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'DIFERIMENTO_51':\n                    if (invalidIcmsBase(icms) || invalidIcmsDife(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'COBRADO_ANTERIORMENTE_POR_ST_60':\n                    if (invalidIcmsStRetidoAnter(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'ST_REDUCAO_BC_70':\n                case 'OUTROS_90':\n                    if (invalidIcmsBase(icms) || invalidIcmsDeson(icms) || invalidIcmsStBase(icms)) {\n                        return true;\n                    }\n                    break;\n                default:\n            }\n        }\n    }\n\n    function invalidIcmsSimples(icms) {\n        if (icms.CSOSN) {\n            switch (icms.CSOSN) {\n                case 'CREDITO_101':\n                    if (icms.vCredICMSSN == null) {\n                        return true;\n                    }\n                    break;\n                case 'CREDITO_COM_ST_201':\n                    if (invalidBaseStSimples(icms) || invalidAliquotaGroup(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'SEM_CREDITO_COM_ST_202':\n                case 'RECEITA_BRUTA_COM_ST_203':\n                    if (invalidBaseStSimples(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'ANTECIPACAO_ST_500':\n                    if (invalidIcmsStRetidoAnterSimples(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'OUTROS_900':\n                    if (invalidBaseStSimples(icms) || invalidAliquotaGroup(icms) || invalidIcmsBase(icms)) {\n                        return true;\n                    }\n                    break;\n                default:\n                    break;\n\n            }\n        }\n    }\n\n    function invalidIcmsStRetidoAnterSimples(icms) {\n        return icms.vBCSTRet && !icms.vICMSSTRet || !icms.vBCSTRet && icms.vICMSSTRet;\n    }\n\n    function invalidBaseStSimples(icms) {\n        return !icms.modBCST || !icms.vBCST || icms.pICMSST == null || !icms.vICMSST;\n    }\n\n    function invalidAliquotaGroup(icms) {\n        return icms.pCredSN == null || icms.vCredICMSSN == null;\n    }\n\n    $scope.saveDisabled = function (entity, icms, pis, cofins, ipi) {\n        return $scope.icmsNormal && invalidIcmsNormal(icms) || !$scope.icmsNormal && invalidIcmsSimples(icms) || invalidPis(pis) || invalidCofins(cofins) || invalidIpi(ipi) || entity.name.length === 0;\n    };\n    $scope.update = function (entity, icms, pis, cofins, ipi, disabled) {\n        if (disabled) {\n            return;\n        }\n        entity.destinations = entity.destinations.map(mapEnum);\n        entity.origins = entity.origins.map(mapEnum);\n        delete entity.taxationIPI;\n        delete entity.taxationPIS;\n        delete entity.taxationCOFINS;\n        delete entity.taxationICMS;\n        ipi = angular.copy(ipi);\n        icms = angular.copy(icms);\n        pis = angular.copy(pis);\n        cofins = angular.copy(cofins);\n        if (ipi.CST) {\n            entity.taxationIPI = mountIpi(ipi);\n        }\n        if ($scope.icmsNormal && icms.CST) {\n            entity.taxationICMS = mountIcms(icms);\n        } else if (!$scope.icmsNormal && icms.CSOSN) {\n            entity.taxationICMS = mountIcmsSimples(icms);\n        }\n        if (entity.taxationICMS && $scope.isFCPVisible(entity.taxationICMS)) {\n            entity.taxationICMS.pICMSUFDest = icms.pICMSUFDest;\n            entity.taxationICMS.pFCPUFDest = icms.pFCPUFDest;\n        }\n        if (pis.CST) {\n            entity.taxationPIS = mountPis(pis);\n        }\n        if (cofins.CST) {\n            entity.taxationCOFINS = mountCofins(cofins);\n        }\n        $rootScope.$emit('hideNextErrorMessage');\n        TaxationGroupService.saveValiding(entity).then(doSave, doErr);\n    };\n\n    function doSave() {\n        if ($state.current.name === \"taxsettings.insert\") {\n            swal({\n                title: \"Confirmao\",\n                text: \"Deseja continuar inserindo?\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonClass: \"btn-success\",\n                confirmButtonText: \"Continuar\",\n                cancelButtonText: \"No\",\n                closeOnConfirm: true,\n                closeOnCancel: true\n            }, function (isConfirm) {\n                if (!isConfirm) {\n                    $state.go('taxsettings.list');\n                }\n            });\n        } else {\n            $state.go('taxsettings.list');\n        };\n    }\n\n    function doErr(err) {\n        if (Array.isArray(err.data)) {\n            var _values = err.data.map(function (data) {\n                data.destinations = unmapEnum(data.destinations, $scope.stateDestinationList);\n                data.origins = unmapEnum(data.origins, $scope.stateOriginList);\n                return data;\n            });\n            $uibModal.open({\n                size: 'lg',\n                templateUrl: modalConflito,\n                controller: 'ModalConflitoController',\n                resolve: {\n                    values: function values() {\n                        return _values;\n                    },\n                    entity: function entity() {\n                        return $scope.entity;\n                    }\n                }\n            });\n        } else {\n            GumgaAlert.createWarningMessage('Tributao Incorreta', err.data.details);\n        }\n    }\n\n    function unmapEnum(valueArr, dtoArr) {\n        valueArr = valueArr || [];\n        return valueArr.map(function (data) {\n            return dtoArr.filter(function (value) {\n                return value.key === data || value.key === data.key;\n            })[0];\n        });\n    }\n\n    function invalidCofinsAliquotaST(cofins) {\n        return !cofins.vBCST || cofins.pCOFINSST == null || !cofins.vCOFINSST;\n    }\n\n    function invalidCofinsAliquota(cofins) {\n        return !cofins.vBC || cofins.pCOFINS == null || !cofins.vCOFINS;\n    }\n\n    function invalidIpiAliquota(ipi) {\n        return !ipi.vBC || ipi.pIPI == null || !ipi.vIPI;\n    }\n\n    function invalidPisAliquotaST(pis) {\n        return !pis.vBCST || pis.pPISST == null || !pis.vPISST;\n    }\n\n    function invalidPisAliquota(pis) {\n        return !pis.vBC || pis.pPIS == null || !pis.vPIS;\n    }\n\n    function invalidIcmsBase(icms) {\n        return !icms.modBC || !icms.vBC || icms.pICMS == null || !icms.vICMS;\n    }\n\n    function invalidIcmsDeson(icms) {\n        return icms.vICMSDeson && !icms.motDesICMS || !icms.vICMSDeson && icms.motDesICMS;\n    }\n\n    function invalidIcmsStBase(icms) {\n        return !icms.modBCST || !icms.pRedBCST || icms.pMVAST == null || !icms.vBCST || icms.pICMSST == null || !icms.vICMSST;\n    }\n\n    function invalidIcmsStRetid(icms) {\n        return !icms.vBCSTRet || !icms.vICMSSTRet || !icms.vBCSTDest || !icms.vICMSSTDest;\n    }\n\n    function invalidIcmsDife(icms) {\n        return !icms.vICMSOp || icms.pDif == null || !icms.vICMSDif;\n    }\n\n    function invalidIcmsStRetidoAnter(icms) {\n        return !icms.vBCSTRet || !icms.vICMSSTRet;\n    }\n\n    function mapEnum(data) {\n        return data.key;\n    }\n\n    function mountIcms(icms) {\n        var obj = {\n            CST: icms.CST,\n            version: icms.version,\n            cfop: icms.cfop,\n            mensagem: icms.mensagem,\n            mensagemRef: icms.mensagemRef,\n            cfopRef: icms.cfopRef,\n            pReducaoBase: icms.pReducaoBase\n        };\n\n        if (icms.CST === 'INTEGRALMENTE_00' || icms.CST === 'COBRANCA_ST_10' || icms.CST === 'OUTRAS_COM_PARTILHA_90' || icms.CST === 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST === 'REDUCAO_BC_20' || icms.CST === 'DIFERIMENTO_51' || icms.CST === 'ST_REDUCAO_BC_70' || icms.CST === 'OUTROS_90') {\n            obj.modBC = icms.modBC;\n            obj.pICMS = icms.pICMS;\n            obj.vBC = icms.vBC;\n            obj.vICMS = icms.vICMS;\n        }\n\n        if (icms.CST === 'COBRANCA_ST_10' || icms.CST === 'OUTRAS_COM_PARTILHA_90' || icms.CST === 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST === 'ISENTA_COM_ST_30' || icms.CST === 'ST_REDUCAO_BC_70' || icms.CST === 'OUTROS_90') {\n            obj.modBCST = icms.modBCST;\n            obj.pICMSST = icms.pICMSST;\n            obj.pMVAST = icms.pMVAST;\n            obj.pRedBCST = icms.pRedBCST;\n            obj.vBCST = icms.vBCST;\n            obj.vICMSST = icms.vICMSST;\n        }\n\n        if (icms.CST === 'OUTRAS_COM_PARTILHA_90' || icms.CST === 'COBRANCA_ST_10_COM_PARTILHA') {\n            obj.UFST = icms.UFST;\n        }\n\n        if (icms.CST === 'REDUCAO_BC_20' || icms.CST === 'ISENTA_COM_ST_30' || icms.CST === 'ISENTA_40' || icms.CST === 'NAO_TRIBUTADA_41' || icms.CST === 'SUSPENSAO_50' || icms.CST === 'ST_REDUCAO_BC_70' || icms.CST === 'OUTROS_90') {\n            obj.vICMSDeson = icms.vICMSDeson;\n            obj.motDesICMS = icms.motDesICMS;\n        }\n\n        if (icms.CST === 'NAO_TRIBUTADA_41_ICMSST') {\n            obj.vBCSTRet = icms.vBCSTRet;\n            obj.vBCSTDest = icms.vBCSTDest;\n            obj.vICMSSTDest = icms.vICMSSTDest;\n            obj.vICMSSTRet = icms.vICMSSTRet;\n        }\n\n        if (icms.CST === 'DIFERIMENTO_51') {\n            obj.pDif = icms.pDif;\n            obj.vICMSDif = icms.vICMSDif;\n            obj.vICMSOp = icms.vICMSOp;\n        }\n\n        if (icms.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60') {\n            obj.vBCSTRet = icms.vBCSTRet;\n            obj.vICMSSTRet = icms.vICMSSTRet;\n        }\n        return obj;\n    }\n\n    function mountIcmsSimples(icms) {\n        var obj = {\n            version: icms.version,\n            cfop: icms.cfop,\n            mensagem: icms.mensagem,\n            CSOSN: icms.CSOSN,\n            mensagemRef: icms.mensagemRef,\n            cfopRef: icms.cfopRef,\n            pReducaoBase: icms.pReducaoBase\n        };\n\n        if (icms.CSOSN === 'CREDITO_101' || icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'OUTROS_900') {\n            obj.pCredSN = icms.pCredSN;\n            obj.vCredICMSSN = icms.vCredICMSSN;\n        }\n\n        if (icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'SEM_CREDITO_COM_ST_202' || icms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' || icms.CSOSN === 'OUTROS_900') {\n            obj.modBCST = icms.modBCST;\n            obj.pICMSST = icms.pICMSST;\n            obj.pMVAST = icms.pMVAST;\n            obj.pRedBCST = icms.pRedBCST;\n            obj.vBCST = icms.vBCST;\n            obj.vICMSST = icms.vICMSST;\n        }\n\n        if (icms.CSOSN === 'ANTECIPACAO_ST_500') {\n            obj.vBCSTRet = icms.vBCSTRet;\n            obj.vICMSSTRet = icms.vICMSSTRet;\n        }\n\n        if (icms.CSOSN === 'OUTROS_900') {\n            obj.modBC = icms.modBC;\n            obj.vBC = icms.vBC;\n            obj.pRedBC = icms.pRedBC;\n            obj.pICMS = icms.pICMS;\n            obj.vICMS = icms.vICMS;\n        }\n        return obj;\n    }\n\n    function mountPis(pis) {\n        var obj = {\n            CST: pis.CST,\n            version: pis.version,\n            mensagem: pis.mensagem\n        };\n\n        switch (pis.CST) {\n            case 'OPERACAO_TRIBUTAVEL_05':\n                obj.calculationTypeST = pis.calculationTypeST;\n                if (pis.calculationTypeST === 'PORCENTAGEM') {\n                    obj.pPISST = pis.pPISST;\n                    obj.vBCST = pis.vBCST;\n                    obj.vPISST = pis.vPISST;\n                }\n                break;\n            case 'OPERACAO_TRIBUTAVEL_01':\n            case 'OPERACAO_TRIBUTAVEL_02':\n                obj.pPIS = pis.pPIS;\n                obj.vBC = pis.vBC;\n                obj.vPIS = pis.vPIS;\n                break;\n            case 'OUTRAS_SAIDAS_49':\n            case 'OPERACOES_CREDITO_50':\n            case 'OPERACOES_CREDITO_51':\n            case 'OPERACOES_CREDITO_52':\n            case 'OPERACOES_CREDITO_53':\n            case 'OPERACOES_CREDITO_54':\n            case 'OPERACOES_CREDITO_55':\n            case 'OPERACOES_CREDITO_56':\n            case 'CREDITO_PRESUMIDO_60':\n            case 'CREDITO_PRESUMIDO_61':\n            case 'CREDITO_PRESUMIDO_62':\n            case 'CREDITO_PRESUMIDO_63':\n            case 'CREDITO_PRESUMIDO_64':\n            case 'CREDITO_PRESUMIDO_65':\n            case 'CREDITO_PRESUMIDO_66':\n            case 'CREDITO_PRESUMIDO_67':\n            case 'AQUISICAO_SEM_CREDITO_70':\n            case 'AQUISICAO_ISENTA_71':\n            case 'AQUISICAO_COM_SUSPENSAO_72':\n            case 'AQUISICAO_ALIQUOTA_ZERO_73':\n            case 'AQUISICAO_SEM_CONTRIBUICAO_74':\n            case 'AQUISICAO_ST_75':\n            case 'OUTRAS_ENTRADAS_98':\n            case 'OUTRAS_99':\n                obj.calculationType = pis.calculationType;\n                if (pis.calculationType === 'PORCENTAGEM') {\n                    obj.pPIS = pis.pPIS;\n                    obj.vBC = pis.vBC;\n                    obj.vPIS = pis.vPIS;\n                }\n                break;\n            default:\n        }\n        return obj;\n    }\n\n    function mountCofins(cofins) {\n        var obj = {\n            CST: cofins.CST,\n            version: cofins.version,\n            mensagem: cofins.mensagem\n        };\n        switch (cofins.CST) {\n            case 'OPERACAO_TRIBUTAVEL_05':\n                obj.calculationTypeST = cofins.calculationTypeST;\n                if (cofins.calculationTypeST === 'PORCENTAGEM') {\n                    obj.pCOFINSST = cofins.pCOFINSST;\n                    obj.vBCST = cofins.vBCST;\n                    obj.vCOFINSST = cofins.vCOFINSST;\n                }\n                break;\n            case 'OPERACAO_TRIBUTAVEL_01':\n            case 'OPERACAO_TRIBUTAVEL_02':\n                obj.pCOFINS = cofins.pCOFINS;\n                obj.vBC = cofins.vBC;\n                obj.vCOFINS = cofins.vCOFINS;\n                break;\n            case 'OUTRAS_SAIDAS_49':\n            case 'OPERACOES_CREDITO_50':\n            case 'OPERACOES_CREDITO_51':\n            case 'OPERACOES_CREDITO_52':\n            case 'OPERACOES_CREDITO_53':\n            case 'OPERACOES_CREDITO_54':\n            case 'OPERACOES_CREDITO_55':\n            case 'OPERACOES_CREDITO_56':\n            case 'CREDITO_PRESUMIDO_60':\n            case 'CREDITO_PRESUMIDO_61':\n            case 'CREDITO_PRESUMIDO_62':\n            case 'CREDITO_PRESUMIDO_63':\n            case 'CREDITO_PRESUMIDO_64':\n            case 'CREDITO_PRESUMIDO_65':\n            case 'CREDITO_PRESUMIDO_66':\n            case 'CREDITO_PRESUMIDO_67':\n            case 'AQUISICAO_SEM_CREDITO_70':\n            case 'AQUISICAO_ISENTA_71':\n            case 'AQUISICAO_COM_SUSPENSAO_72':\n            case 'AQUISICAO_ALIQUOTA_ZERO_73':\n            case 'AQUISICAO_SEM_CONTRIBUICAO_74':\n            case 'AQUISICAO_ST_75':\n            case 'OUTRAS_ENTRADAS_98':\n            case 'OUTRAS_99':\n                obj.calculationType = cofins.calculationType;\n                if (cofins.calculationType === 'PORCENTAGEM') {\n                    obj.pCOFINS = cofins.pCOFINS;\n                    obj.vBC = cofins.vBC;\n                    obj.vCOFINS = cofins.vCOFINS;\n                }\n                break;\n            default:\n                break;\n        }\n        return obj;\n    }\n\n    function mountIpi(ipi) {\n        var obj = {\n            CST: ipi.CST,\n            version: ipi.version,\n            mensagem: ipi.mensagem,\n            enquadramentoIpi: ipi.enquadramentoIpi\n        };\n\n        switch (ipi.CST) {\n            case 'ENTRADA_RECUPERACAO_CREDITO_00':\n            case 'OUTRAS_ENTRADAS_49':\n            case 'SAIDA_TRIBUTADA_50':\n            case 'OUTRAS_SAIDAS_99':\n                obj.ipiCalculationType = ipi.ipiCalculationType;\n                if (ipi.ipiCalculationType === 'PORCENTAGEM') {\n                    obj.pIPI = ipi.pIPI;\n                    obj.vBC = ipi.vBC;\n                    obj.vIPI = ipi.vIPI;\n                }\n                break;\n            default:\n        }\n        return obj;\n    }\n\n    function mountConflicts(values) {\n        $scope.stateOriginConflicts = mountNewArr(values, 'destinations', 'key');\n        $scope.stateDestinationConflicts = mountNewArr(values, 'destinations', 'key');\n        $scope.personGroupConflicts = mountNewArr(values, 'personGroup', 'key');\n        $scope.operationConflicts = mountNewArr(values, 'operationTypes', 'id');\n        $scope.productGroupConflicts = mountNewArr(values, 'productGroups', 'id');\n    }\n\n    function mountNewArr(arr, field, comparationField) {\n        var newArr = [],\n            toReturn = [];\n        arr.forEach(function (data) {\n            data[field].forEach(function (value) {\n                newArr[value[comparationField]] = value;\n            });\n        });\n        for (key in newArr) {\n            toReturn.push(newArr[key]);\n        }\n        return toReturn;\n    }\n\n    function operationConditional(value) {\n        return {\n            '2px solid red': function pxSolidRed() {\n                return $scope.operationConflicts.filter(function (data) {\n                    return data.id === value.id;\n                }).length > 0;\n            }\n        };\n    }\n\n    $scope.showAliquotaGroup = function (icms) {\n        return icms.CSOSN === 'CREDITO_101' || icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'OUTROS_900';\n    };\n    $scope.showIcmsStSimple = function (icms) {\n        return icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'SEM_CREDITO_COM_ST_202' || icms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' || icms.CSOSN === 'OUTROS_900';\n    };\n    $scope.showSimples = function (icms) {\n        return icms.CSOSN === 'CREDITO_101' || icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'OUTROS_900';\n    };\n    $scope.showSimplesSt = function (icms) {\n        return icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'SEM_CREDITO_COM_ST_202' || icms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' || icms.CSOSN === '' || icms.CSOSN === 'OUTROS_900';\n    };\n    $scope.isFCPVisible = function (icms) {\n        return icms.CSOSN !== 'IMUNE_300' && icms.CSOSN !== 'NAO_TRIBUTADA_400' && icms.CST !== 'NAO_TRIBUTADA_41' && icms.CST !== 'NAO_TRIBUTADA_41_ICMSST';\n    };\n\n    $scope.searchEnquadramento = function (param) {\n        return CodigoEnquadramentoIpiService.getSearch('descricao,codigo', param).then(function (data) {\n            return data.data.values;\n        });\n    };\n}\nmodule.exports = TaxSettingsFormController;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nTaxSettingsListController.$inject = ['TaxationGroupService', '$scope', 'gumgaController'];\nfunction TaxSettingsListController(TaxationGroupService, $scope, gumgaController) {\n    gumgaController.createRestMethods($scope, TaxationGroupService, 'taxationGroup');\n\n    $scope.conf = {\n        columns: 'tribute,titleParameterization',\n        selection: 'single',\n        materialTheme: true,\n        activeLineColor: '#cccccc',\n        hoverLineColor: '#f5f5f5',\n        itemsPerPage: [5, 10, 25, 50, 100],\n        title: 'Listagem de Tributos',\n        columnsConfig: [{\n            name: 'tribute',\n            size: 'col-md-3',\n            title: '<strong gumga-translate-tag=\"taxsettings.tribute\">Tribute</strong>',\n            content: '<div>{{$value.taxationICMS?\\' ICMS\\':\\'\\'}}{{$value.taxationIPI?\\' IPI\\':\\'\\'}}{{$value.taxationPIS?\\' PIS\\':\\'\\'}}{{$value.taxationCOFINS?\\' COFINS\\':\\'\\'}}</div>'\n        }, {\n            name: 'titleParameterization',\n            size: 'col-md-8',\n            title: '<strong gumga-translate-tag=\"taxsettings.titleparameterization\">Title parameterization</strong>',\n            content: '<div>{{$value.name}}</div>'\n        }]\n    };\n\n    $scope.taxationGroup.execute('reset');\n    $scope.taxationGroup.methods.getLatestOperation();\n    $scope.taxationGroup.on('deleteSuccess', function () {\n        $scope.taxationGroup.methods.getLatestOperation();\n    });\n}\nmodule.exports = TaxSettingsListController;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(0);\n\nmodule.exports = angular.module('app.taxsettings.controllers', ['app.taxsettings.services', 'ui.router']).controller('TaxSettingsFormController', __webpack_require__(5)).controller('ModalConflitoController', __webpack_require__(4)).controller('TaxSettingsListController', __webpack_require__(6));\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(7);\n__webpack_require__(0);\n\nvar list = __webpack_require__(15);\nvar form = __webpack_require__(14);\n\nmodule.exports = angular.module('app.taxsettings', ['ui.router', 'app.taxsettings.controllers', 'app.taxsettings.services', 'api.location']).config(['$stateProvider', 'apiLocation', function ($stateProvider, apiLocation) {\n    $stateProvider.state('taxsettings.list', {\n        url: '/list',\n        templateUrl: list,\n        controller: 'TaxSettingsListController',\n        data: { id: 2 }\n    }).state('taxsettings.insert', {\n        url: '/insert',\n        templateUrl: form,\n        controller: 'TaxSettingsFormController',\n        controllerAs: 'form',\n        data: { id: 3 }, resolve: {\n            entity: ['$stateParams', '$http', 'TaxationGroupService', '$q', function ($stateParams, $http, TaxationGroupService, $q) {\n                var url = apiLocation + '/api/taxationgroup/new';\n                if (TaxationGroupService.newEntity) {\n                    return $q(function (resolve) {\n                        var ent = angular.copy(TaxationGroupService.newEntity);\n                        delete TaxationGroupService.newEntity;\n                        resolve({ data: ent });\n                    });\n                };\n                return $http.get(url);\n            }]\n        }\n    }).state('taxsettings.edit', {\n        url: '/edit/:id',\n        templateUrl: form,\n        controller: 'TaxSettingsFormController',\n        data: { id: 3 }, resolve: {\n            entity: ['$stateParams', '$http', function ($stateParams, $http) {\n                var url = apiLocation + '/api/taxationgroup/' + $stateParams.id;\n                return $http.get(url);\n            }]\n        }\n    });\n}]);\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nCodigoEnquadramentoIpiService.$inject = ['GumgaRest', 'apiLocation'];\nfunction CodigoEnquadramentoIpiService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/codigoenquadramentoipi');\n    return service;\n}\nmodule.exports = CodigoEnquadramentoIpiService;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nFormulaService.$inject = ['GumgaRest', 'apiLocation'];\nfunction FormulaService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/formula');\n\n    return service;\n}\nmodule.exports = FormulaService;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nMensagemService.$inject = ['GumgaRest', 'apiLocation'];\nfunction MensagemService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/mensagem');\n\n    service.getAttributeMessageNames = function () {\n        return service.extend('get', '/attributemessagenames');\n    };\n\n    service.getTiposMensagem = function () {\n        return service.extend('get', '/tiposmensagem');\n    };\n\n    return service;\n}\nmodule.exports = MensagemService;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nTaxationGroupService.$inject = ['GumgaRest', 'apiLocation'];\nfunction TaxationGroupService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/taxationgroup');\n\n    service.saveValiding = function (entity) {\n        if (!entity.id) {\n            return this.extend('post', '/validatesave', entity);\n        }\n        return this.extend('put', '/validatesave', entity);\n    };\n    service.getStateList = function () {\n        return this.extend('get', '/state');\n    };\n\n    service.getICMSTypes = function () {\n        return this.extend('get', '/icmscst');\n    };\n\n    service.getCsosnTypes = function () {\n        return this.extend('get', '/csosntypes');\n    };\n\n    service.getIPITypes = function () {\n        return this.extend('get', '/ipicst');\n    };\n\n    service.getPISTypes = function () {\n        return this.extend('get', '/piscst');\n    };\n\n    service.getCalculationTypes = function () {\n        return this.extend('get', '/calculationtype');\n    };\n\n    service.getModeCalculationBaseTypes = function () {\n        return this.extend('get', '/modecalculationbase');\n    };\n\n    service.getModeCalculationBaseSTTypes = function () {\n        return this.extend('get', '/modecalculationbasest');\n    };\n\n    service.getUnburdeningMotives = function () {\n        return this.extend('get', '/unburdeningmotive');\n    };\n\n    service.getCofinsPisTypes = function () {\n        return this.extend('get', '/cofinscst');\n    };\n\n    return service;\n}\nmodule.exports = TaxationGroupService;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nvar path = '/modules/taxsettings/views/form.html';\nvar html = \"<form name=\\\"forms\\\" novalidate gumga-form>\\n    <div class=\\\"row\\\" style=\\\"font-size: 12px\\\">\\n        <div class=\\\"col-lg-10 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1 align-layout-panel cl-dark-primary text-uppercase\\\"\\n            style=\\\"margin: 10px; margin-left: 130px\\\">\\n            <label style=\\\"font-size: 24px\\\" class=\\\"ng-binding\\\">CADASTRO DE TRIBUTOS</label>\\n        </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-10 col-md-offset-1\\\">\\n            <!--Arvore de tributao-->\\n            <div class=\\\"panel gmd\\\" >\\n                <div class=\\\"panel-body\\\">\\n                    <div class=\\\"row\\\">\\n                        <!--Passo 1-->\\n                        <div ng-hide=\\\"step2\\\" class=\\\"list-tax-scroll\\\">\\n                            <!--Tipo de operao-->\\n                            <div class=\\\"list-tax-option\\\" align=\\\"center\\\" style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.operation\\\" class=\\\"b\\\">OPERATION</h4>\\n                                    <a ng-click=\\\"entity.operationTypes = operationTypesList;\\\">Adicionar todos</a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\" search-field=\\\"name\\\" filter-option-by=\\\"contains\\\" full-mode ng-model=\\\"entity.operationTypes\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.operationTypes\\\" ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in operationTypesList\\\" ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Origem-->\\n                            <div class=\\\"list-tax-option\\\" align=\\\"center\\\" style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.origin\\\" class=\\\"b\\\">ORIGIN</h4>\\n                                    <a ng-click=\\\"entity.origins = stateOriginList;\\\">Adicionar todos</a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\" search-field=\\\"label\\\" filter-option-by=\\\"contains\\\" full-mode ng-model=\\\"entity.origins\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.origins\\\" ng-value=\\\"item\\\">\\n                                            {{item.label}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in stateOriginList\\\" ng-value=\\\"option\\\">\\n                                            {{option.label}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Destino-->\\n                            <div class=\\\"list-tax-option\\\" align=\\\"center\\\" style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.destination\\\" class=\\\"b\\\">DESTINATION</h4>\\n                                    <a ng-click=\\\"entity.destinations = stateDestinationList;\\\">Adicionar todos</a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\" search-field=\\\"label\\\" filter-option-by=\\\"contains\\\" full-mode ng-model=\\\"entity.destinations\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.destinations\\\" ng-value=\\\"item\\\">\\n                                            {{item.label}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in stateDestinationList\\\" ng-value=\\\"option\\\">\\n                                            {{option.label}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Tipo de Pessoa-->\\n                            <div class=\\\"list-tax-option\\\" align=\\\"center\\\" style=\\\"font-size: 11px;\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.person\\\" class=\\\"b\\\">PERSON</h4>\\n                                    <a ng-click=\\\"entity.personGroups = personGroupList;\\\">Adicionar todos</a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\" search-field=\\\"name\\\" filter-option-by=\\\"contains\\\" full-mode ng-model=\\\"entity.personGroups\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.personGroups\\\" ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in personGroupList\\\" ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Tipo de Produto-->\\n                            <div class=\\\"list-tax-option\\\" align=\\\"center\\\" style=\\\"font-size: 11px;\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.product\\\" class=\\\"b\\\">PRODUCT</h4>\\n                                    <a ng-click=\\\"entity.productGroups = productGroupList;\\\">Adicionar todos</a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\" search-field=\\\"name\\\" filter-option-by=\\\"contains\\\" full-mode ng-model=\\\"entity.productGroups\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.productGroups\\\" ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in productGroupList\\\" ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <div>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-primary btn-circle btn-lg form-control\\\" uib-tooltip=\\\"Tributar\\\" style=\\\"margin-top: 127px;margin-left: 25px;margin-right: 10px;\\\"\\n                                    ng-click=\\\"openPanel('openTaxation')\\\" ng-disabled=\\\"blockBtnTributos(entity)\\\">\\n                                    <i class=\\\"fa fa-calculator fa-lg\\\" style=\\\"margin-left: -3px;\\\"></i>\\n                                </button>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <!--Nome da tributao-->\\n            <div class=\\\"panel gmd\\\" ng-if=\\\"openTaxation\\\">\\n                <div class=\\\"panel-body\\\">\\n                    <div class=\\\"row m-t\\\">\\n                        <div class=\\\"col-md-12\\\">\\n                            <gmd-input>\\n                                <input type=\\\"text\\\" class=\\\"form-control gmd\\\" ng-model=\\\"entity.name\\\" style=\\\"font-size: 20px\\\" />\\n                                <span class=\\\"bar\\\"></span>\\n                                <label class=\\\"control-label\\\" gumga-translate-tag=\\\"taxsettings.titleparameterization\\\">Title parameterization\\n                                </label>\\n                            </gmd-input>\\n                        </div>\\n                    </div>\\n                    <!--ICMS-->\\n                    <div class=\\\"panel gmd\\\">\\n                        <div align=\\\"left\\\" class=\\\"panel-heading\\\">\\n                            <label class=\\\"btn-link\\\" ng-click=\\\"showICMS = !showICMS\\\" style=\\\"font-size: 14px\\\">\\n                                <i ng-class=\\\"{'fa fa-caret-down' :showICMS, 'fa fa-caret-right':!showICMS}\\\"></i>\\n                                <span>PARMETROS DA TRIBUTAO DO ICMS</span>\\n                            </label>\\n                        </div>\\n                        <div class=\\\"panel-body\\\" ng-show=\\\"showICMS\\\" style=\\\"font-size: 13px\\\">\\n                            <div class=\\\"row container-fluid\\\">\\n\\n                                <div class=\\\"row m-t\\\">\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>CFOP</label>\\n                                        <gumga-many-to-one value=\\\"icms.cfop\\\" search-method=\\\"getCfopIcms(param)\\\" field=\\\"descricao\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.codigo}}</div>\\n                                                <div>{{match.model.descricao}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\" ng-show=\\\"icmsNormal\\\">\\n                                        <label>CST</label>\\n                                        <select name=\\\"icmsCst\\\" id=\\\"icmsCst\\\" ng-model=\\\"icms.CST\\\" ng-options=\\\"cst.key as cst.label for cst in icmsTypes\\\" class=\\\"form-control\\\"></select>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\" ng-hide=\\\"icmsNormal\\\">\\n                                        <label>CSOSN</label>\\n                                        <select name=\\\"CSOSN\\\" id=\\\"CSOSN\\\" ng-model=\\\"icms.CSOSN\\\" ng-options=\\\"cst.key as cst.label for cst in csosnTypes\\\" class=\\\"form-control\\\"></select>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>Mensagem</label>\\n                                        <gumga-many-to-one value=\\\"icms.mensagem\\\" search-method=\\\"getMensagem(param,'ICMS')\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\">\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>CFOP para referenciado</label>\\n                                        <gumga-many-to-one value=\\\"icms.cfopRef\\\" search-method=\\\"getCfopIcms(param)\\\" field=\\\"descricao\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.codigo}}</div>\\n                                                <div>{{match.model.descricao}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\" ng-if=\\\"icms.CSOSN === 'ANTECIPACAO_ST_500'\\\" style=\\\"margin-top: 17px;\\\">\\n                                        <gmd-input>\\n                                            <input type=\\\"text\\\" class=\\\"form-control gmd\\\" ui-percentage-mask ng-model=\\\"icms.pReducaoBase\\\" id=\\\"pReducaoBase\\\">\\n                                            <span class=\\\"bar\\\"></span>\\n                                            <label for=\\\"pReducaoBase\\\" class=\\\"control-label\\\">Reduo da base de calculo</label>\\n                                        </gmd-input>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>Mensagem para referenciado</label>\\n                                        <gumga-many-to-one value=\\\"icms.mensagemRef\\\" search-method=\\\"getMensagem(param,'ICMS')\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\" ng-show=\\\"icmsNormal\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div ng-hide=\\\"isIcmsAble(icms)\\\">\\n                                            <div class=\\\"row\\\" align=\\\"center\\\">\\n                                                <h4 class=\\\"b\\\">\\n                                                    ICMS</h4>\\n                                            </div>\\n                                            <div ng-show=\\\"isIcmsStandartGroupAble(icms)\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Modalidade Deter. da BC ICMS</label>\\n                                                        <select name=\\\"icmsModBC\\\" id=\\\"icmsModBC\\\" ng-model=\\\"icms.modBC\\\" class=\\\"form-control\\\" ng-options=\\\"mod.key as mod.label for mod in modeCalculationBaseList\\\"></select>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Frmula Valor da BC ICMS</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vBC\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Alquota ICMS</label>\\n                                                        <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMS\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Frmula Valor ICMS</label>\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vICMS\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\" ng-show=\\\"isRedGroupAble(icms)\\\">\\n                                                <div class=\\\"col-md-5 m-t container-fluid\\\">\\n                                                    <label>Reduo da BC ICMS</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"icms.pRedBC\\\" ui-percentage-mask/>\\n                                                </div>\\n                                                <div class=\\\"col-md-7 m-t\\\" ng-hide=\\\"!(icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'OUTRAS_COM_PARTILHA_90')\\\">\\n                                                    <label>BC da operao prpria</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"icms.pBCOp\\\" ui-percentage-mask/>\\n                                                </div>\\n                                            </div>\\n                                            <div ng-show=\\\"isIcmsDesoGroupAble(icms)\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-7 m-t\\\">\\n                                                        <label>Valor ICMS Desonerado</label>\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSDeson\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"col-md-12 m-t\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <label>Motivo da desonerao</label>\\n                                                        <select name=\\\"icmsMotDes\\\" id=\\\"icmsMotDes\\\" ng-model=\\\"icms.motDesICMS\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in unburdeningMotiveList\\\"></select>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div ng-show=\\\"icms.CST == 'DIFERIMENTO_51'\\\">\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>ICMS da Operao</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSOp\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Percentual do Diferimento</label>\\n                                                        <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pDif\\\" />\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Valor do ICMS diferido</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSDif\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\" ng-show=\\\"isFCPVisible(icms)\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Alquota interna da UF de destino</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMSUFDest\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Perc. Fundo Comb.  Pobreza</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pFCPUFDest\\\" />\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\" ng-hide=\\\"isIcmsStAble(icms)\\\">\\n                                        <div class=\\\"row\\\" align=\\\"center\\\">\\n                                            <h4 class=\\\"b\\\">\\n                                                ICMS ST</h4>\\n                                        </div>\\n                                        <div ng-hide=\\\"isIcmsStStandartGroupAble(icms)\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-7\\\">\\n                                                    <label>Modalidade Deter. da BC ICMS ST</label>\\n                                                    <select name=\\\"icmsmodBCST\\\" id=\\\"icmsBCST\\\" ng-model=\\\"icms.modBCST\\\" class=\\\"form-control\\\" ng-options=\\\"modst.key as modst.label for modst in modeCalculationBaseSTList\\\"></select>\\n                                                </div>\\n                                                <div class=\\\"col-md-5\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Reduo BC ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pRedBCST\\\" />\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\">\\n                                                <div class=\\\"col-md-5\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Margem valor adic. ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pMVAST\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-7\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Frmula Valor BC ICMS ST</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vBCST\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\">\\n                                                <div class=\\\"col-md-5\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Alquota ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMSST\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-7\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Frmula Valor ICMS ST</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSST\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row m-t\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'OUTRAS_COM_PARTILHA_90'\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>UF do ICMS ST devido na operao</label>\\n                                                <select name=\\\"icmsuficmsdo\\\" id=\\\"icmsuficmsdo\\\" ng-model=\\\"icms.UFST\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in stateList\\\"></select>\\n                                            </div>\\n                                        </div>\\n                                        <div ng-show=\\\"icms.CST == 'ISENTA_COM_ST_30'\\\">\\n                                            <div class=\\\"row m-t\\\">\\n                                                <div class=\\\"col-md-5\\\">\\n                                                    <label>Valor ICMS Desonerado</label>\\n\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSDeson\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"col-md-12 m-t\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <label>Motivo da desonerao</label>\\n                                                    <select name=\\\"modIcmsSetDeson\\\" id=\\\"modIcmsSetDeson\\\" ng-model=\\\"icms.motDesICMS\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in unburdeningMotiveList\\\"></select>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row\\\" ng-show=\\\"icms.CST == 'NAO_TRIBUTADA_41_ICMSST' || icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label ng-hide=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">BC ICMS ST retido na UF remet.</label>\\n                                                <label ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">BC ICMS ST retido anteriormente</label>\\n                                                <gumga-many-to-one value=\\\"icms.vBCSTRet\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label ng-hide=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">ICMS ST retido na UF remet.</label>\\n                                                <label ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">ICMS ST retido anteriormente\\n                                                </label>\\n                                                <gumga-many-to-one value=\\\"icms.vICMSSTRet\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row\\\">\\n                                            <div class=\\\"col-md-5\\\" ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60' ||icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                <label>Reduo ICMS ST Prprio</label>\\n                                                <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pRedIMCSSTProp\\\" />\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row m-t\\\" ng-show=\\\"icms.CST == 'NAO_TRIBUTADA_41_ICMSST'\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>BC ICMS ST da UF destino</label>\\n\\n                                                <gumga-many-to-one value=\\\"icms.vBCSTDest\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>ICMS ST da UF destino</label>\\n                                                <gumga-many-to-one value=\\\"icms.vICMSSTDest\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\" ng-hide=\\\"icmsNormal\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div ng-show=\\\"showSimples(icms)\\\">\\n                                            <div class=\\\"row \\\" align=\\\"center\\\">\\n                                                <h4 class=\\\"b\\\">\\n                                                    ICMS</h4>\\n                                            </div>\\n                                            <div ng-show=\\\"icms.CSOSN === 'OUTROS_900'\\\" class=\\\"m-b\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Modalidade Deter. da BC ICMS</label>\\n                                                        <select name=\\\"icmsModBC\\\" ng-model=\\\"icms.modBC\\\" class=\\\"form-control\\\" ng-options=\\\"mod.key as mod.label for mod in modeCalculationBaseList\\\"></select>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Frmula Valor da BC ICMS</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vBC\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Alquota ICMS</label>\\n                                                        <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMS\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Frmula Valor ICMS</label>\\n\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vICMS\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-5 m-t container-fluid\\\">\\n                                                        <label>Reduo da BC ICMS</label>\\n                                                        <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"icms.pRedBC\\\" ui-percentage-mask/>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row \\\" ng-if=\\\"showAliquotaGroup(icms)\\\">\\n                                                <div class=\\\"col-md-7\\\" ng-show=\\\"icms.CSOSN !== 'CREDITO_101'\\\">\\n                                                    <label>Alquota aplicvel de clculo do crdito</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pCredSN\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-5\\\">\\n                                                    <label>Frmula Vl. crdito do ICMS</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vCredICMSSN\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\" ng-show=\\\"isFCPVisible(icms)\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Alquota interna da UF de destino</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMSUFDest\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Perc. Fundo Comb.  Pobreza</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pFCPUFDest\\\" />\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\" ng-show=\\\"showSimplesSt(icms)\\\">\\n                                        <div class=\\\"row\\\" align=\\\"center\\\">\\n                                            <h4 class=\\\"b\\\">\\n                                                ICMS ST</h4>\\n                                        </div>\\n                                        <div ng-show=\\\"showIcmsStSimple(icms)\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-7\\\">\\n                                                    <label>Modalidade Deter. da BC ICMS ST</label>\\n                                                    <select name=\\\"icmsmodBCST\\\" ng-model=\\\"icms.modBCST\\\" class=\\\"form-control\\\" ng-options=\\\"modst.key as modst.label for modst in modeCalculationBaseSTList\\\"></select>\\n                                                </div>\\n                                                <div class=\\\"col-md-5\\\">\\n                                                    <label>Reduo BC ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pRedBCST\\\" />\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\">\\n                                                <div class=\\\"col-md-5\\\" ng-if=\\\"icms.modBCST !== 'PAUTA'\\\">\\n                                                    <label>Margem valor adic. ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pMVAST\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-7 pull-right\\\">\\n                                                    <label>Frmula Valor BC ICMS ST</label>\\n\\n                                                    <gumga-many-to-one value=\\\"icms.vBCST\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\">\\n                                                <div class=\\\"col-md-5\\\">\\n                                                    <label>Alquota ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMSST\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-7\\\">\\n                                                    <label>Frmula Valor ICMS ST</label>\\n\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSST\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row\\\" ng-show=\\\"icms.CSOSN === ''\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>BC ICMS ST retido anteriormente</label>\\n                                                <gumga-many-to-one value=\\\"icms.vBCSTRet\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>ICMS ST retido anteriormente\\n                                                </label>\\n                                                <gumga-many-to-one value=\\\"icms.vICMSSTRet\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <!--PIS-->\\n                    <div class=\\\"panel gmd\\\">\\n                        <div align=\\\"left\\\" class=\\\"panel-heading\\\">\\n                            <label class=\\\"btn-link\\\" ng-click=\\\"showPIS = !showPIS\\\" style=\\\"font-size: 14px\\\">\\n                                <i ng-class=\\\"{'fa fa-caret-down' :showPIS, 'fa fa-caret-right':!showPIS}\\\"></i>\\n                                <span>PARMETROS DA TRIBUTAO DO PIS</span>\\n                            </label>\\n                        </div>\\n                        <div class=\\\"panel-body\\\" ng-show=\\\"showPIS\\\" style=\\\"font-size: 13px\\\">\\n                            <div class=\\\"row container-fluid\\\">\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>CST</label>\\n                                        <select name=\\\"cstpis\\\" id=\\\"cstpis\\\" ng-model=\\\"pis.CST\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in cstpis\\\"></select>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>Mensagem</label>\\n\\n                                        <gumga-many-to-one value=\\\"pis.mensagem\\\" search-method=\\\"getMensagem(param,'PIS')\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\" ng-hide=\\\"isPisAble(pis)\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div ng-hide=\\\"pis.CST == 'OPERACAO_TRIBUTAVEL_05'\\\">\\n\\n                                            <div class=\\\"row\\\">\\n                                                <h4 class=\\\"b\\\" align=\\\"center\\\">PIS</h4>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-6\\\" ng-hide=\\\"isPisOperationTypeUnable(pis)\\\">\\n                                                    <label>Tipo de clculo</label>\\n                                                    <select name=\\\"calculationpis\\\" id=\\\"calculationpis\\\" ng-model=\\\"pis.calculationType\\\" class=\\\"form-control\\\" ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                </div>\\n                                                <div class=\\\"row\\\" ng-show=\\\"isPisAliquotaAble(pis)\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n                                                        <div class=\\\"row\\\">\\n                                                            <div class=\\\"col-md-12\\\">\\n\\n                                                                <div class=\\\"col-md-6\\\">\\n                                                                    <label>Valor da base de clculo</label>\\n\\n                                                                    <gumga-many-to-one value=\\\"pis.vBC\\\" search-method=\\\"getFormulaPis(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\" editable=\\\"false\\\">\\n                                                                        <match>\\n                                                                            <div>{{match.model.name}}</div>\\n                                                                        </match>\\n                                                                    </gumga-many-to-one>\\n                                                                </div>\\n                                                                <div class=\\\"col-md-6\\\">\\n                                                                    <label>Alquota (percentual)</label>\\n                                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"pis.pPIS\\\" />\\n                                                                </div>\\n\\n                                                            </div>\\n                                                        </div>\\n\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor do PIS</label>\\n\\n                                                            <gumga-many-to-one value=\\\"pis.vPIS\\\" search-method=\\\"getFormulaPis(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\" editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\" ng-show=\\\"pis.CST === 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                        <div class=\\\"row\\\">\\n                                            <h4 class=\\\"b\\\" align=\\\"center\\\">PIS ST</h4>\\n                                        </div>\\n                                        <div class=\\\"row\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>Tipo de clculo</label>\\n                                                <select name=\\\"calculationpisst\\\" id=\\\"calculationpisst\\\" ng-model=\\\"pis.calculationTypeST\\\" class=\\\"form-control\\\" ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row\\\" ng-show=\\\" pis.calculationTypeST == 'PORCENTAGEM'\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-12\\\">\\n                                                    <div class=\\\"col-md-6 m-t\\\">\\n                                                        <label>Valor da base de clculo</label>\\n\\n                                                        <gumga-many-to-one value=\\\"pis.vBCST\\\" search-method=\\\"getFormulaPis(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-6 m-t\\\">\\n                                                        <label>Alquota (percentual)</label>\\n                                                        <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"pis.pPISST\\\" />\\n                                                    </div>\\n\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-12\\\">\\n                                                    <div class=\\\"col-md-6 m-t\\\">\\n                                                        <label>Valor do PIS ST</label>\\n\\n                                                        <gumga-many-to-one value=\\\"pis.vPISST\\\" search-method=\\\"getFormulaPis(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <!--COFINS-->\\n                    <div class=\\\"panel gmd\\\">\\n                        <div align=\\\"left\\\" class=\\\"panel-heading\\\">\\n                            <label class=\\\"btn-link\\\" ng-click=\\\"showCOFINS = !showCOFINS\\\" style=\\\"font-size: 14px\\\">\\n                                <i ng-class=\\\"{'fa fa-caret-down':showCOFINS, 'fa fa-caret-right':!showCOFINS}\\\"></i>\\n                                <span>PARMETROS DA TRIBUTAO DO COFINS</span>\\n                            </label>\\n                        </div>\\n                        <div class=\\\"panel-body\\\" ng-show=\\\"showCOFINS\\\" style=\\\"font-size: 13px\\\">\\n                            <div class=\\\"row container-fluid\\\">\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>CST</label>\\n                                        <select name=\\\"cstcofins\\\" id=\\\"cstcofins\\\" ng-model=\\\"cofins.CST\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in cstpis\\\"></select>\\n\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>Mensagem</label>\\n                                        <gumga-many-to-one value=\\\"cofins.mensagem\\\" search-method=\\\"getMensagem(param,'COFINS')\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\" ng-hide=\\\"isCofinsAble(cofins)\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div ng-hide=\\\"cofins.CST == 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <h4 class=\\\"b\\\" align=\\\"center\\\">COFINS</h4>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-6\\\" ng-hide=\\\"isCofinsOperationTypeUnable(cofins)\\\">\\n                                                    <label>Tipo de clculo</label>\\n                                                    <select name=\\\"calculationcofins\\\" id=\\\"calculationcofins\\\" ng-model=\\\"cofins.calculationType\\\" class=\\\"form-control\\\" ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                </div>\\n                                                <div class=\\\"row\\\" ng-show=\\\"isCofinsAliquotaAble(cofins)\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n                                                        <div class=\\\"row\\\">\\n                                                            <div class=\\\"col-md-12\\\">\\n                                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                                    <label>Valor da base de clculo</label>\\n\\n                                                                    <gumga-many-to-one value=\\\"cofins.vBC\\\" search-method=\\\"getFormulaCofins(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                                        editable=\\\"false\\\">\\n                                                                        <match>\\n                                                                            <div>{{match.model.name}}</div>\\n                                                                        </match>\\n                                                                    </gumga-many-to-one>\\n                                                                </div>\\n                                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                                    <label>Alquota (percentual)</label>\\n                                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"cofins.pCOFINS\\\" />\\n                                                                </div>\\n                                                            </div>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor do COFINS</label>\\n\\n                                                            <gumga-many-to-one value=\\\"cofins.vCOFINS\\\" search-method=\\\"getFormulaCofins(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                                editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\" ng-show=\\\"cofins.CST === 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                        <div class=\\\"row\\\">\\n                                            <h4 class=\\\"b\\\" align=\\\"center\\\">COFINS ST</h4>\\n                                        </div>\\n                                        <div class=\\\"row\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>Tipo de clculo</label>\\n                                                <select name=\\\"calculationcofinsst\\\" id=\\\"calculationcofinsst\\\" ng-model=\\\"cofins.calculationTypeST\\\" class=\\\"form-control\\\" ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                            </div>\\n                                        </div>\\n                                        <div ng-show=\\\"cofins.calculationTypeST == 'PORCENTAGEM'\\\">\\n                                            <div class=\\\"row\\\">\\n\\n                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                    <label>Valor da base de clculo</label>\\n\\n                                                    <gumga-many-to-one value=\\\"cofins.vBCST\\\" search-method=\\\"getFormulaCofins(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                                <div class=\\\"col-md-4 m-t\\\">\\n                                                    <label>Alquota (percentual)</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"cofins.pCOFINSST\\\" />\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n\\n                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                    <label>Valor do COFINS ST</label>\\n\\n                                                    <gumga-many-to-one value=\\\"cofins.vCOFINSST\\\" search-method=\\\"getFormulaCofins(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <!--IPI-->\\n                    <div class=\\\"panel gmd\\\">\\n                        <div align=\\\"left\\\" class=\\\"panel-heading\\\">\\n                            <label class=\\\"btn-link\\\" ng-click=\\\"showIPI = !showIPI\\\" style=\\\"font-size: 14px\\\">\\n                                <i ng-class=\\\"{'fa fa-caret-down' :showIPI, 'fa fa-caret-right':!showIPI }\\\"></i>\\n                                <span>PARMETROS DA TRIBUTAO DO IPI</span>\\n                            </label>\\n                        </div>\\n                        <div class=\\\"panel-body\\\" ng-show=\\\"showIPI\\\" style=\\\"font-size: 13px\\\">\\n                            <div class=\\\"row container-fluid\\\">\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>CST</label>\\n                                        <select name=\\\"cstipi\\\" id=\\\"cstipi\\\" ng-model=\\\"ipi.CST\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in cstipi\\\"></select>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>Cd. Enquadramento legal do IPI</label>\\n                                        <gumga-many-to-one value=\\\"ipi.enquadramentoIpi\\\" search-method=\\\"searchEnquadramento(param)\\\" class=\\\"gmd\\\" field=\\\"descricao\\\"\\n                                            display-info=\\\"false\\\" async=\\\"true\\\">\\n                                            <match>\\n                                                <div>{{match.model.codigo}} - {{match.model.descricao}}\\n                                                </div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>Mensagem</label>\\n                                        <gumga-many-to-one value=\\\"ipi.mensagem\\\" search-method=\\\"getMensagem(param,'IPI')\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div class=\\\"row m-t\\\" ng-hide=\\\"isIpiAble(ipi)\\\">\\n\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>Tipo de clculo</label>\\n                                                <select name=\\\"calculationipi\\\" id=\\\"calculationipi\\\" ng-model=\\\"ipi.ipiCalculationType\\\" class=\\\"form-control\\\" ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                            </div>\\n                                            <div ng-show=\\\"ipi.ipiCalculationType == 'PORCENTAGEM'\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor da base de clculo</label>\\n\\n                                                            <gumga-many-to-one value=\\\"ipi.vBC\\\" search-method=\\\"getFormulaIpi(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\" editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Alquota</label>\\n                                                            <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"ipi.pIPI\\\" />\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                    <label>Valor do IPI</label>\\n                                                    <gumga-many-to-one value=\\\"ipi.vIPI\\\" search-method=\\\"getFormulaIpi(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\" editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <gmd-fab force-click=\\\"false\\\" fixed opened=\\\"!fabs\\\" style=\\\"z-index: 99\\\">\\n                <button class=\\\"bg-accent gmd-ripple\\\" type=\\\"button\\\" ng-class=\\\"{ 'gmd-disabled' : blockBtnTributos(entity) || saveDisabled(entity,icms,pis,cofins,ipi) }\\\"\\n                    ng-click=\\\"update(entity,icms,pis,cofins,ipi, blockBtnTributos(entity) || saveDisabled(entity,icms,pis,cofins,ipi))\\\">\\n                    <span class=\\\"material-icons\\\">check</span>\\n                </button>\\n                <ul>\\n                    <li class=\\\"bg-primary\\\" ng-show=\\\"entity.id\\\" ui-sref=\\\"taxsettings.list\\\">\\n                        <span>Voltar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">keyboard_backspace</i>\\n                    </li>\\n                    <li class=\\\"bg-primary\\\" ng-click=\\\"clearPage()\\\">\\n                        <span>Limpar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">delete_sweep</i>\\n                    </li>\\n                    <li class=\\\"btn-danger\\\" ng-hide=\\\"entity.id\\\" ui-sref=\\\"taxsettings.list\\\">\\n                        <span>Cancelar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">close</i>\\n                    </li>\\n                    <li class=\\\"bg-primary\\\" ng-show=\\\"entity.id\\\" ng-click=\\\"replicateTaxSetting()\\\">\\n                        <span>Replicar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">content_copy</i>\\n                    </li>\\n                </ul>\\n            </gmd-fab>\\n        </div>\\n    </div>\\n</form>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nvar path = '/modules/taxsettings/views/list.html';\nvar html = \"<div class=\\\"row\\\">\\n    <div class=\\\"col-lg-12\\\">\\n        <div class=\\\"ibox float-e-margins\\\">\\n            <div class=\\\"ibox-content\\\">\\n                <div class=\\\"col-md-12\\\">\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"row\\\">\\n                            <!--<div class=\\\"col-md-5\\\">-->\\n                                <!--<button type=\\\"button\\\" ui-sref=\\\"taxsettings.insert\\\" grands-button=\\\"new\\\"></button>-->\\n                                <!--<button type=\\\"button\\\" ng-click=\\\"taxationGroup.methods.delete(selectedValues)\\\"-->\\n                                        <!--grands-button=\\\"delete\\\" ng-disabled=\\\"selectedValues.length == 0\\\"></button>-->\\n                            <!--</div>-->\\n                            <div class=\\\"col-md-offset-5 col-md-7\\\">\\n                                <gumga-query search=\\\"taxationGroup.methods.searchWithGQuery(param)\\\"\\n                                             advanced-search=\\\"taxationGroup.methods.searchWithGQuery(param)\\\"\\n                                             use-gquery=\\\"true\\\">\\n                                    <search-field field=\\\"name\\\" label=\\\"{{'titleparameterization'|gumgaTranslate:'taxsettings'}}\\\" select=\\\"true\\\"></search-field>\\n                                    <advanced-search-field type=\\\"string\\\" label=\\\"{{'titleparameterization'|gumgaTranslate:'taxsettings'}}\\\" field=\\\"name\\\"></advanced-search-field>\\n                                </gumga-query>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-md-12\\\" style=\\\"margin-top:1%\\\">\\n                        <gumga-list data=\\\"taxationGroup.data\\\"\\n                                    configuration=\\\"conf\\\"\\n                                    class=\\\"table-striped\\\"\\n                                    sort=\\\"taxationGroup.methods.sort(field, dir)\\\"\\n                                    page-size=\\\"taxationGroup.pageSize\\\"\\n                                    count=\\\"taxationGroup.count\\\"\\n                                    page-model=\\\"page\\\"\\n                                    max-height=\\\"400px\\\"\\n                                    on-page-change=\\\"taxationGroup.methods.get(page, pageSize)\\\"></gumga-list>\\n                    </div>\\n                </div>\\n                <gmd-fab force-click=\\\"false\\\" fixed opened=\\\"selectedValues.length > 0\\\">\\n                    <button class=\\\"bg-accent gmd-ripple\\\" ui-sref=\\\"taxsettings.insert\\\" ng-if=\\\"selectedValues.length == 0\\\">\\n                        <span class=\\\"material-icons\\\">add</span>\\n                    </button>\\n                    <button class=\\\"bg-accent gmd-ripple\\\" ng-if=\\\"selectedValues.length > 0\\\">\\n                        <span class=\\\"material-icons\\\">menu</span>\\n                    </button>\\n                    <ul>\\n                        <li class=\\\"btn-danger\\\"\\n                            ng-class=\\\"{'gmd-invisible' : selectedValues.length == 0}\\\"\\n                            ng-click=\\\"taxationGroup.methods.delete(selectedValues)\\\">\\n                            <span>Excluir</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">delete</i>\\n                        </li>\\n                        <li class=\\\"btn-warning\\\"\\n                            ui-sref=\\\"taxsettings.edit({id: selectedValues[0].id})\\\"\\n                            ng-class=\\\"{'gmd-invisible' : selectedValues.length == 0}\\\">\\n                            <span>Editar</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">edit</i>\\n                        </li>\\n                        <li class=\\\"btn-primary\\\"\\n                            ui-sref=\\\"taxsettings.insert\\\"\\n                            ng-class=\\\"{'gmd-invisible' : selectedValues.length == 0}\\\">\\n                            <span>Novo</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">add</i>\\n                        </li>\\n                    </ul>\\n                </gmd-fab>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nvar path = '/modules/taxsettings/views/modalConflito.html';\nvar html = \"<div class=\\\"modal-header\\\">\\n    <h3 class=\\\"modal-title\\\" gumga-translate-tag=\\\"taxsettings.modaltitle\\\"></h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <p gumga-translate-tag=\\\"taxsettings.modaltext\\\"></p>\\n    <gumga-list data=\\\"values\\\"\\n                configuration=\\\"conf\\\"\\n                class=\\\"table-bordered\\\"></gumga-list>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" ng-click=\\\"close()\\\" grands-button=\\\"close\\\"></button>\\n</div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// tributador.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f0f1bd11cf46c45d43a4","module.exports = angular.module('app.taxsettings.services', ['api.location'])\n    .service('MensagemService', require('./MensagemService'))\n    .service('FormulaService', require('./FormulaService'))\n    .service('CodigoEnquadramentoIpiService', require('./CodigoEnquadramentoIpiService'))\n    .service('TaxationGroupService', require('./TaxationGroupService'));\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/services/module.js","require('./modules/taxsettings/module');\n\n\n\n// WEBPACK FOOTER //\n// ./app/import-modules.js","require('./style/index.styl')\n\n\n// WEBPACK FOOTER //\n// ./app/import-style.js","require('./import-style');\nrequire('./import-modules');\n\nlet base = '/baseGrandsComponents.html';\n\nmodule.exports = angular.module('taxsettings.core', [\n    'ui.router',\n    'ngSanitize',\n    'gumga.core',\n    'brasil.filters',\n    'ui.utils.masks',\n    'datePicker',\n    'app.stock',\n    'app.taxsettings',\n    'buddy.core',\n    'operationtype.core',\n    'product.core'\n    //FIMINJECTIONS\n])\n    .config(function ($stateProvider) {\n        $stateProvider\n            .state('taxsettings', {\n                data: {\n                    id: 1\n                },\n                url: '/taxsettings',\n                templateUrl: base\n            })\n    });\n\n\n// WEBPACK FOOTER //\n// ./app/app.js","ModalConflitoController.$inject = ['entity', 'values', '$scope', '$uibModalInstance'];\nfunction ModalConflitoController(entity, values, $scope, $uibModalInstance) {\n\n    entity = angular.copy(entity);\n    $scope.values = angular.copy(values);\n    $scope.values = $scope.values.map(function (data) {\n        data.operationTypes = filterById(data.operationTypes, entity.operationTypes);\n        data.productTypes = filterById(data.productGroups, entity.productGroups);\n        data.personTypes = filterById(data.personGroups, entity.personGroups);\n        data.destinations = filterByKey(data.destinations, entity.destinations);\n        data.origins = filterByKey(data.origins, entity.origins);\n        return data;\n    });\n    $scope.conf = {\n        columns: 'id,name,operations,origins,destinations,personTypes,productType',\n        selection: 'none',\n        columnsConfig: [\n            {\n                name: 'id',\n                size: 'col-md-1',\n                title: '<strong gumga-translate-tag=\"taxsettings.id\">Code</strong>',\n                content: '<div>{{$value.id}}</div>'\n            },\n            {\n                name: 'name',\n                size: 'col-md-1',\n                title: '<strong gumga-translate-tag=\"taxsettings.name\">Tribute</strong>',\n                content: '<div>{{$value.name}}</div>'\n            },\n            {\n                name: 'operations',\n                size: 'col-md-2',\n                title: '<strong gumga-translate-tag=\"taxsettings.operations\">Operations</strong>',\n                content: '<span ng-repeat=\"obj in $value.operationTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n            },\n            {\n                name: 'origins',\n                size: 'col-md-2',\n                title: '<strong gumga-translate-tag=\"taxsettings.origins\">Origins</strong>',\n                content: '<span ng-repeat=\"obj in $value.origins track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.label}}</span>'\n            },\n            {\n                name: 'destinations',\n                size: 'col-md-2',\n                title: '<strong gumga-translate-tag=\"taxsettings.destinations\">Destinations</strong>',\n                content: '<span ng-repeat=\"obj in $value.destinations track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.label}}</span>'\n            },\n            {\n                name: 'personTypes',\n                size: 'col-md-2',\n                title: '<strong gumga-translate-tag=\"taxsettings.groupofpeople\">Group of People</strong>',\n                content: '<span ng-repeat=\"obj in $value.personTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n            },\n            {\n                name: 'productType',\n                size: 'col-md-2',\n                title: '<strong gumga-translate-tag=\"taxsettings.productgroup\">Product Group</strong>',\n                content: '<span ng-repeat=\"obj in $value.productTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n            }\n        ]\n    };\n    $scope.close = function () {\n        $uibModalInstance.close($scope.values);\n    };\n\n\n    function filterById(arr, insideArr) {\n        return arr.filter(function (data) {\n            return insideArr.filter(function (value) {\n                    return value.id === data.id;\n                }).length > 0;\n        });\n    }\n\n    function filterByKey(arr, insideArr) {\n        return arr.filter(function (data) {\n            return insideArr.filter(function (value) {\n                    return value.key\n                        === data.key;\n                }).length > 0;\n        });\n    }\n}\nmodule.exports = ModalConflitoController;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/controllers/ModalConflitoController.js","let modalConflito = require('../views/modalConflito.html');\n\nTaxSettingsFormController.$inject = [\n    'TaxationGroupService',\n    'MensagemService',\n    'CompanyService',\n    'OperationTypeService',\n    'PersonGroupService',\n    'ProductGroupService',\n    'CfopService',\n    'FormulaService',\n    '$state',\n    'entity',\n    '$scope',\n    '$timeout',\n    '$uibModal',\n    '$rootScope',\n    'CodigoEnquadramentoIpiService',\n    'GumgaAlert',\n    'gumgaController'];\nfunction TaxSettingsFormController(TaxationGroupService,\n                                   MensagemService,\n                                   CompanyService,\n                                   OperationTypeService,\n                                   PersonGroupService,\n                                   ProductGroupService,\n                                   CfopService,\n                                   FormulaService,\n                                   $state,\n                                   entity,\n                                   $scope,\n                                   $timeout,\n                                   $uibModal,\n                                   $rootScope,\n                                   CodigoEnquadramentoIpiService,\n                                   GumgaAlert,\n                                   gumgaController) {\n\n    gumgaController.createRestMethods($scope, TaxationGroupService, 'taxationGroup');\n    $scope.taxationGroup.execute('reset');\n    $scope.entity = angular.copy(entity.data);\n    $scope.pis = $scope.entity.taxationPIS || {};\n    $scope.icms = $scope.entity.taxationICMS || {};\n    $scope.cofins = $scope.entity.taxationCOFINS || {};\n    $scope.ipi = $scope.entity.taxationIPI || {};\n    $scope.continue = {};\n    $scope.entity.operationTypes = $scope.entity.operationTypes || [];\n    $scope.entity.origins = $scope.entity.origins || [];\n    $scope.entity.destinations = $scope.entity.destinations || [];\n    $scope.entity.personGroups = $scope.entity.personGroups || [];\n    $scope.entity.productGroups = $scope.entity.productGroups || [];\n    $scope.vICMSd = $scope.vICMSd || 0;\n    $scope.showICMS = false;\n    $scope.showPIS = false;\n    $scope.showCOFINS = false;\n    $scope.openTaxation = false;\n    $scope.step1 = false;\n    $scope.configOpen = false;\n    $scope.configOpenNext = false;\n    $scope.mensagemICMSList = [];\n    $scope.mensagemPISList = [];\n    $scope.mensagemIPIList = [];\n    $scope.mensagemCOFINSList = [];\n    $scope.formulaIcmsBCList = [];\n    $scope.formulaValorIcms = [];\n    $scope.formulaBaseIcmsSt = [];\n    $scope.formulaValorIcmsSt = [];\n    $scope.formulaValorIcmsDeson = [];\n    $scope.formulaIcmsStDeson = [];\n    $scope.fomulasBaseIcmsRet = [];\n    $scope.formulaValorIcmsRet = [];\n    $scope.formulaBaseIcmsDest = [];\n    $scope.formulaValorIcmsDest = [];\n    $scope.formulaValorIcmsOpe = [];\n    $scope.formulaBasePis = [];\n    $scope.formulaBasePisST = [];\n    $scope.formulaValorPisST = [];\n    $scope.formulaValorPis = [];\n    $scope.formulaBaseCofins = [];\n    $scope.formulaBaseCofinsST = [];\n    $scope.formulaValorCofinsST = [];\n    $scope.formulaValorCofins = [];\n    $scope.cfopList = [];\n    $scope.stateOriginConflicts = [];\n    $scope.stateDestinationsConflicts = [];\n    $scope.personGroupConflicts = [];\n    $scope.productGroupConflicts = [];\n    $scope.operationConflicts = [];\n    if ($scope.entity.id) {\n        $scope.openTaxation = true;\n        $scope.configOpen = false;\n        $scope.configOpenNext = false;\n    }\n\n    CompanyService.getCurrentCompany().then(function (data) {\n        $scope.icmsNormal = data.data.crt === 'REGIME_NORMAL';\n        if ($scope.icmsNormal) {\n            $scope.tribute = ['ICMS', 'PIS', 'COFINS', 'IPI'];\n        } else {\n            $scope.tribute = ['ICMS Simples', 'PIS', 'COFINS', 'IPI'];\n            $scope.icms.CST = '';\n        }\n    });\n\n    OperationTypeService.all().then(function (data) {\n        $scope.operationTypesList = data.data.values;\n        $timeout(function () {\n            $scope.entity.operationTypes = entity.data.operationTypes || [];\n            $scope.entity.operationTypes = $scope.entity.operationTypes.map(function (data) {\n                return $scope.operationTypesList.filter(function (value) {\n                    return value.id === data.id;\n                })[0];\n            })\n        });\n    });\n\n    $scope.clearPage = function() {\n        $scope.pis = {};\n        $scope.icms = {};\n        $scope.cofins = {};\n        $scope.ipi = {};\n        $scope.entity.operationTypes = [];\n        $scope.entity.origins = [];\n        $scope.entity.destinations = [];\n        $scope.entity.personGroups = [];\n        $scope.entity.productGroups = [];\n        $scope.entity.name = \"\";\n        $scope.openTaxation = false;\n        $scope.openPanel();\n        $scope.stateOriginConflicts = [];\n        $scope.personGroupConflicts = [];\n        $scope.productGroupConflicts = [];\n        $scope.operationConflicts = [];\n        $scope.entity.taxationPIS = {};\n        $scope.entity.taxationICMS = {};\n        $scope.entity.taxationCOFINS = {};\n        $scope.entity.taxationIPI = {};\n    };\n\n    $scope.replicateTaxSetting = function(){\n        var newEntity = angular.copy($scope.entity);\n        delete newEntity.id;\n\n        TaxationGroupService.newEntity = newEntity;\n        $state.go('taxsettings.insert');\n    };\n\n    PersonGroupService.all().then(function (data) {\n        $scope.personGroupList = data.data.values;\n        $timeout(function () {\n            $scope.entity.personGroups = entity.data.personGroups || [];\n        })\n    });\n    ProductGroupService.all().then(function (data) {\n        $scope.productGroupList = data.data.values;\n        $timeout(function () {\n            $scope.entity.productGroups = entity.data.productGroups || [];\n        })\n    });\n    TaxationGroupService.getStateList().then(function (data) {\n        $scope.stateDestinationList = $scope.stateOriginList = data.data;\n        $timeout(function () {\n            $scope.entity.origins = unmapEnum(entity.data.origins, $scope.stateOriginList);\n            $scope.entity.destinations = unmapEnum(entity.data.destinations, $scope.stateDestinationList);\n        })\n    });\n    TaxationGroupService.getICMSTypes().then(function (data) {\n        $scope.icmsTypes = [{label: ' '}].concat(data.data);\n    });\n    TaxationGroupService.getCsosnTypes().then(function (data) {\n        $scope.csosnTypes = [{label: ' '}].concat(data.data);\n    });\n    TaxationGroupService.getPISTypes().then(function (data) {\n        $scope.cstpis = [{label: ' '}].concat(data.data);\n    });\n    TaxationGroupService.getIPITypes().then(function (data) {\n        $scope.cstipi = [{label: ' '}].concat(data.data);\n    });\n    TaxationGroupService.getCalculationTypes().then(function (data) {\n        $scope.calculationTypes = data.data;\n    });\n    TaxationGroupService.getModeCalculationBaseTypes().then(function (data) {\n        $scope.modeCalculationBaseList = [{label: ' '}].concat(data.data);\n    });\n    TaxationGroupService.getModeCalculationBaseSTTypes().then(function (data) {\n        $scope.modeCalculationBaseSTList = [{label: ' '}].concat(data.data);\n    });\n    TaxationGroupService.getUnburdeningMotives().then(function (data) {\n        $scope.unburdeningMotiveList = [{label: ' '}].concat(data.data);\n    });\n    $scope.confOperation = {\n        columns: 'operations',\n        selection: 'multi',\n        conditional: operationConditional,\n        checkbox: true,\n        columnsConfig: [\n            {\n                name: 'operations',\n                size: 'col-md-9',\n                title: '<strong gumga-translate-tag=\"taxsettings.operations\">Operations</strong>',\n                content: '<div>{{$value.name}}</div>'\n            }\n        ]\n    };\n    $scope.confState = {\n        columns: 'state',\n        selection: 'multi',\n        checkbox: true,\n        columnsConfig: [\n            {\n                name: 'state',\n                size: 'col-md-9',\n                title: '<strong gumga-translate-tag=\"taxsettings.state\">State</strong>',\n                content: '<div>{{$value.label}}</div>'\n            }\n        ]\n    };\n    $scope.confPerson = {\n        columns: 'person',\n        selection: 'multi',\n        checkbox: true,\n        columnsConfig: [\n            {\n                name: 'person',\n                size: 'col-md-9',\n                title: '<strong gumga-translate-tag=\"taxsettings.groupofpeople\">Group of People</strong>',\n                content: '<div>{{$value.name}}</div>'\n            }\n        ]\n    };\n    $scope.confProduct = {\n        columns: 'product',\n        selection: 'multi',\n        checkbox: true,\n        columnsConfig: [\n            {\n                name: 'product',\n                size: 'col-md-9',\n                title: '<strong gumga-translate-tag=\"taxsettings.productgroup\">Product Group</strong>',\n                content: '<div>{{$value.name}}</div>'\n            }\n        ]\n    };\n    $scope.openPanel = function (panel) {\n        $scope.configOpen = (panel === 'configOpen');\n        $scope.openTaxation = (panel === 'openTaxation');\n    };\n\n    if (!$scope.entity.id) {\n        $scope.openPanel('configOpen');\n    }\n\n    $scope.blockBtnTributos = function (entity) {\n        return entity.operationTypes.length === 0 ||\n            entity.origins.length === 0 ||\n            entity.destinations.length === 0 ||\n            entity.personGroups.length === 0 ||\n            entity.productGroups.length === 0;\n    };\n    $scope.isIcmsAble = function (entity) {\n        return !entity.CST ||\n            entity.CST === 'ISENTA_COM_ST_30' ||\n            entity.CST === 'NAO_TRIBUTADA_41_ICMSST' ||\n            entity.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60';\n    };\n    $scope.isIcmsStandartGroupAble = function (entity) {\n        return entity.CST === 'INTEGRALMENTE_00' ||\n            entity.CST === 'COBRANCA_ST_10' ||\n            entity.CST === 'COBRANCA_ST_10_COM_PARTILHA' ||\n            entity.CST === 'REDUCAO_BC_20' ||\n            entity.CST === 'DIFERIMENTO_51' ||\n            entity.CST === 'ST_REDUCAO_BC_70' ||\n            entity.CST === 'OUTRAS_COM_PARTILHA_90' ||\n            entity.CST === 'OUTROS_90';\n    };\n    $scope.isIcmsDesoGroupAble = function (entity) {\n        return entity.CST === 'REDUCAO_BC_20' ||\n            entity.CST === 'ISENTA_40' ||\n            entity.CST === 'NAO_TRIBUTADA_41' ||\n            entity.CST === 'SUSPENSAO_50' ||\n            entity.CST === 'ST_REDUCAO_BC_70' ||\n            entity.CST === 'OUTROS_90';\n    };\n    $scope.isIcmsRedGroupAble = function (entity) {\n        return entity.CST === 'COBRANCA_ST_10_COM_PARTILHA' ||\n            entity.CST === 'REDUCAO_BC_20' ||\n            entity.CST === 'DIFERIMENTO_51' ||\n            entity.CST === 'ST_REDUCAO_BC_70' ||\n            entity.CST === 'OUTRAS_COM_PARTILHA_90' ||\n            entity.CST === 'OUTROS_90';\n    };\n    $scope.isIcmsStAble = function (entity) {\n        return !entity.CST ||\n            entity.CST === 'INTEGRALMENTE_00' ||\n            entity.CST === 'REDUCAO_BC_20' ||\n            entity.CST === 'ISENTA_40' ||\n            entity.CST === 'NAO_TRIBUTADA_41' ||\n            entity.CST === 'SUSPENSAO_50' ||\n            entity.CST === 'DIFERIMENTO_51';\n    };\n    $scope.isIcmsStStandartGroupAble = function (entity) {\n        return entity.CST === 'NAO_TRIBUTADA_41_ICMSST' || entity.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60';\n    };\n    $scope.getCfopIcms = function (value) {\n        value = value || '';\n        return CfopService.getAdvancedSearch('lower(obj.codigo) like lower(\\'%' + value + '%\\') or lower(obj.descricao) like lower(\\'%' + value + '%\\')').then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.getFormulaIcms = function (value) {\n        return FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = 'ICMS'\").then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.getFormulaPis = function (value) {\n        return FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%\\') and obj.tariffType = 'PIS'\").then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.getFormulaCofins = function (value) {\n        return FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%\\') and obj.tariffType = 'COFINS'\").then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.getFormulaIpi = function (value) {\n        return FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = 'IPI'\").then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.getMensagem = function (value, tribute) {\n        return MensagemService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = '\" + tribute+\"'\").then(function (data) {\n            return data.data.values;\n        });\n    };\n    $scope.isIpiAble = function (entity) {\n        return !entity.CST ||\n            (entity.CST !== 'ENTRADA_RECUPERACAO_CREDITO_00' &&\n            entity.CST !== 'OUTRAS_ENTRADAS_49' &&\n            entity.CST !== 'SAIDA_TRIBUTADA_50' &&\n            entity.CST !== 'OUTRAS_SAIDAS_99');\n    };\n    $scope.isPisAble = function (entity) {\n        return !entity.CST ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_04' ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_03' ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_06' ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_07' ||\n            entity.CST === 'SEM_INCIDENCIA_08' ||\n            entity.CST === 'COM_SUSPENSAO_09';\n    };\n    $scope.isPisOperationTypeUnable = function (entity) {\n        return entity.CST &&\n            ($scope.isPisAble(entity) ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_01' ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_02');\n    };\n    $scope.isPisAliquotaAble = function (entity) {\n        return $scope.isPisOperationTypeUnable(entity) ||\n            entity.calculationType === 'PORCENTAGEM';\n    };\n    $scope.isCofinsAble = function (entity) {\n        return !entity.CST ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_04' ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_03' ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_06' ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_07' ||\n            entity.CST === 'SEM_INCIDENCIA_08' ||\n            entity.CST === 'COM_SUSPENSAO_09';\n    };\n    $scope.isCofinsOperationTypeUnable = function (entity) {\n        return entity.CST &&\n            ($scope.isCofinsAble(entity) ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_01' ||\n            entity.CST === 'OPERACAO_TRIBUTAVEL_02');\n    };\n    $scope.isCofinsAliquotaAble = function (entity) {\n        return $scope.isCofinsOperationTypeUnable(entity) || entity.calculationType === 'PORCENTAGEM';\n    };\n\n    function invalidPis(pis) {\n        if (pis.CST) {\n            switch (pis.CST) {\n                case 'OPERACAO_TRIBUTAVEL_01':\n                case 'OPERACAO_TRIBUTAVEL_02':\n                    if (invalidPisAliquota(pis)) {\n                        return true;\n                    }\n                    break;\n                case 'OPERACAO_TRIBUTAVEL_05':\n                    if (!pis.calculationTypeST) {\n                        return true;\n                    }\n                    if (pis.calculationTypeST === 'PORCENTAGEM' && invalidPisAliquotaST(pis)) {\n                        return true;\n                    }\n                    break;\n                case 'OUTRAS_SAIDAS_49':\n                case 'OPERACOES_CREDITO_50':\n                case 'OPERACOES_CREDITO_51':\n                case 'OPERACOES_CREDITO_52':\n                case 'OPERACOES_CREDITO_53':\n                case 'OPERACOES_CREDITO_54':\n                case 'OPERACOES_CREDITO_55':\n                case 'OPERACOES_CREDITO_56':\n                case 'CREDITO_PRESUMIDO_60':\n                case 'CREDITO_PRESUMIDO_61':\n                case 'CREDITO_PRESUMIDO_62':\n                case 'CREDITO_PRESUMIDO_63':\n                case 'CREDITO_PRESUMIDO_64':\n                case 'CREDITO_PRESUMIDO_65':\n                case 'CREDITO_PRESUMIDO_66':\n                case 'CREDITO_PRESUMIDO_67':\n                case 'AQUISICAO_SEM_CREDITO_70':\n                case 'AQUISICAO_ISENTA_71':\n                case 'AQUISICAO_COM_SUSPENSAO_72':\n                case 'AQUISICAO_ALIQUOTA_ZERO_73':\n                case 'AQUISICAO_SEM_CONTRIBUICAO_74':\n                case 'AQUISICAO_ST_75':\n                case 'OUTRAS_ENTRADAS_98':\n                case 'OUTRAS_99':\n                    if (!pis.calculationType) {\n                        return true;\n                    }\n                    if (pis.calculationType === 'PORCENTAGEM' && invalidPisAliquota(pis)) {\n                        return true;\n                    }\n                    break;\n                default:\n\n            }\n        }\n    }\n\n    function invalidCofins(cofins) {\n        if (cofins.CST) {\n            switch (cofins.CST) {\n                case 'OPERACAO_TRIBUTAVEL_01':\n                case 'OPERACAO_TRIBUTAVEL_02':\n                    if (invalidCofinsAliquota(cofins)) {\n                        return true;\n                    }\n                    break;\n                case 'OPERACAO_TRIBUTAVEL_05':\n                    if (!cofins.calculationTypeST) {\n                        return true;\n                    }\n                    if (cofins.calculationTypeST === 'PORCENTAGEM' && invalidCofinsAliquotaST(cofins)) {\n                        return true;\n                    }\n                    break;\n                case 'OUTRAS_SAIDAS_49':\n                case 'OPERACOES_CREDITO_50':\n                case 'OPERACOES_CREDITO_51':\n                case 'OPERACOES_CREDITO_52':\n                case 'OPERACOES_CREDITO_53':\n                case 'OPERACOES_CREDITO_54':\n                case 'OPERACOES_CREDITO_55':\n                case 'OPERACOES_CREDITO_56':\n                case 'CREDITO_PRESUMIDO_60':\n                case 'CREDITO_PRESUMIDO_61':\n                case 'CREDITO_PRESUMIDO_62':\n                case 'CREDITO_PRESUMIDO_63':\n                case 'CREDITO_PRESUMIDO_64':\n                case 'CREDITO_PRESUMIDO_65':\n                case 'CREDITO_PRESUMIDO_66':\n                case 'CREDITO_PRESUMIDO_67':\n                case 'AQUISICAO_SEM_CREDITO_70':\n                case 'AQUISICAO_ISENTA_71':\n                case 'AQUISICAO_COM_SUSPENSAO_72':\n                case 'AQUISICAO_ALIQUOTA_ZERO_73':\n                case 'AQUISICAO_SEM_CONTRIBUICAO_74':\n                case 'AQUISICAO_ST_75':\n                case 'OUTRAS_ENTRADAS_98':\n                case 'OUTRAS_99':\n                    if (!cofins.calculationType) {\n                        return true;\n                    }\n                    if (cofins.calculationType === 'PORCENTAGEM' && invalidCofinsAliquota(cofins)) {\n                        return true;\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n\n    }\n\n    function invalidIpi(ipi) {\n        if (ipi.CST) {\n            switch (ipi.CST) {\n                case 'ENTRADA_RECUPERACAO_CREDITO_00':\n                case 'OUTRAS_ENTRADAS_49':\n                case 'SAIDA_TRIBUTADA_50':\n                case 'OUTRAS_SAIDAS_99':\n                    if (!ipi.ipiCalculationType || (ipi.ipiCalculationType === 'PORCENTAGEM' && invalidIpiAliquota(ipi))) {\n                        return true;\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n\n    function invalidIcmsNormal(icms) {\n        if (icms.CST) {\n            switch (icms.CST) {\n                case 'INTEGRALMENTE_00':\n                    if (invalidIcmsBase(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'COBRANCA_ST_10':\n                    if (invalidIcmsBase(icms) || invalidIcmsStBase(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'OUTRAS_COM_PARTILHA_90':\n                case 'COBRANCA_ST_10_COM_PARTILHA':\n                    if (invalidIcmsBase(icms) || invalidIcmsStBase(icms) || !icms.UFST) {\n                        return true;\n                    }\n                    break;\n                case 'REDUCAO_BC_20':\n                    if (invalidIcmsBase(icms) || invalidIcmsDeson(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'ISENTA_COM_ST_30':\n                    if (invalidIcmsStBase(icms) || invalidIcmsDeson(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'ISENTA_40':\n                case 'NAO_TRIBUTADA_41':\n                case 'SUSPENSAO_50':\n                    if (invalidIcmsDeson(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'NAO_TRIBUTADA_41_ICMSST':\n                    if (invalidIcmsStRetid(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'DIFERIMENTO_51':\n                    if (invalidIcmsBase(icms) || invalidIcmsDife(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'COBRADO_ANTERIORMENTE_POR_ST_60':\n                    if (invalidIcmsStRetidoAnter(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'ST_REDUCAO_BC_70':\n                case 'OUTROS_90':\n                    if (invalidIcmsBase(icms) || invalidIcmsDeson(icms) || invalidIcmsStBase(icms)) {\n                        return true;\n                    }\n                    break;\n                default:\n            }\n        }\n    }\n\n    function invalidIcmsSimples(icms) {\n        if (icms.CSOSN) {\n            switch (icms.CSOSN) {\n                case 'CREDITO_101':\n                    if (icms.vCredICMSSN == null) {\n                        return true\n                    }\n                    break;\n                case 'CREDITO_COM_ST_201':\n                    if (invalidBaseStSimples(icms) || invalidAliquotaGroup(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'SEM_CREDITO_COM_ST_202':\n                case 'RECEITA_BRUTA_COM_ST_203':\n                    if (invalidBaseStSimples(icms)) {\n                        return true;\n                    }\n                    break;\n                case 'ANTECIPACAO_ST_500':\n                    if (invalidIcmsStRetidoAnterSimples(icms)) {\n                        return true\n                    }\n                    break;\n                case 'OUTROS_900':\n                    if (invalidBaseStSimples(icms) || invalidAliquotaGroup(icms) || invalidIcmsBase(icms)) {\n                        return true;\n                    }\n                    break;\n                default:\n                    break;\n\n            }\n        }\n    }\n\n    function invalidIcmsStRetidoAnterSimples(icms) {\n        return (icms.vBCSTRet && !icms.vICMSSTRet) || (!icms.vBCSTRet && icms.vICMSSTRet);\n    }\n\n    function invalidBaseStSimples(icms) {\n        return !icms.modBCST || !icms.vBCST || (icms.pICMSST == null) || !icms.vICMSST;\n    }\n\n    function invalidAliquotaGroup(icms) {\n        return icms.pCredSN == null || icms.vCredICMSSN == null;\n    }\n\n\n    $scope.saveDisabled = function (entity, icms, pis, cofins, ipi) {\n        return (($scope.icmsNormal && invalidIcmsNormal(icms)) ||\n        (!$scope.icmsNormal && invalidIcmsSimples(icms)) ||\n        invalidPis(pis) ||\n        invalidCofins(cofins) ||\n        invalidIpi(ipi) ||\n        entity.name.length === 0);\n    };\n    $scope.update = function (entity, icms, pis, cofins, ipi, disabled) {\n        if (disabled) {\n            return;\n        }\n        entity.destinations = entity.destinations.map(mapEnum);\n        entity.origins = entity.origins.map(mapEnum);\n        delete entity.taxationIPI;\n        delete entity.taxationPIS;\n        delete entity.taxationCOFINS;\n        delete entity.taxationICMS;\n        ipi = angular.copy(ipi);\n        icms = angular.copy(icms);\n        pis = angular.copy(pis);\n        cofins = angular.copy(cofins);\n        if (ipi.CST) {\n            entity.taxationIPI = mountIpi(ipi);\n        }\n        if ($scope.icmsNormal && icms.CST) {\n            entity.taxationICMS = mountIcms(icms);\n        } else if (!$scope.icmsNormal && icms.CSOSN) {\n            entity.taxationICMS = mountIcmsSimples(icms);\n        }\n        if (entity.taxationICMS && $scope.isFCPVisible(entity.taxationICMS)) {\n            entity.taxationICMS.pICMSUFDest = icms.pICMSUFDest;\n            entity.taxationICMS.pFCPUFDest = icms.pFCPUFDest;\n        }\n        if (pis.CST) {\n            entity.taxationPIS = mountPis(pis);\n        }\n        if (cofins.CST) {\n            entity.taxationCOFINS = mountCofins(cofins);\n        }\n        $rootScope.$emit('hideNextErrorMessage');\n        TaxationGroupService.saveValiding(entity).then(doSave, doErr)\n    };\n\n    function doSave() {\n        if($state.current.name === \"taxsettings.insert\"){\n            swal({\n                    title: \"Confirmao\",\n                    text: \"Deseja continuar inserindo?\",\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonClass: \"btn-success\",\n                    confirmButtonText: \"Continuar\",\n                    cancelButtonText: \"No\",\n                    closeOnConfirm: true,\n                    closeOnCancel: true\n                },\n                function(isConfirm) {\n                    if (!isConfirm) {\n                        $state.go('taxsettings.list');\n                    }\n                });\n        }else{\n            $state.go('taxsettings.list');\n        };\n    }\n\n    function doErr(err) {\n        if (Array.isArray(err.data)) {\n            var values = err.data.map(function (data) {\n                data.destinations = unmapEnum(data.destinations, $scope.stateDestinationList);\n                data.origins = unmapEnum(data.origins, $scope.stateOriginList);\n                return data;\n            });\n            $uibModal.open({\n                size: 'lg',\n                templateUrl: modalConflito,\n                controller: 'ModalConflitoController',\n                resolve: {\n                    values: function () {\n                        return values;\n                    },\n                    entity: function () {\n                        return $scope.entity;\n                    }\n                }\n            });\n        } else {\n            GumgaAlert.createWarningMessage('Tributao Incorreta', err.data.details);\n        }\n    }\n\n    function unmapEnum(valueArr, dtoArr) {\n        valueArr = valueArr || [];\n        return valueArr.map(function (data) {\n            return dtoArr.filter(function (value) {\n                return value.key === data || value.key === data.key;\n            })[0]\n        });\n    }\n\n    function invalidCofinsAliquotaST(cofins) {\n        return !cofins.vBCST || cofins.pCOFINSST == null || !cofins.vCOFINSST;\n    }\n\n    function invalidCofinsAliquota(cofins) {\n        return !cofins.vBC || cofins.pCOFINS == null || !cofins.vCOFINS;\n    }\n\n    function invalidIpiAliquota(ipi) {\n        return !ipi.vBC || ipi.pIPI == null || !ipi.vIPI;\n    }\n\n    function invalidPisAliquotaST(pis) {\n        return !pis.vBCST || pis.pPISST == null || !pis.vPISST;\n    }\n\n    function invalidPisAliquota(pis) {\n        return !pis.vBC || pis.pPIS == null || !pis.vPIS;\n    }\n\n    function invalidIcmsBase(icms) {\n        return !icms.modBC || !icms.vBC || (icms.pICMS == null) || !icms.vICMS;\n    }\n\n    function invalidIcmsDeson(icms) {\n        return (icms.vICMSDeson && !icms.motDesICMS) || (!icms.vICMSDeson && icms.motDesICMS);\n    }\n\n    function invalidIcmsStBase(icms) {\n        return !icms.modBCST || !icms.pRedBCST || (icms.pMVAST == null) || !icms.vBCST || (icms.pICMSST == null) || !icms.vICMSST;\n    }\n\n    function invalidIcmsStRetid(icms) {\n        return !icms.vBCSTRet || !icms.vICMSSTRet || !icms.vBCSTDest || !icms.vICMSSTDest;\n    }\n\n    function invalidIcmsDife(icms) {\n        return !icms.vICMSOp || (icms.pDif == null) || !icms.vICMSDif;\n    }\n\n    function invalidIcmsStRetidoAnter(icms) {\n        return !icms.vBCSTRet || !icms.vICMSSTRet;\n    }\n\n    function mapEnum(data) {\n        return data.key;\n    }\n\n    function mountIcms(icms) {\n        var obj = {\n            CST: icms.CST,\n            version: icms.version,\n            cfop: icms.cfop,\n            mensagem: icms.mensagem,\n            mensagemRef: icms.mensagemRef,\n            cfopRef: icms.cfopRef,\n            pReducaoBase:icms.pReducaoBase\n        };\n\n        if (icms.CST === 'INTEGRALMENTE_00' || icms.CST === 'COBRANCA_ST_10' ||\n            icms.CST === 'OUTRAS_COM_PARTILHA_90' || icms.CST === 'COBRANCA_ST_10_COM_PARTILHA' ||\n            icms.CST === 'REDUCAO_BC_20' || icms.CST === 'DIFERIMENTO_51' ||\n            icms.CST === 'ST_REDUCAO_BC_70' || icms.CST === 'OUTROS_90') {\n            obj.modBC = icms.modBC;\n            obj.pICMS = icms.pICMS;\n            obj.vBC = icms.vBC;\n            obj.vICMS = icms.vICMS;\n        }\n\n        if (icms.CST === 'COBRANCA_ST_10' || icms.CST === 'OUTRAS_COM_PARTILHA_90' ||\n            icms.CST === 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST === 'ISENTA_COM_ST_30' ||\n            icms.CST === 'ST_REDUCAO_BC_70' || icms.CST === 'OUTROS_90') {\n            obj.modBCST = icms.modBCST;\n            obj.pICMSST = icms.pICMSST;\n            obj.pMVAST = icms.pMVAST;\n            obj.pRedBCST = icms.pRedBCST;\n            obj.vBCST = icms.vBCST;\n            obj.vICMSST = icms.vICMSST;\n        }\n\n        if (icms.CST === 'OUTRAS_COM_PARTILHA_90' || icms.CST === 'COBRANCA_ST_10_COM_PARTILHA') {\n            obj.UFST = icms.UFST;\n        }\n\n        if (icms.CST === 'REDUCAO_BC_20' || icms.CST === 'ISENTA_COM_ST_30' ||\n            icms.CST === 'ISENTA_40' || icms.CST === 'NAO_TRIBUTADA_41' ||\n            icms.CST === 'SUSPENSAO_50' || icms.CST === 'ST_REDUCAO_BC_70' ||\n            icms.CST === 'OUTROS_90') {\n            obj.vICMSDeson = icms.vICMSDeson;\n            obj.motDesICMS = icms.motDesICMS;\n        }\n\n\t\t\t\tif (icms.CST === 'NAO_TRIBUTADA_41_ICMSST') {\n\t\t\t\t\tobj.vBCSTRet = icms.vBCSTRet;\n\t\t\t\t\tobj.vBCSTDest = icms.vBCSTDest;\n\t\t\t\t\tobj.vICMSSTDest = icms.vICMSSTDest;\n\t\t\t\t\tobj.vICMSSTRet = icms.vICMSSTRet;\n\t\t\t\t}\n\n\t\t\t\tif (icms.CST === 'DIFERIMENTO_51') {\n\t\t\t\t\tobj.pDif = icms.pDif;\n\t\t\t\t\tobj.vICMSDif = icms.vICMSDif;\n\t\t\t\t\tobj.vICMSOp = icms.vICMSOp;\n\t\t\t\t}\n\n\t\t\t\tif (icms.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60') {\n\t\t\t\t\tobj.vBCSTRet = icms.vBCSTRet;\n\t\t\t\t\tobj.vICMSSTRet = icms.vICMSSTRet;\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t}\n\n    function mountIcmsSimples(icms) {\n        var obj = {\n            version: icms.version,\n            cfop: icms.cfop,\n            mensagem: icms.mensagem,\n            CSOSN: icms.CSOSN,\n            mensagemRef: icms.mensagemRef,\n            cfopRef: icms.cfopRef,\n            pReducaoBase: icms.pReducaoBase\n        };\n\n        if (icms.CSOSN === 'CREDITO_101' ||\n            icms.CSOSN === 'CREDITO_COM_ST_201' ||\n            icms.CSOSN === 'OUTROS_900') {\n            obj.pCredSN = icms.pCredSN;\n            obj.vCredICMSSN = icms.vCredICMSSN;\n        }\n\n        if (icms.CSOSN === 'CREDITO_COM_ST_201' ||\n            icms.CSOSN === 'SEM_CREDITO_COM_ST_202' ||\n            icms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' ||\n            icms.CSOSN === 'OUTROS_900') {\n            obj.modBCST = icms.modBCST;\n            obj.pICMSST = icms.pICMSST;\n            obj.pMVAST = icms.pMVAST;\n            obj.pRedBCST = icms.pRedBCST;\n            obj.vBCST = icms.vBCST;\n            obj.vICMSST = icms.vICMSST;\n        }\n\n        if (icms.CSOSN === 'ANTECIPACAO_ST_500') {\n            obj.vBCSTRet = icms.vBCSTRet;\n            obj.vICMSSTRet = icms.vICMSSTRet;\n        }\n\n        if (icms.CSOSN === 'OUTROS_900') {\n            obj.modBC = icms.modBC;\n            obj.vBC = icms.vBC;\n            obj.pRedBC = icms.pRedBC;\n            obj.pICMS = icms.pICMS;\n            obj.vICMS = icms.vICMS;\n        }\n        return obj;\n    }\n\n    function mountPis(pis) {\n        var obj = {\n            CST: pis.CST,\n            version: pis.version,\n            mensagem: pis.mensagem\n        };\n\n        switch (pis.CST) {\n            case 'OPERACAO_TRIBUTAVEL_05':\n                obj.calculationTypeST = pis.calculationTypeST;\n                if (pis.calculationTypeST === 'PORCENTAGEM') {\n                    obj.pPISST = pis.pPISST;\n                    obj.vBCST = pis.vBCST;\n                    obj.vPISST = pis.vPISST;\n                }\n                break;\n            case 'OPERACAO_TRIBUTAVEL_01':\n            case 'OPERACAO_TRIBUTAVEL_02':\n                obj.pPIS = pis.pPIS;\n                obj.vBC = pis.vBC;\n                obj.vPIS = pis.vPIS;\n                break;\n            case 'OUTRAS_SAIDAS_49':\n            case 'OPERACOES_CREDITO_50':\n            case 'OPERACOES_CREDITO_51':\n            case 'OPERACOES_CREDITO_52':\n            case 'OPERACOES_CREDITO_53':\n            case 'OPERACOES_CREDITO_54':\n            case 'OPERACOES_CREDITO_55':\n            case 'OPERACOES_CREDITO_56':\n            case 'CREDITO_PRESUMIDO_60':\n            case 'CREDITO_PRESUMIDO_61':\n            case 'CREDITO_PRESUMIDO_62':\n            case 'CREDITO_PRESUMIDO_63':\n            case 'CREDITO_PRESUMIDO_64':\n            case 'CREDITO_PRESUMIDO_65':\n            case 'CREDITO_PRESUMIDO_66':\n            case 'CREDITO_PRESUMIDO_67':\n            case 'AQUISICAO_SEM_CREDITO_70':\n            case 'AQUISICAO_ISENTA_71':\n            case 'AQUISICAO_COM_SUSPENSAO_72':\n            case 'AQUISICAO_ALIQUOTA_ZERO_73':\n            case 'AQUISICAO_SEM_CONTRIBUICAO_74':\n            case 'AQUISICAO_ST_75':\n            case 'OUTRAS_ENTRADAS_98':\n            case 'OUTRAS_99':\n                obj.calculationType = pis.calculationType;\n                if (pis.calculationType === 'PORCENTAGEM') {\n                    obj.pPIS = pis.pPIS;\n                    obj.vBC = pis.vBC;\n                    obj.vPIS = pis.vPIS;\n                }\n                break;\n            default:\n        }\n        return obj;\n    }\n\n    function mountCofins(cofins) {\n        var obj = {\n            CST: cofins.CST,\n            version: cofins.version,\n            mensagem: cofins.mensagem\n        };\n        switch (cofins.CST) {\n            case 'OPERACAO_TRIBUTAVEL_05':\n                obj.calculationTypeST = cofins.calculationTypeST;\n                if (cofins.calculationTypeST === 'PORCENTAGEM') {\n                    obj.pCOFINSST = cofins.pCOFINSST;\n                    obj.vBCST = cofins.vBCST;\n                    obj.vCOFINSST = cofins.vCOFINSST;\n                }\n                break;\n            case 'OPERACAO_TRIBUTAVEL_01':\n            case 'OPERACAO_TRIBUTAVEL_02':\n                obj.pCOFINS = cofins.pCOFINS;\n                obj.vBC = cofins.vBC;\n                obj.vCOFINS = cofins.vCOFINS;\n                break;\n            case 'OUTRAS_SAIDAS_49':\n            case 'OPERACOES_CREDITO_50':\n            case 'OPERACOES_CREDITO_51':\n            case 'OPERACOES_CREDITO_52':\n            case 'OPERACOES_CREDITO_53':\n            case 'OPERACOES_CREDITO_54':\n            case 'OPERACOES_CREDITO_55':\n            case 'OPERACOES_CREDITO_56':\n            case 'CREDITO_PRESUMIDO_60':\n            case 'CREDITO_PRESUMIDO_61':\n            case 'CREDITO_PRESUMIDO_62':\n            case 'CREDITO_PRESUMIDO_63':\n            case 'CREDITO_PRESUMIDO_64':\n            case 'CREDITO_PRESUMIDO_65':\n            case 'CREDITO_PRESUMIDO_66':\n            case 'CREDITO_PRESUMIDO_67':\n            case 'AQUISICAO_SEM_CREDITO_70':\n            case 'AQUISICAO_ISENTA_71':\n            case 'AQUISICAO_COM_SUSPENSAO_72':\n            case 'AQUISICAO_ALIQUOTA_ZERO_73':\n            case 'AQUISICAO_SEM_CONTRIBUICAO_74':\n            case 'AQUISICAO_ST_75':\n            case 'OUTRAS_ENTRADAS_98':\n            case 'OUTRAS_99':\n                obj.calculationType = cofins.calculationType;\n                if (cofins.calculationType === 'PORCENTAGEM') {\n                    obj.pCOFINS = cofins.pCOFINS;\n                    obj.vBC = cofins.vBC;\n                    obj.vCOFINS = cofins.vCOFINS;\n                }\n                break;\n            default:\n                break;\n        }\n        return obj;\n    }\n\n    function mountIpi(ipi) {\n        var obj = {\n            CST: ipi.CST,\n            version: ipi.version,\n            mensagem: ipi.mensagem,\n            enquadramentoIpi: ipi.enquadramentoIpi\n        };\n\n        switch (ipi.CST) {\n            case 'ENTRADA_RECUPERACAO_CREDITO_00':\n            case 'OUTRAS_ENTRADAS_49':\n            case 'SAIDA_TRIBUTADA_50':\n            case 'OUTRAS_SAIDAS_99':\n                obj.ipiCalculationType = ipi.ipiCalculationType;\n                if (ipi.ipiCalculationType === 'PORCENTAGEM') {\n                    obj.pIPI = ipi.pIPI;\n                    obj.vBC = ipi.vBC;\n                    obj.vIPI = ipi.vIPI;\n                }\n                break;\n            default:\n        }\n        return obj;\n    }\n\n    //Funes dos conflitos na grade\n    function mountConflicts(values) {\n        $scope.stateOriginConflicts = mountNewArr(values, 'destinations', 'key');\n        $scope.stateDestinationConflicts = mountNewArr(values, 'destinations', 'key');\n        $scope.personGroupConflicts = mountNewArr(values, 'personGroup', 'key');\n        $scope.operationConflicts = mountNewArr(values, 'operationTypes', 'id');\n        $scope.productGroupConflicts = mountNewArr(values, 'productGroups', 'id');\n    }\n\n    function mountNewArr(arr, field, comparationField) {\n        var newArr = [],\n            toReturn = [];\n        arr.forEach(function (data) {\n            data[field].forEach(function (value) {\n                newArr[value[comparationField]] = value;\n            });\n        });\n        for (key in newArr) {\n            toReturn.push(newArr[key]);\n        }\n        return toReturn;\n    }\n\n    function operationConditional(value) {\n        return {\n            '2px solid red': function () {\n                return $scope.operationConflicts.filter(function (data) {\n                        return data.id === value.id;\n                    }).length > 0;\n            }\n        }\n    }\n\n    $scope.showAliquotaGroup = function (icms) {\n        return icms.CSOSN === 'CREDITO_101' || icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'OUTROS_900';\n    };\n    $scope.showIcmsStSimple = function (icms) {\n        return icms.CSOSN === 'CREDITO_COM_ST_201' ||\n            icms.CSOSN === 'SEM_CREDITO_COM_ST_202' ||\n            icms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' ||\n            icms.CSOSN === 'OUTROS_900'\n    };\n    $scope.showSimples = function (icms) {\n        return icms.CSOSN === 'CREDITO_101' ||\n            icms.CSOSN === 'CREDITO_COM_ST_201' ||\n            icms.CSOSN === 'OUTROS_900';\n    };\n    $scope.showSimplesSt = function (icms) {\n        return icms.CSOSN === 'CREDITO_COM_ST_201' ||\n            icms.CSOSN === 'SEM_CREDITO_COM_ST_202' ||\n            icms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' ||\n            icms.CSOSN === '' ||\n            icms.CSOSN === 'OUTROS_900';\n    };\n    $scope.isFCPVisible = function (icms) {\n        return icms.CSOSN !== 'IMUNE_300' &&\n            icms.CSOSN !== 'NAO_TRIBUTADA_400' &&\n            icms.CST !== 'NAO_TRIBUTADA_41' &&\n            icms.CST !== 'NAO_TRIBUTADA_41_ICMSST';\n    };\n\n    $scope.searchEnquadramento = function (param) {\n        return CodigoEnquadramentoIpiService.getSearch('descricao,codigo', param).then(function (data) {\n            return data.data.values;\n        })\n    };\n}\nmodule.exports = TaxSettingsFormController;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/controllers/TaxSettingsFormController.js","TaxSettingsListController.$inject = ['TaxationGroupService', '$scope', 'gumgaController'];\nfunction TaxSettingsListController(TaxationGroupService, $scope, gumgaController) {\n    gumgaController.createRestMethods($scope, TaxationGroupService, 'taxationGroup');\n\n    $scope.conf = {\n        columns: 'tribute,titleParameterization',\n        selection: 'single',\n        materialTheme: true,\n        activeLineColor: '#cccccc',\n        hoverLineColor: '#f5f5f5',\n        itemsPerPage: [5, 10, 25, 50, 100],\n        title: 'Listagem de Tributos',\n        columnsConfig: [\n            {\n                name: 'tribute',\n                size: 'col-md-3',\n                title: '<strong gumga-translate-tag=\"taxsettings.tribute\">Tribute</strong>',\n                content: '<div>{{$value.taxationICMS?\\' ICMS\\':\\'\\'}}{{$value.taxationIPI?\\' IPI\\':\\'\\'}}{{$value.taxationPIS?\\' PIS\\':\\'\\'}}{{$value.taxationCOFINS?\\' COFINS\\':\\'\\'}}</div>'\n            },\n            {\n                name: 'titleParameterization',\n                size: 'col-md-8',\n                title: '<strong gumga-translate-tag=\"taxsettings.titleparameterization\">Title parameterization</strong>',\n                content: '<div>{{$value.name}}</div>'\n            }\n        ]\n    };\n\n    $scope.taxationGroup.execute('reset');\n    $scope.taxationGroup.methods.getLatestOperation();\n    $scope.taxationGroup.on('deleteSuccess', function () {\n        $scope.taxationGroup.methods.getLatestOperation();\n    });\n\n}\nmodule.exports = TaxSettingsListController;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/controllers/TaxSettingsListController.js","require('../services/module')\n\nmodule.exports = angular.module('app.taxsettings.controllers', ['app.taxsettings.services', 'ui.router'])\n    .controller('TaxSettingsFormController', require('./TaxSettingsFormController'))\n    .controller('ModalConflitoController', require('./ModalConflitoController'))\n    .controller('TaxSettingsListController', require('./TaxSettingsListController'))\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/controllers/module.js","require('./controllers/module');\nrequire('./services/module');\n\nlet list = require('./views/list.html');\nlet form = require('./views/form.html');\n\n\nmodule.exports = angular.module('app.taxsettings', ['ui.router', 'app.taxsettings.controllers', 'app.taxsettings.services', 'api.location'])\n    .config(['$stateProvider', 'apiLocation', function ($stateProvider, apiLocation) {\n        $stateProvider\n            .state('taxsettings.list', {\n                url: '/list',\n                templateUrl: list,\n                controller: 'TaxSettingsListController',\n                data: {id: 2}\n            })\n            .state('taxsettings.insert', {\n                url: '/insert',\n                templateUrl: form,\n                controller: 'TaxSettingsFormController',\n                controllerAs: 'form',\n                data: {id: 3}, resolve: {\n                    entity: ['$stateParams', '$http', 'TaxationGroupService', '$q', function ($stateParams, $http, TaxationGroupService, $q) {\n                        var url = apiLocation + '/api/taxationgroup/new';\n                        if(TaxationGroupService.newEntity){\n                            return $q(function(resolve){\n                                var ent = angular.copy(TaxationGroupService.newEntity);\n                                delete TaxationGroupService.newEntity;\n                                resolve({data: ent});\n                            });\n                        };\n                        return $http.get(url);\n                    }]\n                }\n            })\n            .state('taxsettings.edit', {\n                url: '/edit/:id',\n                templateUrl: form,\n                controller: 'TaxSettingsFormController',\n                data: {id: 3}, resolve: {\n                    entity: ['$stateParams', '$http', function ($stateParams, $http) {\n                        var url = apiLocation + '/api/taxationgroup/' + $stateParams.id;\n                        return $http.get(url);\n                    }]\n                }\n            });\n    }])\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/module.js","CodigoEnquadramentoIpiService.$inject = ['GumgaRest', 'apiLocation'];\nfunction CodigoEnquadramentoIpiService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/codigoenquadramentoipi');\n    return service;\n}\nmodule.exports = CodigoEnquadramentoIpiService;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/services/CodigoEnquadramentoIpiService.js","FormulaService.$inject = ['GumgaRest', 'apiLocation'];\nfunction FormulaService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/formula');\n\n    return service;\n}\nmodule.exports = FormulaService;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/services/FormulaService.js","MensagemService.$inject = ['GumgaRest', 'apiLocation'];\nfunction MensagemService(GumgaRest, apiLocation) {\n    const service = new GumgaRest(apiLocation + '/api/mensagem');\n\n    service.getAttributeMessageNames = () => {\n        return service.extend('get', '/attributemessagenames');\n    };\n\n    service.getTiposMensagem = () => {\n        return service.extend('get', '/tiposmensagem');\n    };\n\n    return service;\n}\nmodule.exports = MensagemService\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/services/MensagemService.js","TaxationGroupService.$inject = ['GumgaRest', 'apiLocation'];\nfunction TaxationGroupService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/taxationgroup');\n\n    service.saveValiding = function (entity) {\n        if (!entity.id) {\n            return this.extend('post', '/validatesave', entity);\n        }\n        return this.extend('put', '/validatesave', entity);\n    };\n    service.getStateList = function () {\n        return this.extend('get', '/state')\n    };\n\n    service.getICMSTypes = function () {\n        return this.extend('get', '/icmscst')\n    };\n\n    service.getCsosnTypes = function () {\n        return this.extend('get', '/csosntypes')\n    };\n\n    service.getIPITypes = function () {\n        return this.extend('get', '/ipicst');\n    };\n\n    service.getPISTypes = function () {\n        return this.extend('get', '/piscst');\n    };\n\n    service.getCalculationTypes = function () {\n        return this.extend('get', '/calculationtype');\n    };\n\n    service.getModeCalculationBaseTypes = function () {\n        return this.extend('get', '/modecalculationbase')\n    };\n\n    service.getModeCalculationBaseSTTypes = function () {\n        return this.extend('get', '/modecalculationbasest')\n    };\n\n    service.getUnburdeningMotives = function () {\n        return this.extend('get', '/unburdeningmotive')\n    };\n\n    service.getCofinsPisTypes = function () {\n        return this.extend('get', '/cofinscst')\n    };\n\n    return service;\n}\nmodule.exports = TaxationGroupService;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/services/TaxationGroupService.js","var path = '/modules/taxsettings/views/form.html';\nvar html = \"<form name=\\\"forms\\\" novalidate gumga-form>\\n    <div class=\\\"row\\\" style=\\\"font-size: 12px\\\">\\n        <div class=\\\"col-lg-10 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1 align-layout-panel cl-dark-primary text-uppercase\\\"\\n            style=\\\"margin: 10px; margin-left: 130px\\\">\\n            <label style=\\\"font-size: 24px\\\" class=\\\"ng-binding\\\">CADASTRO DE TRIBUTOS</label>\\n        </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-10 col-md-offset-1\\\">\\n            <!--Arvore de tributao-->\\n            <div class=\\\"panel gmd\\\" >\\n                <div class=\\\"panel-body\\\">\\n                    <div class=\\\"row\\\">\\n                        <!--Passo 1-->\\n                        <div ng-hide=\\\"step2\\\" class=\\\"list-tax-scroll\\\">\\n                            <!--Tipo de operao-->\\n                            <div class=\\\"list-tax-option\\\" align=\\\"center\\\" style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.operation\\\" class=\\\"b\\\">OPERATION</h4>\\n                                    <a ng-click=\\\"entity.operationTypes = operationTypesList;\\\">Adicionar todos</a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\" search-field=\\\"name\\\" filter-option-by=\\\"contains\\\" full-mode ng-model=\\\"entity.operationTypes\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.operationTypes\\\" ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in operationTypesList\\\" ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Origem-->\\n                            <div class=\\\"list-tax-option\\\" align=\\\"center\\\" style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.origin\\\" class=\\\"b\\\">ORIGIN</h4>\\n                                    <a ng-click=\\\"entity.origins = stateOriginList;\\\">Adicionar todos</a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\" search-field=\\\"label\\\" filter-option-by=\\\"contains\\\" full-mode ng-model=\\\"entity.origins\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.origins\\\" ng-value=\\\"item\\\">\\n                                            {{item.label}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in stateOriginList\\\" ng-value=\\\"option\\\">\\n                                            {{option.label}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Destino-->\\n                            <div class=\\\"list-tax-option\\\" align=\\\"center\\\" style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.destination\\\" class=\\\"b\\\">DESTINATION</h4>\\n                                    <a ng-click=\\\"entity.destinations = stateDestinationList;\\\">Adicionar todos</a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\" search-field=\\\"label\\\" filter-option-by=\\\"contains\\\" full-mode ng-model=\\\"entity.destinations\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.destinations\\\" ng-value=\\\"item\\\">\\n                                            {{item.label}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in stateDestinationList\\\" ng-value=\\\"option\\\">\\n                                            {{option.label}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Tipo de Pessoa-->\\n                            <div class=\\\"list-tax-option\\\" align=\\\"center\\\" style=\\\"font-size: 11px;\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.person\\\" class=\\\"b\\\">PERSON</h4>\\n                                    <a ng-click=\\\"entity.personGroups = personGroupList;\\\">Adicionar todos</a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\" search-field=\\\"name\\\" filter-option-by=\\\"contains\\\" full-mode ng-model=\\\"entity.personGroups\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.personGroups\\\" ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in personGroupList\\\" ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Tipo de Produto-->\\n                            <div class=\\\"list-tax-option\\\" align=\\\"center\\\" style=\\\"font-size: 11px;\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.product\\\" class=\\\"b\\\">PRODUCT</h4>\\n                                    <a ng-click=\\\"entity.productGroups = productGroupList;\\\">Adicionar todos</a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\" search-field=\\\"name\\\" filter-option-by=\\\"contains\\\" full-mode ng-model=\\\"entity.productGroups\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.productGroups\\\" ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in productGroupList\\\" ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <div>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-primary btn-circle btn-lg form-control\\\" uib-tooltip=\\\"Tributar\\\" style=\\\"margin-top: 127px;margin-left: 25px;margin-right: 10px;\\\"\\n                                    ng-click=\\\"openPanel('openTaxation')\\\" ng-disabled=\\\"blockBtnTributos(entity)\\\">\\n                                    <i class=\\\"fa fa-calculator fa-lg\\\" style=\\\"margin-left: -3px;\\\"></i>\\n                                </button>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <!--Nome da tributao-->\\n            <div class=\\\"panel gmd\\\" ng-if=\\\"openTaxation\\\">\\n                <div class=\\\"panel-body\\\">\\n                    <div class=\\\"row m-t\\\">\\n                        <div class=\\\"col-md-12\\\">\\n                            <gmd-input>\\n                                <input type=\\\"text\\\" class=\\\"form-control gmd\\\" ng-model=\\\"entity.name\\\" style=\\\"font-size: 20px\\\" />\\n                                <span class=\\\"bar\\\"></span>\\n                                <label class=\\\"control-label\\\" gumga-translate-tag=\\\"taxsettings.titleparameterization\\\">Title parameterization\\n                                </label>\\n                            </gmd-input>\\n                        </div>\\n                    </div>\\n                    <!--ICMS-->\\n                    <div class=\\\"panel gmd\\\">\\n                        <div align=\\\"left\\\" class=\\\"panel-heading\\\">\\n                            <label class=\\\"btn-link\\\" ng-click=\\\"showICMS = !showICMS\\\" style=\\\"font-size: 14px\\\">\\n                                <i ng-class=\\\"{'fa fa-caret-down' :showICMS, 'fa fa-caret-right':!showICMS}\\\"></i>\\n                                <span>PARMETROS DA TRIBUTAO DO ICMS</span>\\n                            </label>\\n                        </div>\\n                        <div class=\\\"panel-body\\\" ng-show=\\\"showICMS\\\" style=\\\"font-size: 13px\\\">\\n                            <div class=\\\"row container-fluid\\\">\\n\\n                                <div class=\\\"row m-t\\\">\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>CFOP</label>\\n                                        <gumga-many-to-one value=\\\"icms.cfop\\\" search-method=\\\"getCfopIcms(param)\\\" field=\\\"descricao\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.codigo}}</div>\\n                                                <div>{{match.model.descricao}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\" ng-show=\\\"icmsNormal\\\">\\n                                        <label>CST</label>\\n                                        <select name=\\\"icmsCst\\\" id=\\\"icmsCst\\\" ng-model=\\\"icms.CST\\\" ng-options=\\\"cst.key as cst.label for cst in icmsTypes\\\" class=\\\"form-control\\\"></select>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\" ng-hide=\\\"icmsNormal\\\">\\n                                        <label>CSOSN</label>\\n                                        <select name=\\\"CSOSN\\\" id=\\\"CSOSN\\\" ng-model=\\\"icms.CSOSN\\\" ng-options=\\\"cst.key as cst.label for cst in csosnTypes\\\" class=\\\"form-control\\\"></select>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>Mensagem</label>\\n                                        <gumga-many-to-one value=\\\"icms.mensagem\\\" search-method=\\\"getMensagem(param,'ICMS')\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\">\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>CFOP para referenciado</label>\\n                                        <gumga-many-to-one value=\\\"icms.cfopRef\\\" search-method=\\\"getCfopIcms(param)\\\" field=\\\"descricao\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.codigo}}</div>\\n                                                <div>{{match.model.descricao}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\" ng-if=\\\"icms.CSOSN === 'ANTECIPACAO_ST_500'\\\" style=\\\"margin-top: 17px;\\\">\\n                                        <gmd-input>\\n                                            <input type=\\\"text\\\" class=\\\"form-control gmd\\\" ui-percentage-mask ng-model=\\\"icms.pReducaoBase\\\" id=\\\"pReducaoBase\\\">\\n                                            <span class=\\\"bar\\\"></span>\\n                                            <label for=\\\"pReducaoBase\\\" class=\\\"control-label\\\">Reduo da base de calculo</label>\\n                                        </gmd-input>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>Mensagem para referenciado</label>\\n                                        <gumga-many-to-one value=\\\"icms.mensagemRef\\\" search-method=\\\"getMensagem(param,'ICMS')\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\" ng-show=\\\"icmsNormal\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div ng-hide=\\\"isIcmsAble(icms)\\\">\\n                                            <div class=\\\"row\\\" align=\\\"center\\\">\\n                                                <h4 class=\\\"b\\\">\\n                                                    ICMS</h4>\\n                                            </div>\\n                                            <div ng-show=\\\"isIcmsStandartGroupAble(icms)\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Modalidade Deter. da BC ICMS</label>\\n                                                        <select name=\\\"icmsModBC\\\" id=\\\"icmsModBC\\\" ng-model=\\\"icms.modBC\\\" class=\\\"form-control\\\" ng-options=\\\"mod.key as mod.label for mod in modeCalculationBaseList\\\"></select>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Frmula Valor da BC ICMS</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vBC\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Alquota ICMS</label>\\n                                                        <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMS\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Frmula Valor ICMS</label>\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vICMS\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\" ng-show=\\\"isRedGroupAble(icms)\\\">\\n                                                <div class=\\\"col-md-5 m-t container-fluid\\\">\\n                                                    <label>Reduo da BC ICMS</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"icms.pRedBC\\\" ui-percentage-mask/>\\n                                                </div>\\n                                                <div class=\\\"col-md-7 m-t\\\" ng-hide=\\\"!(icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'OUTRAS_COM_PARTILHA_90')\\\">\\n                                                    <label>BC da operao prpria</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"icms.pBCOp\\\" ui-percentage-mask/>\\n                                                </div>\\n                                            </div>\\n                                            <div ng-show=\\\"isIcmsDesoGroupAble(icms)\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-7 m-t\\\">\\n                                                        <label>Valor ICMS Desonerado</label>\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSDeson\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"col-md-12 m-t\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <label>Motivo da desonerao</label>\\n                                                        <select name=\\\"icmsMotDes\\\" id=\\\"icmsMotDes\\\" ng-model=\\\"icms.motDesICMS\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in unburdeningMotiveList\\\"></select>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div ng-show=\\\"icms.CST == 'DIFERIMENTO_51'\\\">\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>ICMS da Operao</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSOp\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Percentual do Diferimento</label>\\n                                                        <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pDif\\\" />\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Valor do ICMS diferido</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSDif\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\" ng-show=\\\"isFCPVisible(icms)\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Alquota interna da UF de destino</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMSUFDest\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Perc. Fundo Comb.  Pobreza</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pFCPUFDest\\\" />\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\" ng-hide=\\\"isIcmsStAble(icms)\\\">\\n                                        <div class=\\\"row\\\" align=\\\"center\\\">\\n                                            <h4 class=\\\"b\\\">\\n                                                ICMS ST</h4>\\n                                        </div>\\n                                        <div ng-hide=\\\"isIcmsStStandartGroupAble(icms)\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-7\\\">\\n                                                    <label>Modalidade Deter. da BC ICMS ST</label>\\n                                                    <select name=\\\"icmsmodBCST\\\" id=\\\"icmsBCST\\\" ng-model=\\\"icms.modBCST\\\" class=\\\"form-control\\\" ng-options=\\\"modst.key as modst.label for modst in modeCalculationBaseSTList\\\"></select>\\n                                                </div>\\n                                                <div class=\\\"col-md-5\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Reduo BC ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pRedBCST\\\" />\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\">\\n                                                <div class=\\\"col-md-5\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Margem valor adic. ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pMVAST\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-7\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Frmula Valor BC ICMS ST</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vBCST\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\">\\n                                                <div class=\\\"col-md-5\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Alquota ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMSST\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-7\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Frmula Valor ICMS ST</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSST\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row m-t\\\" ng-show=\\\"icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'OUTRAS_COM_PARTILHA_90'\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>UF do ICMS ST devido na operao</label>\\n                                                <select name=\\\"icmsuficmsdo\\\" id=\\\"icmsuficmsdo\\\" ng-model=\\\"icms.UFST\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in stateList\\\"></select>\\n                                            </div>\\n                                        </div>\\n                                        <div ng-show=\\\"icms.CST == 'ISENTA_COM_ST_30'\\\">\\n                                            <div class=\\\"row m-t\\\">\\n                                                <div class=\\\"col-md-5\\\">\\n                                                    <label>Valor ICMS Desonerado</label>\\n\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSDeson\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"col-md-12 m-t\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <label>Motivo da desonerao</label>\\n                                                    <select name=\\\"modIcmsSetDeson\\\" id=\\\"modIcmsSetDeson\\\" ng-model=\\\"icms.motDesICMS\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in unburdeningMotiveList\\\"></select>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row\\\" ng-show=\\\"icms.CST == 'NAO_TRIBUTADA_41_ICMSST' || icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label ng-hide=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">BC ICMS ST retido na UF remet.</label>\\n                                                <label ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">BC ICMS ST retido anteriormente</label>\\n                                                <gumga-many-to-one value=\\\"icms.vBCSTRet\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label ng-hide=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">ICMS ST retido na UF remet.</label>\\n                                                <label ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">ICMS ST retido anteriormente\\n                                                </label>\\n                                                <gumga-many-to-one value=\\\"icms.vICMSSTRet\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row\\\">\\n                                            <div class=\\\"col-md-5\\\" ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60' ||icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                <label>Reduo ICMS ST Prprio</label>\\n                                                <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pRedIMCSSTProp\\\" />\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row m-t\\\" ng-show=\\\"icms.CST == 'NAO_TRIBUTADA_41_ICMSST'\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>BC ICMS ST da UF destino</label>\\n\\n                                                <gumga-many-to-one value=\\\"icms.vBCSTDest\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>ICMS ST da UF destino</label>\\n                                                <gumga-many-to-one value=\\\"icms.vICMSSTDest\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\" ng-hide=\\\"icmsNormal\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div ng-show=\\\"showSimples(icms)\\\">\\n                                            <div class=\\\"row \\\" align=\\\"center\\\">\\n                                                <h4 class=\\\"b\\\">\\n                                                    ICMS</h4>\\n                                            </div>\\n                                            <div ng-show=\\\"icms.CSOSN === 'OUTROS_900'\\\" class=\\\"m-b\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Modalidade Deter. da BC ICMS</label>\\n                                                        <select name=\\\"icmsModBC\\\" ng-model=\\\"icms.modBC\\\" class=\\\"form-control\\\" ng-options=\\\"mod.key as mod.label for mod in modeCalculationBaseList\\\"></select>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Frmula Valor da BC ICMS</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vBC\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Alquota ICMS</label>\\n                                                        <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMS\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Frmula Valor ICMS</label>\\n\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vICMS\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-5 m-t container-fluid\\\">\\n                                                        <label>Reduo da BC ICMS</label>\\n                                                        <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"icms.pRedBC\\\" ui-percentage-mask/>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row \\\" ng-if=\\\"showAliquotaGroup(icms)\\\">\\n                                                <div class=\\\"col-md-7\\\" ng-show=\\\"icms.CSOSN !== 'CREDITO_101'\\\">\\n                                                    <label>Alquota aplicvel de clculo do crdito</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pCredSN\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-5\\\">\\n                                                    <label>Frmula Vl. crdito do ICMS</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vCredICMSSN\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\" ng-show=\\\"isFCPVisible(icms)\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Alquota interna da UF de destino</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMSUFDest\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Perc. Fundo Comb.  Pobreza</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pFCPUFDest\\\" />\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\" ng-show=\\\"showSimplesSt(icms)\\\">\\n                                        <div class=\\\"row\\\" align=\\\"center\\\">\\n                                            <h4 class=\\\"b\\\">\\n                                                ICMS ST</h4>\\n                                        </div>\\n                                        <div ng-show=\\\"showIcmsStSimple(icms)\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-7\\\">\\n                                                    <label>Modalidade Deter. da BC ICMS ST</label>\\n                                                    <select name=\\\"icmsmodBCST\\\" ng-model=\\\"icms.modBCST\\\" class=\\\"form-control\\\" ng-options=\\\"modst.key as modst.label for modst in modeCalculationBaseSTList\\\"></select>\\n                                                </div>\\n                                                <div class=\\\"col-md-5\\\">\\n                                                    <label>Reduo BC ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pRedBCST\\\" />\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\">\\n                                                <div class=\\\"col-md-5\\\" ng-if=\\\"icms.modBCST !== 'PAUTA'\\\">\\n                                                    <label>Margem valor adic. ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pMVAST\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-7 pull-right\\\">\\n                                                    <label>Frmula Valor BC ICMS ST</label>\\n\\n                                                    <gumga-many-to-one value=\\\"icms.vBCST\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\">\\n                                                <div class=\\\"col-md-5\\\">\\n                                                    <label>Alquota ICMS ST</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"icms.pICMSST\\\" />\\n                                                </div>\\n                                                <div class=\\\"col-md-7\\\">\\n                                                    <label>Frmula Valor ICMS ST</label>\\n\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSST\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row\\\" ng-show=\\\"icms.CSOSN === ''\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>BC ICMS ST retido anteriormente</label>\\n                                                <gumga-many-to-one value=\\\"icms.vBCSTRet\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>ICMS ST retido anteriormente\\n                                                </label>\\n                                                <gumga-many-to-one value=\\\"icms.vICMSSTRet\\\" search-method=\\\"getFormulaIcms(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                    editable=\\\"false\\\">\\n                                                    <match>\\n                                                        <div>{{match.model.name}}</div>\\n                                                    </match>\\n                                                </gumga-many-to-one>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <!--PIS-->\\n                    <div class=\\\"panel gmd\\\">\\n                        <div align=\\\"left\\\" class=\\\"panel-heading\\\">\\n                            <label class=\\\"btn-link\\\" ng-click=\\\"showPIS = !showPIS\\\" style=\\\"font-size: 14px\\\">\\n                                <i ng-class=\\\"{'fa fa-caret-down' :showPIS, 'fa fa-caret-right':!showPIS}\\\"></i>\\n                                <span>PARMETROS DA TRIBUTAO DO PIS</span>\\n                            </label>\\n                        </div>\\n                        <div class=\\\"panel-body\\\" ng-show=\\\"showPIS\\\" style=\\\"font-size: 13px\\\">\\n                            <div class=\\\"row container-fluid\\\">\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>CST</label>\\n                                        <select name=\\\"cstpis\\\" id=\\\"cstpis\\\" ng-model=\\\"pis.CST\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in cstpis\\\"></select>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>Mensagem</label>\\n\\n                                        <gumga-many-to-one value=\\\"pis.mensagem\\\" search-method=\\\"getMensagem(param,'PIS')\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\" ng-hide=\\\"isPisAble(pis)\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div ng-hide=\\\"pis.CST == 'OPERACAO_TRIBUTAVEL_05'\\\">\\n\\n                                            <div class=\\\"row\\\">\\n                                                <h4 class=\\\"b\\\" align=\\\"center\\\">PIS</h4>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-6\\\" ng-hide=\\\"isPisOperationTypeUnable(pis)\\\">\\n                                                    <label>Tipo de clculo</label>\\n                                                    <select name=\\\"calculationpis\\\" id=\\\"calculationpis\\\" ng-model=\\\"pis.calculationType\\\" class=\\\"form-control\\\" ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                </div>\\n                                                <div class=\\\"row\\\" ng-show=\\\"isPisAliquotaAble(pis)\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n                                                        <div class=\\\"row\\\">\\n                                                            <div class=\\\"col-md-12\\\">\\n\\n                                                                <div class=\\\"col-md-6\\\">\\n                                                                    <label>Valor da base de clculo</label>\\n\\n                                                                    <gumga-many-to-one value=\\\"pis.vBC\\\" search-method=\\\"getFormulaPis(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\" editable=\\\"false\\\">\\n                                                                        <match>\\n                                                                            <div>{{match.model.name}}</div>\\n                                                                        </match>\\n                                                                    </gumga-many-to-one>\\n                                                                </div>\\n                                                                <div class=\\\"col-md-6\\\">\\n                                                                    <label>Alquota (percentual)</label>\\n                                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"pis.pPIS\\\" />\\n                                                                </div>\\n\\n                                                            </div>\\n                                                        </div>\\n\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor do PIS</label>\\n\\n                                                            <gumga-many-to-one value=\\\"pis.vPIS\\\" search-method=\\\"getFormulaPis(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\" editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\" ng-show=\\\"pis.CST === 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                        <div class=\\\"row\\\">\\n                                            <h4 class=\\\"b\\\" align=\\\"center\\\">PIS ST</h4>\\n                                        </div>\\n                                        <div class=\\\"row\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>Tipo de clculo</label>\\n                                                <select name=\\\"calculationpisst\\\" id=\\\"calculationpisst\\\" ng-model=\\\"pis.calculationTypeST\\\" class=\\\"form-control\\\" ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"row\\\" ng-show=\\\" pis.calculationTypeST == 'PORCENTAGEM'\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-12\\\">\\n                                                    <div class=\\\"col-md-6 m-t\\\">\\n                                                        <label>Valor da base de clculo</label>\\n\\n                                                        <gumga-many-to-one value=\\\"pis.vBCST\\\" search-method=\\\"getFormulaPis(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-6 m-t\\\">\\n                                                        <label>Alquota (percentual)</label>\\n                                                        <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"pis.pPISST\\\" />\\n                                                    </div>\\n\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-12\\\">\\n                                                    <div class=\\\"col-md-6 m-t\\\">\\n                                                        <label>Valor do PIS ST</label>\\n\\n                                                        <gumga-many-to-one value=\\\"pis.vPISST\\\" search-method=\\\"getFormulaPis(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                            editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <!--COFINS-->\\n                    <div class=\\\"panel gmd\\\">\\n                        <div align=\\\"left\\\" class=\\\"panel-heading\\\">\\n                            <label class=\\\"btn-link\\\" ng-click=\\\"showCOFINS = !showCOFINS\\\" style=\\\"font-size: 14px\\\">\\n                                <i ng-class=\\\"{'fa fa-caret-down':showCOFINS, 'fa fa-caret-right':!showCOFINS}\\\"></i>\\n                                <span>PARMETROS DA TRIBUTAO DO COFINS</span>\\n                            </label>\\n                        </div>\\n                        <div class=\\\"panel-body\\\" ng-show=\\\"showCOFINS\\\" style=\\\"font-size: 13px\\\">\\n                            <div class=\\\"row container-fluid\\\">\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>CST</label>\\n                                        <select name=\\\"cstcofins\\\" id=\\\"cstcofins\\\" ng-model=\\\"cofins.CST\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in cstpis\\\"></select>\\n\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>Mensagem</label>\\n                                        <gumga-many-to-one value=\\\"cofins.mensagem\\\" search-method=\\\"getMensagem(param,'COFINS')\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\" ng-hide=\\\"isCofinsAble(cofins)\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div ng-hide=\\\"cofins.CST == 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <h4 class=\\\"b\\\" align=\\\"center\\\">COFINS</h4>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-6\\\" ng-hide=\\\"isCofinsOperationTypeUnable(cofins)\\\">\\n                                                    <label>Tipo de clculo</label>\\n                                                    <select name=\\\"calculationcofins\\\" id=\\\"calculationcofins\\\" ng-model=\\\"cofins.calculationType\\\" class=\\\"form-control\\\" ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                </div>\\n                                                <div class=\\\"row\\\" ng-show=\\\"isCofinsAliquotaAble(cofins)\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n                                                        <div class=\\\"row\\\">\\n                                                            <div class=\\\"col-md-12\\\">\\n                                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                                    <label>Valor da base de clculo</label>\\n\\n                                                                    <gumga-many-to-one value=\\\"cofins.vBC\\\" search-method=\\\"getFormulaCofins(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                                        editable=\\\"false\\\">\\n                                                                        <match>\\n                                                                            <div>{{match.model.name}}</div>\\n                                                                        </match>\\n                                                                    </gumga-many-to-one>\\n                                                                </div>\\n                                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                                    <label>Alquota (percentual)</label>\\n                                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"cofins.pCOFINS\\\" />\\n                                                                </div>\\n                                                            </div>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor do COFINS</label>\\n\\n                                                            <gumga-many-to-one value=\\\"cofins.vCOFINS\\\" search-method=\\\"getFormulaCofins(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                                editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\" ng-show=\\\"cofins.CST === 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                        <div class=\\\"row\\\">\\n                                            <h4 class=\\\"b\\\" align=\\\"center\\\">COFINS ST</h4>\\n                                        </div>\\n                                        <div class=\\\"row\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>Tipo de clculo</label>\\n                                                <select name=\\\"calculationcofinsst\\\" id=\\\"calculationcofinsst\\\" ng-model=\\\"cofins.calculationTypeST\\\" class=\\\"form-control\\\" ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                            </div>\\n                                        </div>\\n                                        <div ng-show=\\\"cofins.calculationTypeST == 'PORCENTAGEM'\\\">\\n                                            <div class=\\\"row\\\">\\n\\n                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                    <label>Valor da base de clculo</label>\\n\\n                                                    <gumga-many-to-one value=\\\"cofins.vBCST\\\" search-method=\\\"getFormulaCofins(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                                <div class=\\\"col-md-4 m-t\\\">\\n                                                    <label>Alquota (percentual)</label>\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"cofins.pCOFINSST\\\" />\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n\\n                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                    <label>Valor do COFINS ST</label>\\n\\n                                                    <gumga-many-to-one value=\\\"cofins.vCOFINSST\\\" search-method=\\\"getFormulaCofins(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                                        editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <!--IPI-->\\n                    <div class=\\\"panel gmd\\\">\\n                        <div align=\\\"left\\\" class=\\\"panel-heading\\\">\\n                            <label class=\\\"btn-link\\\" ng-click=\\\"showIPI = !showIPI\\\" style=\\\"font-size: 14px\\\">\\n                                <i ng-class=\\\"{'fa fa-caret-down' :showIPI, 'fa fa-caret-right':!showIPI }\\\"></i>\\n                                <span>PARMETROS DA TRIBUTAO DO IPI</span>\\n                            </label>\\n                        </div>\\n                        <div class=\\\"panel-body\\\" ng-show=\\\"showIPI\\\" style=\\\"font-size: 13px\\\">\\n                            <div class=\\\"row container-fluid\\\">\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>CST</label>\\n                                        <select name=\\\"cstipi\\\" id=\\\"cstipi\\\" ng-model=\\\"ipi.CST\\\" class=\\\"form-control\\\" ng-options=\\\"obj.key as obj.label for obj in cstipi\\\"></select>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>Cd. Enquadramento legal do IPI</label>\\n                                        <gumga-many-to-one value=\\\"ipi.enquadramentoIpi\\\" search-method=\\\"searchEnquadramento(param)\\\" class=\\\"gmd\\\" field=\\\"descricao\\\"\\n                                            display-info=\\\"false\\\" async=\\\"true\\\">\\n                                            <match>\\n                                                <div>{{match.model.codigo}} - {{match.model.descricao}}\\n                                                </div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                    <div class=\\\"col-md-4\\\">\\n                                        <label>Mensagem</label>\\n                                        <gumga-many-to-one value=\\\"ipi.mensagem\\\" search-method=\\\"getMensagem(param,'IPI')\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\"\\n                                            editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div class=\\\"row m-t\\\" ng-hide=\\\"isIpiAble(ipi)\\\">\\n\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>Tipo de clculo</label>\\n                                                <select name=\\\"calculationipi\\\" id=\\\"calculationipi\\\" ng-model=\\\"ipi.ipiCalculationType\\\" class=\\\"form-control\\\" ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                            </div>\\n                                            <div ng-show=\\\"ipi.ipiCalculationType == 'PORCENTAGEM'\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor da base de clculo</label>\\n\\n                                                            <gumga-many-to-one value=\\\"ipi.vBC\\\" search-method=\\\"getFormulaIpi(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\" editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Alquota</label>\\n                                                            <input type=\\\"text\\\" class=\\\"form-control\\\" ui-percentage-mask ng-model=\\\"ipi.pIPI\\\" />\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                    <label>Valor do IPI</label>\\n                                                    <gumga-many-to-one value=\\\"ipi.vIPI\\\" search-method=\\\"getFormulaIpi(param)\\\" field=\\\"name\\\" async=\\\"true\\\" display-info=\\\"false\\\" editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <gmd-fab force-click=\\\"false\\\" fixed opened=\\\"!fabs\\\" style=\\\"z-index: 99\\\">\\n                <button class=\\\"bg-accent gmd-ripple\\\" type=\\\"button\\\" ng-class=\\\"{ 'gmd-disabled' : blockBtnTributos(entity) || saveDisabled(entity,icms,pis,cofins,ipi) }\\\"\\n                    ng-click=\\\"update(entity,icms,pis,cofins,ipi, blockBtnTributos(entity) || saveDisabled(entity,icms,pis,cofins,ipi))\\\">\\n                    <span class=\\\"material-icons\\\">check</span>\\n                </button>\\n                <ul>\\n                    <li class=\\\"bg-primary\\\" ng-show=\\\"entity.id\\\" ui-sref=\\\"taxsettings.list\\\">\\n                        <span>Voltar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">keyboard_backspace</i>\\n                    </li>\\n                    <li class=\\\"bg-primary\\\" ng-click=\\\"clearPage()\\\">\\n                        <span>Limpar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">delete_sweep</i>\\n                    </li>\\n                    <li class=\\\"btn-danger\\\" ng-hide=\\\"entity.id\\\" ui-sref=\\\"taxsettings.list\\\">\\n                        <span>Cancelar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">close</i>\\n                    </li>\\n                    <li class=\\\"bg-primary\\\" ng-show=\\\"entity.id\\\" ng-click=\\\"replicateTaxSetting()\\\">\\n                        <span>Replicar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">content_copy</i>\\n                    </li>\\n                </ul>\\n            </gmd-fab>\\n        </div>\\n    </div>\\n</form>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/taxsettings/views/form.html\n// module id = 14\n// module chunks = 0","var path = '/modules/taxsettings/views/list.html';\nvar html = \"<div class=\\\"row\\\">\\n    <div class=\\\"col-lg-12\\\">\\n        <div class=\\\"ibox float-e-margins\\\">\\n            <div class=\\\"ibox-content\\\">\\n                <div class=\\\"col-md-12\\\">\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"row\\\">\\n                            <!--<div class=\\\"col-md-5\\\">-->\\n                                <!--<button type=\\\"button\\\" ui-sref=\\\"taxsettings.insert\\\" grands-button=\\\"new\\\"></button>-->\\n                                <!--<button type=\\\"button\\\" ng-click=\\\"taxationGroup.methods.delete(selectedValues)\\\"-->\\n                                        <!--grands-button=\\\"delete\\\" ng-disabled=\\\"selectedValues.length == 0\\\"></button>-->\\n                            <!--</div>-->\\n                            <div class=\\\"col-md-offset-5 col-md-7\\\">\\n                                <gumga-query search=\\\"taxationGroup.methods.searchWithGQuery(param)\\\"\\n                                             advanced-search=\\\"taxationGroup.methods.searchWithGQuery(param)\\\"\\n                                             use-gquery=\\\"true\\\">\\n                                    <search-field field=\\\"name\\\" label=\\\"{{'titleparameterization'|gumgaTranslate:'taxsettings'}}\\\" select=\\\"true\\\"></search-field>\\n                                    <advanced-search-field type=\\\"string\\\" label=\\\"{{'titleparameterization'|gumgaTranslate:'taxsettings'}}\\\" field=\\\"name\\\"></advanced-search-field>\\n                                </gumga-query>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-md-12\\\" style=\\\"margin-top:1%\\\">\\n                        <gumga-list data=\\\"taxationGroup.data\\\"\\n                                    configuration=\\\"conf\\\"\\n                                    class=\\\"table-striped\\\"\\n                                    sort=\\\"taxationGroup.methods.sort(field, dir)\\\"\\n                                    page-size=\\\"taxationGroup.pageSize\\\"\\n                                    count=\\\"taxationGroup.count\\\"\\n                                    page-model=\\\"page\\\"\\n                                    max-height=\\\"400px\\\"\\n                                    on-page-change=\\\"taxationGroup.methods.get(page, pageSize)\\\"></gumga-list>\\n                    </div>\\n                </div>\\n                <gmd-fab force-click=\\\"false\\\" fixed opened=\\\"selectedValues.length > 0\\\">\\n                    <button class=\\\"bg-accent gmd-ripple\\\" ui-sref=\\\"taxsettings.insert\\\" ng-if=\\\"selectedValues.length == 0\\\">\\n                        <span class=\\\"material-icons\\\">add</span>\\n                    </button>\\n                    <button class=\\\"bg-accent gmd-ripple\\\" ng-if=\\\"selectedValues.length > 0\\\">\\n                        <span class=\\\"material-icons\\\">menu</span>\\n                    </button>\\n                    <ul>\\n                        <li class=\\\"btn-danger\\\"\\n                            ng-class=\\\"{'gmd-invisible' : selectedValues.length == 0}\\\"\\n                            ng-click=\\\"taxationGroup.methods.delete(selectedValues)\\\">\\n                            <span>Excluir</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">delete</i>\\n                        </li>\\n                        <li class=\\\"btn-warning\\\"\\n                            ui-sref=\\\"taxsettings.edit({id: selectedValues[0].id})\\\"\\n                            ng-class=\\\"{'gmd-invisible' : selectedValues.length == 0}\\\">\\n                            <span>Editar</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">edit</i>\\n                        </li>\\n                        <li class=\\\"btn-primary\\\"\\n                            ui-sref=\\\"taxsettings.insert\\\"\\n                            ng-class=\\\"{'gmd-invisible' : selectedValues.length == 0}\\\">\\n                            <span>Novo</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">add</i>\\n                        </li>\\n                    </ul>\\n                </gmd-fab>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/taxsettings/views/list.html\n// module id = 15\n// module chunks = 0","var path = '/modules/taxsettings/views/modalConflito.html';\nvar html = \"<div class=\\\"modal-header\\\">\\n    <h3 class=\\\"modal-title\\\" gumga-translate-tag=\\\"taxsettings.modaltitle\\\"></h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <p gumga-translate-tag=\\\"taxsettings.modaltext\\\"></p>\\n    <gumga-list data=\\\"values\\\"\\n                configuration=\\\"conf\\\"\\n                class=\\\"table-bordered\\\"></gumga-list>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" ng-click=\\\"close()\\\" grands-button=\\\"close\\\"></button>\\n</div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/taxsettings/views/modalConflito.html\n// module id = 16\n// module chunks = 0"],"sourceRoot":""}