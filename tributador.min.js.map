{"version":3,"sources":["webpack:///tributador.min.js","webpack:///webpack/bootstrap 4e32bd55296cef304e7d","webpack:///./app/modules/taxsettings/services/module.js","webpack:///./app/import-modules.js","webpack:///./app/import-style.js","webpack:///./app/app.js","webpack:///./app/modules/taxsettings/controllers/ModalConflitoController.js","webpack:///./app/modules/taxsettings/controllers/TaxSettingsFormController.js","webpack:///./app/modules/taxsettings/controllers/TaxSettingsListController.js","webpack:///./app/modules/taxsettings/controllers/module.js","webpack:///./app/modules/taxsettings/module.js","webpack:///./app/modules/taxsettings/services/CodigoEnquadramentoIpiService.js","webpack:///./app/modules/taxsettings/services/FormulaService.js","webpack:///./app/modules/taxsettings/services/MensagemService.js","webpack:///./app/modules/taxsettings/services/TaxationGroupService.js","webpack:///./app/modules/taxsettings/views/form.html","webpack:///./app/modules/taxsettings/views/list.html","webpack:///./app/modules/taxsettings/views/modalConflito.html"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","angular","service","config","$stateProvider","state","data","id","url","abstract","ModalConflitoController","entity","values","$scope","$uibModalInstance","filterById","arr","insideArr","filter","length","filterByKey","key","copy","map","operationTypes","productTypes","productGroups","personTypes","personGroups","destinations","origins","conf","columns","selection","columnsConfig","size","title","content","close","$inject","TaxSettingsFormController","TaxationGroupService","MensagemService","CompanyService","OperationTypeService","PersonGroupService","ProductGroupService","CfopService","FormulaService","$state","$timeout","$uibModal","$rootScope","CodigoEnquadramentoIpiService","MbgNotification","gumgaController","ConfigService","SweetAlert","invalidPis","pis","CST","invalidPisAliquota","calculationTypeST","invalidPisAliquotaST","calculationType","invalidCofins","cofins","invalidCofinsAliquota","invalidCofinsAliquotaST","invalidIpi","ipi","ipiCalculationType","invalidIpiAliquota","invalidIcmsNormal","icms","invalidIcmsBase","invalidIcmsStBase","UFST","invalidIcmsDeson","invalidIcmsStRetid","invalidIcmsDife","invalidIcmsStRetidoAnter","invalidIcmsSimples","CSOSN","vCredICMSSN","invalidBaseStSimples","invalidAliquotaGroup","invalidIcmsStRetidoAnterSimples","vBCSTRet","vICMSSTRet","modBCST","vBCST","pICMSST","vICMSST","pCredSN","doSave","current","swal","text","type","showCancelButton","confirmButtonClass","confirmButtonText","cancelButtonText","closeOnConfirm","closeOnCancel","isConfirm","go","doErr","err","Array","isArray","unmapEnum","stateDestinationList","stateOriginList","open","templateUrl","modalConflito","controller","resolve","openNotification","variation","duration","details","actionButton","valueArr","dtoArr","pCOFINSST","vCOFINSST","vBC","pCOFINS","vCOFINS","pIPI","vIPI","pPISST","vPISST","pPIS","vPIS","modBC","pICMS","vICMS","vICMSDeson","motDesICMS","pRedBCST","pMVAST","vBCSTDest","vICMSSTDest","vICMSOp","pDif","vICMSDif","mapEnum","mountIcms","obj","version","cfop","mensagem","mensagemRef","cfopRef","pReducaoBase","mountIcmsSimples","pRedBC","mountPis","mountCofins","mountIpi","enquadramentoIpi","operationConditional","2px solid red","operationConflicts","createRestMethods","taxationGroup","execute","taxationPIS","taxationICMS","taxationCOFINS","taxationIPI","continue","vICMSd","showICMS","showPIS","showCOFINS","openTaxation","step1","configOpen","configOpenNext","mensagemICMSList","mensagemPISList","mensagemIPIList","mensagemCOFINSList","formulaIcmsBCList","formulaValorIcms","formulaBaseIcmsSt","formulaValorIcmsSt","formulaValorIcmsDeson","formulaIcmsStDeson","fomulasBaseIcmsRet","formulaValorIcmsRet","formulaBaseIcmsDest","formulaValorIcmsDest","formulaValorIcmsOpe","formulaBasePis","formulaBasePisST","formulaValorPisST","formulaValorPis","formulaBaseCofins","formulaBaseCofinsST","formulaValorCofinsST","formulaValorCofins","cfopList","stateOriginConflicts","stateDestinationsConflicts","personGroupConflicts","productGroupConflicts","getCurrentCompany","then","icmsNormal","crt","tribute","all","operationTypesList","isEqualArray","arr2","equals","addOrRemoveAll","listEntityKey","listOption","clearPage","replicateTaxSetting","newEntity","personGroupList","productGroupList","getStateList","getICMSTypes","icmsTypes","label","concat","getCsosnTypes","csosnTypes","getPISTypes","cstpis","getIPITypes","cstipi","getCalculationTypes","calculationTypes","getModeCalculationBaseTypes","modeCalculationBaseList","getModeCalculationBaseSTTypes","modeCalculationBaseSTList","getUnburdeningMotives","unburdeningMotiveList","confOperation","conditional","checkbox","confState","confPerson","confProduct","blockBtnTributos","isIcmsAble","isIcmsStandartGroupAble","isIcmsDesoGroupAble","isIcmsRedGroupAble","isIcmsStAble","isIcmsStStandartGroupAble","getCfopIcms","getAdvancedSearch","getFormulaIcms","getFormulaPis","getFormulaCofins","getFormulaIpi","getMensagem","isIpiAble","isPisAble","isPisOperationTypeUnable","isPisAliquotaAble","isCofinsAble","isCofinsOperationTypeUnable","isCofinsAliquotaAble","saveDisabled","update","disabled","isFCPVisible","pICMSUFDest","pFCPUFDest","$emit","saveValiding","showAliquotaGroup","showIcmsStSimple","showSimples","showSimplesSt","searchEnquadramento","param","getSearch","TaxSettingsListController","GQueryBase","GQuery","proxySearchWithGQuery","methods","searchWithGQuery","and","validBuddy","oi","validateBuddy","getIcon","iconFabs","translateIcon","materialTheme","activeLineColor","hoverLineColor","itemsPerPage","alignColumn","alignRows","widthPorcentage","goToLastPage","lastPage","Math","ceil","count","pageSize","copyDeleteRecord","confirmButtonColor","copyAndDeleteRecord","on","getLatestOperation","list","form","apiLocation","controllerAs","$http","$q","ent","$transition$","params","GumgaRest","copyRecord","this","extend","deleteRecord","getAttributeMessageNames","getTiposMensagem","getCofinsPisTypes","path","window","run","put"],"mappings":"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","file":"tributador.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = angular.module('app.taxsettings.services', ['api.location']).service('MensagemService', __webpack_require__(11)).service('FormulaService', __webpack_require__(10)).service('CodigoEnquadramentoIpiService', __webpack_require__(9)).service('TaxationGroupService', __webpack_require__(12));\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(8);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(13);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(2);\n__webpack_require__(1);\n\nvar base = '/baseGrandsComponents.html';\n\nmodule.exports = angular.module('taxsettings.core', ['ui.router', 'ngSanitize', 'gumga.core', 'brasil.filters', 'ui.utils.masks', 'datePicker', 'app.stock', 'app.taxsettings', 'buddy.core', 'operationtype.core', 'product.core']).config(function ($stateProvider) {\n    $stateProvider.state('app.taxsettings', {\n        data: {\n            id: 1\n        },\n        url: '/taxsettings',\n        abstract: true\n    });\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nModalConflitoController.$inject = ['entity', 'values', '$scope', '$uibModalInstance'];\nfunction ModalConflitoController(entity, values, $scope, $uibModalInstance) {\n\n    entity = angular.copy(entity);\n    $scope.values = angular.copy(values);\n    $scope.values = $scope.values.map(function (data) {\n        data.operationTypes = filterById(data.operationTypes, entity.operationTypes);\n        data.productTypes = filterById(data.productGroups, entity.productGroups);\n        data.personTypes = filterById(data.personGroups, entity.personGroups);\n        data.destinations = filterByKey(data.destinations, entity.destinations);\n        data.origins = filterByKey(data.origins, entity.origins);\n        return data;\n    });\n    $scope.conf = {\n        columns: 'id,name,operations,origins,destinations,personTypes,productType',\n        selection: 'none',\n        columnsConfig: [{\n            name: 'id',\n            size: 'col-md-1',\n            title: '<strong gumga-translate-tag=\"taxsettings.id\">Code</strong>',\n            content: '<div>{{$value.id}}</div>'\n        }, {\n            name: 'name',\n            size: 'col-md-1',\n            title: '<strong gumga-translate-tag=\"taxsettings.name\">Tribute</strong>',\n            content: '<div>{{$value.name}}</div>'\n        }, {\n            name: 'operations',\n            size: 'col-md-2',\n            title: '<strong gumga-translate-tag=\"taxsettings.operations\">Operations</strong>',\n            content: '<span ng-repeat=\"obj in $value.operationTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n        }, {\n            name: 'origins',\n            size: 'col-md-2',\n            title: '<strong gumga-translate-tag=\"taxsettings.origins\">Origins</strong>',\n            content: '<span ng-repeat=\"obj in $value.origins track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.label}}</span>'\n        }, {\n            name: 'destinations',\n            size: 'col-md-2',\n            title: '<strong gumga-translate-tag=\"taxsettings.destinations\">Destinations</strong>',\n            content: '<span ng-repeat=\"obj in $value.destinations track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.label}}</span>'\n        }, {\n            name: 'personTypes',\n            size: 'col-md-2',\n            title: '<strong gumga-translate-tag=\"taxsettings.groupofpeople\">Group of People</strong>',\n            content: '<span ng-repeat=\"obj in $value.personTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n        }, {\n            name: 'productType',\n            size: 'col-md-2',\n            title: '<strong gumga-translate-tag=\"taxsettings.productgroup\">Product Group</strong>',\n            content: '<span ng-repeat=\"obj in $value.productTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n        }]\n    };\n    $scope.close = function () {\n        $uibModalInstance.close($scope.values);\n    };\n\n    function filterById(arr, insideArr) {\n        return arr.filter(function (data) {\n            return insideArr.filter(function (value) {\n                return value.id === data.id;\n            }).length > 0;\n        });\n    }\n\n    function filterByKey(arr, insideArr) {\n        return arr.filter(function (data) {\n            return insideArr.filter(function (value) {\n                return value.key === data.key;\n            }).length > 0;\n        });\n    }\n}\nmodule.exports = ModalConflitoController;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar modalConflito = __webpack_require__(16);\n\nTaxSettingsFormController.$inject = ['TaxationGroupService', 'MensagemService', 'CompanyService', 'OperationTypeService', 'PersonGroupService', 'ProductGroupService', 'CfopService', 'FormulaService', '$state', 'entity', '$scope', '$timeout', '$uibModal', '$rootScope', 'CodigoEnquadramentoIpiService', 'MbgNotification', 'gumgaController', 'ConfigService', 'SweetAlert'];\n\nfunction TaxSettingsFormController(TaxationGroupService, MensagemService, CompanyService, OperationTypeService, PersonGroupService, ProductGroupService, CfopService, FormulaService, $state, entity, $scope, $timeout, $uibModal, $rootScope, CodigoEnquadramentoIpiService, MbgNotification, gumgaController, ConfigService, SweetAlert) {\n\n\tgumgaController.createRestMethods($scope, TaxationGroupService, 'taxationGroup');\n\t$scope.taxationGroup.execute('reset');\n\t$scope.entity = angular.copy(entity.data);\n\t$scope.pis = $scope.entity.taxationPIS || {};\n\t$scope.icms = $scope.entity.taxationICMS || {};\n\t$scope.cofins = $scope.entity.taxationCOFINS || {};\n\t$scope.ipi = $scope.entity.taxationIPI || {};\n\t$scope.continue = {};\n\t$scope.entity.operationTypes = $scope.entity.operationTypes || [];\n\t$scope.entity.origins = $scope.entity.origins || [];\n\t$scope.entity.destinations = $scope.entity.destinations || [];\n\t$scope.entity.personGroups = $scope.entity.personGroups || [];\n\t$scope.entity.productGroups = $scope.entity.productGroups || [];\n\t$scope.vICMSd = $scope.vICMSd || 0;\n\t$scope.showICMS = false;\n\t$scope.showPIS = false;\n\t$scope.showCOFINS = false;\n\t$scope.openTaxation = false;\n\t$scope.step1 = false;\n\t$scope.configOpen = false;\n\t$scope.configOpenNext = false;\n\t$scope.mensagemICMSList = [];\n\t$scope.mensagemPISList = [];\n\t$scope.mensagemIPIList = [];\n\t$scope.mensagemCOFINSList = [];\n\t$scope.formulaIcmsBCList = [];\n\t$scope.formulaValorIcms = [];\n\t$scope.formulaBaseIcmsSt = [];\n\t$scope.formulaValorIcmsSt = [];\n\t$scope.formulaValorIcmsDeson = [];\n\t$scope.formulaIcmsStDeson = [];\n\t$scope.fomulasBaseIcmsRet = [];\n\t$scope.formulaValorIcmsRet = [];\n\t$scope.formulaBaseIcmsDest = [];\n\t$scope.formulaValorIcmsDest = [];\n\t$scope.formulaValorIcmsOpe = [];\n\t$scope.formulaBasePis = [];\n\t$scope.formulaBasePisST = [];\n\t$scope.formulaValorPisST = [];\n\t$scope.formulaValorPis = [];\n\t$scope.formulaBaseCofins = [];\n\t$scope.formulaBaseCofinsST = [];\n\t$scope.formulaValorCofinsST = [];\n\t$scope.formulaValorCofins = [];\n\t$scope.cfopList = [];\n\t$scope.stateOriginConflicts = [];\n\t$scope.stateDestinationsConflicts = [];\n\t$scope.personGroupConflicts = [];\n\t$scope.productGroupConflicts = [];\n\t$scope.operationConflicts = [];\n\n\tif ($scope.entity.id) {\n\t\t$scope.openTaxation = true;\n\t\t$scope.configOpen = false;\n\t\t$scope.configOpenNext = false;\n\t}\n\n\tCompanyService.getCurrentCompany().then(function (data) {\n\t\t$scope.icmsNormal = data.data.crt === 'REGIME_NORMAL';\n\t\tif ($scope.icmsNormal) {\n\t\t\t$scope.tribute = ['ICMS', 'PIS', 'COFINS', 'IPI'];\n\t\t} else {\n\t\t\t$scope.tribute = ['ICMS Simples', 'PIS', 'COFINS', 'IPI'];\n\t\t\t$scope.icms.CST = '';\n\t\t}\n\t});\n\n\tOperationTypeService.all().then(function (data) {\n\t\t$scope.operationTypesList = data.data.values;\n\t\t$timeout(function () {\n\t\t\t$scope.entity.operationTypes = entity.data.operationTypes || [];\n\t\t\t$scope.entity.operationTypes = $scope.entity.operationTypes.map(function (data) {\n\t\t\t\treturn $scope.operationTypesList.filter(function (value) {\n\t\t\t\t\treturn value.id === data.id;\n\t\t\t\t})[0];\n\t\t\t});\n\t\t});\n\t});\n\n\t$scope.isEqualArray = function (arr, arr2) {\n\t\treturn angular.equals(arr, arr2);\n\t};\n\n\t$scope.addOrRemoveAll = function (listEntityKey, listOption) {\n\t\tif ($scope.isEqualArray($scope.entity[listEntityKey], listOption)) {\n\t\t\t$scope.entity[listEntityKey] = [];\n\t\t\treturn;\n\t\t}\n\t\t$scope.entity[listEntityKey] = listOption;\n\t};\n\n\t$scope.clearPage = function () {\n\t\t$scope.pis = {};\n\t\t$scope.icms = {};\n\t\t$scope.cofins = {};\n\t\t$scope.ipi = {};\n\t\t$scope.entity.operationTypes = [];\n\t\t$scope.entity.origins = [];\n\t\t$scope.entity.destinations = [];\n\t\t$scope.entity.personGroups = [];\n\t\t$scope.entity.productGroups = [];\n\t\t$scope.entity.name = \"\";\n\t\t$scope.openTaxation = false;\n\t\t$scope.stateOriginConflicts = [];\n\t\t$scope.personGroupConflicts = [];\n\t\t$scope.productGroupConflicts = [];\n\t\t$scope.operationConflicts = [];\n\t\t$scope.entity.taxationPIS = {};\n\t\t$scope.entity.taxationICMS = {};\n\t\t$scope.entity.taxationCOFINS = {};\n\t\t$scope.entity.taxationIPI = {};\n\t};\n\n\t$scope.replicateTaxSetting = function () {\n\t\tvar newEntity = angular.copy($scope.entity);\n\t\tdelete newEntity.id;\n\n\t\tTaxationGroupService.newEntity = newEntity;\n\t\t$state.go('app.taxsettings.insert');\n\t};\n\n\tPersonGroupService.all().then(function (data) {\n\t\t$scope.personGroupList = data.data.values;\n\t\t$timeout(function () {\n\t\t\t$scope.entity.personGroups = entity.data.personGroups || [];\n\t\t});\n\t});\n\tProductGroupService.all().then(function (data) {\n\t\t$scope.productGroupList = data.data.values;\n\t\t$timeout(function () {\n\t\t\t$scope.entity.productGroups = entity.data.productGroups || [];\n\t\t});\n\t});\n\tTaxationGroupService.getStateList().then(function (data) {\n\t\t$scope.stateDestinationList = $scope.stateOriginList = data.data;\n\t\t$timeout(function () {\n\t\t\t$scope.entity.origins = unmapEnum(entity.data.origins, $scope.stateOriginList);\n\t\t\t$scope.entity.destinations = unmapEnum(entity.data.destinations, $scope.stateDestinationList);\n\t\t});\n\t});\n\tTaxationGroupService.getICMSTypes().then(function (data) {\n\t\t$scope.icmsTypes = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getCsosnTypes().then(function (data) {\n\t\t$scope.csosnTypes = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getPISTypes().then(function (data) {\n\t\t$scope.cstpis = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getIPITypes().then(function (data) {\n\t\t$scope.cstipi = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getCalculationTypes().then(function (data) {\n\t\t$scope.calculationTypes = data.data;\n\t});\n\tTaxationGroupService.getModeCalculationBaseTypes().then(function (data) {\n\t\t$scope.modeCalculationBaseList = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getModeCalculationBaseSTTypes().then(function (data) {\n\t\t$scope.modeCalculationBaseSTList = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getUnburdeningMotives().then(function (data) {\n\t\t$scope.unburdeningMotiveList = [{ label: ' ' }].concat(data.data);\n\t});\n\t$scope.confOperation = {\n\t\tcolumns: 'operations',\n\t\tselection: 'multi',\n\t\tconditional: operationConditional,\n\t\tcheckbox: true,\n\t\tcolumnsConfig: [{\n\t\t\tname: 'operations',\n\t\t\tsize: 'col-md-9',\n\t\t\ttitle: '<strong gumga-translate-tag=\"taxsettings.operations\">Operations</strong>',\n\t\t\tcontent: '<div>{{$value.name}}</div>'\n\t\t}]\n\t};\n\t$scope.confState = {\n\t\tcolumns: 'state',\n\t\tselection: 'multi',\n\t\tcheckbox: true,\n\t\tcolumnsConfig: [{\n\t\t\tname: 'state',\n\t\t\tsize: 'col-md-9',\n\t\t\ttitle: '<strong gumga-translate-tag=\"taxsettings.state\">State</strong>',\n\t\t\tcontent: '<div>{{$value.label}}</div>'\n\t\t}]\n\t};\n\t$scope.confPerson = {\n\t\tcolumns: 'person',\n\t\tselection: 'multi',\n\t\tcheckbox: true,\n\t\tcolumnsConfig: [{\n\t\t\tname: 'person',\n\t\t\tsize: 'col-md-9',\n\t\t\ttitle: '<strong gumga-translate-tag=\"taxsettings.groupofpeople\">Group of People</strong>',\n\t\t\tcontent: '<div>{{$value.name}}</div>'\n\t\t}]\n\t};\n\t$scope.confProduct = {\n\t\tcolumns: 'product',\n\t\tselection: 'multi',\n\t\tcheckbox: true,\n\t\tcolumnsConfig: [{\n\t\t\tname: 'product',\n\t\t\tsize: 'col-md-9',\n\t\t\ttitle: '<strong gumga-translate-tag=\"taxsettings.productgroup\">Product Group</strong>',\n\t\t\tcontent: '<div>{{$value.name}}</div>'\n\t\t}]\n\t};\n\n\t$scope.blockBtnTributos = function (entity) {\n\t\treturn entity.operationTypes.length === 0 || entity.origins.length === 0 || entity.destinations.length === 0 || entity.personGroups.length === 0 || entity.productGroups.length === 0;\n\t};\n\t$scope.isIcmsAble = function (entity) {\n\t\treturn !entity.CST || entity.CST === 'ISENTA_COM_ST_30' || entity.CST === 'NAO_TRIBUTADA_41_ICMSST' || entity.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60';\n\t};\n\t$scope.isIcmsStandartGroupAble = function (entity) {\n\t\treturn entity.CST === 'INTEGRALMENTE_00' || entity.CST === 'COBRANCA_ST_10' || entity.CST === 'COBRANCA_ST_10_COM_PARTILHA' || entity.CST === 'REDUCAO_BC_20' || entity.CST === 'DIFERIMENTO_51' || entity.CST === 'ST_REDUCAO_BC_70' || entity.CST === 'OUTRAS_COM_PARTILHA_90' || entity.CST === 'OUTROS_90';\n\t};\n\t$scope.isIcmsDesoGroupAble = function (entity) {\n\t\treturn entity.CST === 'REDUCAO_BC_20' || entity.CST === 'ISENTA_40' || entity.CST === 'NAO_TRIBUTADA_41' || entity.CST === 'SUSPENSAO_50' || entity.CST === 'ST_REDUCAO_BC_70' || entity.CST === 'OUTROS_90';\n\t};\n\t$scope.isIcmsRedGroupAble = function (entity) {\n\t\treturn entity.CST === 'COBRANCA_ST_10_COM_PARTILHA' || entity.CST === 'REDUCAO_BC_20' || entity.CST === 'DIFERIMENTO_51' || entity.CST === 'ST_REDUCAO_BC_70' || entity.CST === 'OUTRAS_COM_PARTILHA_90' || entity.CST === 'OUTROS_90';\n\t};\n\t$scope.isIcmsStAble = function (entity) {\n\t\treturn !entity.CST || entity.CST === 'INTEGRALMENTE_00' || entity.CST === 'REDUCAO_BC_20' || entity.CST === 'ISENTA_40' || entity.CST === 'NAO_TRIBUTADA_41' || entity.CST === 'SUSPENSAO_50' || entity.CST === 'DIFERIMENTO_51';\n\t};\n\t$scope.isIcmsStStandartGroupAble = function (entity) {\n\t\treturn entity.CST === 'NAO_TRIBUTADA_41_ICMSST' || entity.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60';\n\t};\n\t$scope.getCfopIcms = function (value) {\n\t\tvalue = value || '';\n\t\treturn CfopService.getAdvancedSearch('lower(obj.codigo) like lower(\\'%' + value + '%\\') or lower(obj.descricao) like lower(\\'%' + value + '%\\')').then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.getFormulaIcms = function (value) {\n\t\treturn FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = 'ICMS'\").then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.getFormulaPis = function (value) {\n\t\treturn FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%\\') and obj.tariffType = 'PIS'\").then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.getFormulaCofins = function (value) {\n\t\treturn FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%\\') and obj.tariffType = 'COFINS'\").then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.getFormulaIpi = function (value) {\n\t\treturn FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = 'IPI'\").then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.getMensagem = function (value, tribute) {\n\t\treturn MensagemService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = '\" + tribute + \"'\").then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.isIpiAble = function (entity) {\n\t\treturn !entity.CST || entity.CST !== 'ENTRADA_RECUPERACAO_CREDITO_00' && entity.CST !== 'OUTRAS_ENTRADAS_49' && entity.CST !== 'SAIDA_TRIBUTADA_50' && entity.CST !== 'OUTRAS_SAIDAS_99';\n\t};\n\t$scope.isPisAble = function (entity) {\n\t\treturn !entity.CST || entity.CST === 'OPERACAO_TRIBUTAVEL_04' || entity.CST === 'OPERACAO_TRIBUTAVEL_03' || entity.CST === 'OPERACAO_TRIBUTAVEL_06' || entity.CST === 'OPERACAO_TRIBUTAVEL_07' || entity.CST === 'SEM_INCIDENCIA_08' || entity.CST === 'COM_SUSPENSAO_09';\n\t};\n\t$scope.isPisOperationTypeUnable = function (entity) {\n\t\treturn entity.CST && ($scope.isPisAble(entity) || entity.CST === 'OPERACAO_TRIBUTAVEL_01' || entity.CST === 'OPERACAO_TRIBUTAVEL_02');\n\t};\n\t$scope.isPisAliquotaAble = function (entity) {\n\t\treturn $scope.isPisOperationTypeUnable(entity) || entity.calculationType === 'PORCENTAGEM';\n\t};\n\t$scope.isCofinsAble = function (entity) {\n\t\treturn !entity.CST || entity.CST === 'OPERACAO_TRIBUTAVEL_04' || entity.CST === 'OPERACAO_TRIBUTAVEL_03' || entity.CST === 'OPERACAO_TRIBUTAVEL_06' || entity.CST === 'OPERACAO_TRIBUTAVEL_07' || entity.CST === 'SEM_INCIDENCIA_08' || entity.CST === 'COM_SUSPENSAO_09';\n\t};\n\t$scope.isCofinsOperationTypeUnable = function (entity) {\n\t\treturn entity.CST && ($scope.isCofinsAble(entity) || entity.CST === 'OPERACAO_TRIBUTAVEL_01' || entity.CST === 'OPERACAO_TRIBUTAVEL_02');\n\t};\n\t$scope.isCofinsAliquotaAble = function (entity) {\n\t\treturn $scope.isCofinsOperationTypeUnable(entity) || entity.calculationType === 'PORCENTAGEM';\n\t};\n\n\tfunction invalidPis(pis) {\n\t\tif (pis.CST) {\n\t\t\tswitch (pis.CST) {\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_01':\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_02':\n\t\t\t\t\tif (invalidPisAliquota(pis)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_05':\n\t\t\t\t\tif (!pis.calculationTypeST) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (pis.calculationTypeST === 'PORCENTAGEM' && invalidPisAliquotaST(pis)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OUTRAS_SAIDAS_49':\n\t\t\t\tcase 'OPERACOES_CREDITO_50':\n\t\t\t\tcase 'OPERACOES_CREDITO_51':\n\t\t\t\tcase 'OPERACOES_CREDITO_52':\n\t\t\t\tcase 'OPERACOES_CREDITO_53':\n\t\t\t\tcase 'OPERACOES_CREDITO_54':\n\t\t\t\tcase 'OPERACOES_CREDITO_55':\n\t\t\t\tcase 'OPERACOES_CREDITO_56':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_60':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_61':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_62':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_63':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_64':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_65':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_66':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_67':\n\t\t\t\tcase 'AQUISICAO_SEM_CREDITO_70':\n\t\t\t\tcase 'AQUISICAO_ISENTA_71':\n\t\t\t\tcase 'AQUISICAO_COM_SUSPENSAO_72':\n\t\t\t\tcase 'AQUISICAO_ALIQUOTA_ZERO_73':\n\t\t\t\tcase 'AQUISICAO_SEM_CONTRIBUICAO_74':\n\t\t\t\tcase 'AQUISICAO_ST_75':\n\t\t\t\tcase 'OUTRAS_ENTRADAS_98':\n\t\t\t\tcase 'OUTRAS_99':\n\t\t\t\t\tif (!pis.calculationType) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (pis.calculationType === 'PORCENTAGEM' && invalidPisAliquota(pis)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction invalidCofins(cofins) {\n\t\tif (cofins.CST) {\n\t\t\tswitch (cofins.CST) {\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_01':\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_02':\n\t\t\t\t\tif (invalidCofinsAliquota(cofins)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_05':\n\t\t\t\t\tif (!cofins.calculationTypeST) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (cofins.calculationTypeST === 'PORCENTAGEM' && invalidCofinsAliquotaST(cofins)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OUTRAS_SAIDAS_49':\n\t\t\t\tcase 'OPERACOES_CREDITO_50':\n\t\t\t\tcase 'OPERACOES_CREDITO_51':\n\t\t\t\tcase 'OPERACOES_CREDITO_52':\n\t\t\t\tcase 'OPERACOES_CREDITO_53':\n\t\t\t\tcase 'OPERACOES_CREDITO_54':\n\t\t\t\tcase 'OPERACOES_CREDITO_55':\n\t\t\t\tcase 'OPERACOES_CREDITO_56':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_60':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_61':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_62':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_63':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_64':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_65':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_66':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_67':\n\t\t\t\tcase 'AQUISICAO_SEM_CREDITO_70':\n\t\t\t\tcase 'AQUISICAO_ISENTA_71':\n\t\t\t\tcase 'AQUISICAO_COM_SUSPENSAO_72':\n\t\t\t\tcase 'AQUISICAO_ALIQUOTA_ZERO_73':\n\t\t\t\tcase 'AQUISICAO_SEM_CONTRIBUICAO_74':\n\t\t\t\tcase 'AQUISICAO_ST_75':\n\t\t\t\tcase 'OUTRAS_ENTRADAS_98':\n\t\t\t\tcase 'OUTRAS_99':\n\t\t\t\t\tif (!cofins.calculationType) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (cofins.calculationType === 'PORCENTAGEM' && invalidCofinsAliquota(cofins)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction invalidIpi(ipi) {\n\t\tif (ipi.CST) {\n\t\t\tswitch (ipi.CST) {\n\t\t\t\tcase 'ENTRADA_RECUPERACAO_CREDITO_00':\n\t\t\t\tcase 'OUTRAS_ENTRADAS_49':\n\t\t\t\tcase 'SAIDA_TRIBUTADA_50':\n\t\t\t\tcase 'OUTRAS_SAIDAS_99':\n\t\t\t\t\tif (!ipi.ipiCalculationType || ipi.ipiCalculationType === 'PORCENTAGEM' && invalidIpiAliquota(ipi)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction invalidIcmsNormal(icms) {\n\t\tif (icms.CST) {\n\t\t\tswitch (icms.CST) {\n\t\t\t\tcase 'INTEGRALMENTE_00':\n\t\t\t\t\tif (invalidIcmsBase(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'COBRANCA_ST_10':\n\t\t\t\t\tif (invalidIcmsBase(icms) || invalidIcmsStBase(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OUTRAS_COM_PARTILHA_90':\n\t\t\t\tcase 'COBRANCA_ST_10_COM_PARTILHA':\n\t\t\t\t\tif (invalidIcmsBase(icms) || invalidIcmsStBase(icms) || !icms.UFST) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'REDUCAO_BC_20':\n\t\t\t\t\tif (invalidIcmsBase(icms) || invalidIcmsDeson(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ISENTA_COM_ST_30':\n\t\t\t\t\tif (invalidIcmsStBase(icms) || invalidIcmsDeson(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ISENTA_40':\n\t\t\t\tcase 'NAO_TRIBUTADA_41':\n\t\t\t\tcase 'SUSPENSAO_50':\n\t\t\t\t\tif (invalidIcmsDeson(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'NAO_TRIBUTADA_41_ICMSST':\n\t\t\t\t\tif (invalidIcmsStRetid(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'DIFERIMENTO_51':\n\t\t\t\t\tif (invalidIcmsBase(icms) || invalidIcmsDife(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'COBRADO_ANTERIORMENTE_POR_ST_60':\n\t\t\t\t\tif (invalidIcmsStRetidoAnter(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ST_REDUCAO_BC_70':\n\t\t\t\tcase 'OUTROS_90':\n\t\t\t\t\tif (invalidIcmsBase(icms) || invalidIcmsDeson(icms) || invalidIcmsStBase(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction invalidIcmsSimples(icms) {\n\t\tif (icms.CSOSN) {\n\t\t\tswitch (icms.CSOSN) {\n\t\t\t\tcase 'CREDITO_101':\n\t\t\t\t\tif (icms.vCredICMSSN == null) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'CREDITO_COM_ST_201':\n\t\t\t\t\tif (invalidBaseStSimples(icms) || invalidAliquotaGroup(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'SEM_CREDITO_COM_ST_202':\n\t\t\t\tcase 'RECEITA_BRUTA_COM_ST_203':\n\t\t\t\t\tif (invalidBaseStSimples(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ANTECIPACAO_ST_500':\n\t\t\t\t\tif (invalidIcmsStRetidoAnterSimples(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OUTROS_900':\n\t\t\t\t\tif (invalidBaseStSimples(icms) || invalidAliquotaGroup(icms) || invalidIcmsBase(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction invalidIcmsStRetidoAnterSimples(icms) {\n\t\treturn icms.vBCSTRet && !icms.vICMSSTRet || !icms.vBCSTRet && icms.vICMSSTRet;\n\t}\n\n\tentity;\n\n\tfunction invalidBaseStSimples(icms) {\n\t\treturn !icms.modBCST || !icms.vBCST || icms.pICMSST == null || !icms.vICMSST;\n\t}\n\n\tfunction invalidAliquotaGroup(icms) {\n\t\treturn icms.pCredSN == null || icms.vCredICMSSN == null;\n\t}\n\n\t$scope.saveDisabled = function (entity, icms, pis, cofins, ipi) {\n\t\treturn $scope.icmsNormal && invalidIcmsNormal(icms) || !$scope.icmsNormal && invalidIcmsSimples(icms) || invalidPis(pis) || invalidCofins(cofins) || invalidIpi(ipi) || entity.name && entity.name.length === 0;\n\t};\n\t$scope.update = function (entity, icms, pis, cofins, ipi, disabled) {\n\t\tif (disabled) {\n\t\t\treturn;\n\t\t}\n\t\tentity.destinations = entity.destinations.map(mapEnum);\n\t\tentity.origins = entity.origins.map(mapEnum);\n\t\tdelete entity.taxationIPI;\n\t\tdelete entity.taxationPIS;\n\t\tdelete entity.taxationCOFINS;\n\t\tdelete entity.taxationICMS;\n\t\tipi = angular.copy(ipi);\n\t\ticms = angular.copy(icms);\n\t\tpis = angular.copy(pis);\n\t\tcofins = angular.copy(cofins);\n\t\tif (ipi.CST) {\n\t\t\tentity.taxationIPI = mountIpi(ipi);\n\t\t}\n\t\tif ($scope.icmsNormal && icms.CST) {\n\t\t\tentity.taxationICMS = mountIcms(icms);\n\t\t} else if (!$scope.icmsNormal && icms.CSOSN) {\n\t\t\tentity.taxationICMS = mountIcmsSimples(icms);\n\t\t}\n\t\tif (entity.taxationICMS && $scope.isFCPVisible(entity.taxationICMS)) {\n\t\t\tentity.taxationICMS.pICMSUFDest = icms.pICMSUFDest;\n\t\t\tentity.taxationICMS.pFCPUFDest = icms.pFCPUFDest;\n\t\t}\n\t\tif (pis.CST) {\n\t\t\tentity.taxationPIS = mountPis(pis);\n\t\t}\n\t\tif (cofins.CST) {\n\t\t\tentity.taxationCOFINS = mountCofins(cofins);\n\t\t}\n\t\t$rootScope.$emit('hideNextErrorMessage');\n\t\tTaxationGroupService.saveValiding(entity).then(doSave, doErr);\n\t};\n\n\tfunction doSave() {\n\t\tif ($state.current.name === \"taxsettings.insert\") {\n\t\t\tswal({\n\t\t\t\ttitle: \"Confirmao\",\n\t\t\t\ttext: \"Deseja continuar inserindo?\",\n\t\t\t\ttype: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonClass: \"btn-success\",\n\t\t\t\tconfirmButtonText: \"Continuar\",\n\t\t\t\tcancelButtonText: \"No\",\n\t\t\t\tcloseOnConfirm: true,\n\t\t\t\tcloseOnCancel: true\n\t\t\t}, function (isConfirm) {\n\t\t\t\tif (!isConfirm) {\n\t\t\t\t\t$state.go('app.taxsettings.list');\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t$state.go('app.taxsettings.list');\n\t\t}\n\t\t;\n\t}\n\n\tfunction doErr(err) {\n\t\tif (Array.isArray(err.data)) {\n\t\t\tvar _values = err.data.map(function (data) {\n\t\t\t\tdata.destinations = unmapEnum(data.destinations, $scope.stateDestinationList);\n\t\t\t\tdata.origins = unmapEnum(data.origins, $scope.stateOriginList);\n\t\t\t\treturn data;\n\t\t\t});\n\t\t\t$uibModal.open({\n\t\t\t\tsize: 'lg',\n\t\t\t\ttemplateUrl: modalConflito,\n\t\t\t\tcontroller: 'ModalConflitoController',\n\t\t\t\tresolve: {\n\t\t\t\t\tvalues: function values() {\n\t\t\t\t\t\treturn _values;\n\t\t\t\t\t},\n\t\t\t\t\tentity: function entity() {\n\t\t\t\t\t\treturn $scope.entity;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tMbgNotification.openNotification({\n\t\t\t\ttype: 'warn',\n\t\t\t\tvariation: 'toast',\n\t\t\t\tduration: 4000,\n\t\t\t\ttext: 'Tributa\\xE7\\xE3o incorreta ' + err.data.details,\n\t\t\t\tactionButton: false\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction unmapEnum(valueArr, dtoArr) {\n\t\tvalueArr = valueArr || [];\n\t\treturn valueArr.map(function (data) {\n\t\t\treturn dtoArr.filter(function (value) {\n\t\t\t\treturn value.key === data || value.key === data.key;\n\t\t\t})[0];\n\t\t});\n\t}\n\n\tfunction invalidCofinsAliquotaST(cofins) {\n\t\treturn !cofins.vBCST || cofins.pCOFINSST == null || !cofins.vCOFINSST;\n\t}\n\n\tfunction invalidCofinsAliquota(cofins) {\n\t\treturn !cofins.vBC || cofins.pCOFINS == null || !cofins.vCOFINS;\n\t}\n\n\tfunction invalidIpiAliquota(ipi) {\n\t\treturn !ipi.vBC || ipi.pIPI == null || !ipi.vIPI;\n\t}\n\n\tfunction invalidPisAliquotaST(pis) {\n\t\treturn !pis.vBCST || pis.pPISST == null || !pis.vPISST;\n\t}\n\n\tfunction invalidPisAliquota(pis) {\n\t\treturn !pis.vBC || pis.pPIS == null || !pis.vPIS;\n\t}\n\n\tfunction invalidIcmsBase(icms) {\n\t\treturn !icms.modBC || !icms.vBC || icms.pICMS == null || !icms.vICMS;\n\t}\n\n\tfunction invalidIcmsDeson(icms) {\n\t\treturn icms.vICMSDeson && !icms.motDesICMS || !icms.vICMSDeson && icms.motDesICMS;\n\t}\n\n\tfunction invalidIcmsStBase(icms) {\n\t\treturn !icms.modBCST || !icms.pRedBCST || icms.pMVAST == null || !icms.vBCST || icms.pICMSST == null || !icms.vICMSST;\n\t}\n\n\tfunction invalidIcmsStRetid(icms) {\n\t\treturn !icms.vBCSTRet || !icms.vICMSSTRet || !icms.vBCSTDest || !icms.vICMSSTDest;\n\t}\n\n\tfunction invalidIcmsDife(icms) {\n\t\treturn !icms.vICMSOp || icms.pDif == null || !icms.vICMSDif;\n\t}\n\n\tfunction invalidIcmsStRetidoAnter(icms) {\n\t\treturn !icms.vBCSTRet || !icms.vICMSSTRet;\n\t}\n\n\tfunction mapEnum(data) {\n\t\treturn data.key;\n\t}\n\n\tfunction mountIcms(icms) {\n\t\tvar obj = {\n\t\t\tCST: icms.CST,\n\t\t\tversion: icms.version,\n\t\t\tcfop: icms.cfop,\n\t\t\tmensagem: icms.mensagem,\n\t\t\tmensagemRef: icms.mensagemRef,\n\t\t\tcfopRef: icms.cfopRef,\n\t\t\tpReducaoBase: icms.pReducaoBase\n\t\t};\n\n\t\tif (icms.CST === 'INTEGRALMENTE_00' || icms.CST === 'COBRANCA_ST_10' || icms.CST === 'OUTRAS_COM_PARTILHA_90' || icms.CST === 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST === 'REDUCAO_BC_20' || icms.CST === 'DIFERIMENTO_51' || icms.CST === 'ST_REDUCAO_BC_70' || icms.CST === 'OUTROS_90') {\n\t\t\tobj.modBC = icms.modBC;\n\t\t\tobj.pICMS = icms.pICMS;\n\t\t\tobj.vBC = icms.vBC;\n\t\t\tobj.vICMS = icms.vICMS;\n\t\t}\n\n\t\tif (icms.CST === 'COBRANCA_ST_10' || icms.CST === 'OUTRAS_COM_PARTILHA_90' || icms.CST === 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST === 'ISENTA_COM_ST_30' || icms.CST === 'ST_REDUCAO_BC_70' || icms.CST === 'OUTROS_90') {\n\t\t\tobj.modBCST = icms.modBCST;\n\t\t\tobj.pICMSST = icms.pICMSST;\n\t\t\tobj.pMVAST = icms.pMVAST;\n\t\t\tobj.pRedBCST = icms.pRedBCST;\n\t\t\tobj.vBCST = icms.vBCST;\n\t\t\tobj.vICMSST = icms.vICMSST;\n\t\t}\n\n\t\tif (icms.CST === 'OUTRAS_COM_PARTILHA_90' || icms.CST === 'COBRANCA_ST_10_COM_PARTILHA') {\n\t\t\tobj.UFST = icms.UFST;\n\t\t}\n\n\t\tif (icms.CST === 'REDUCAO_BC_20' || icms.CST === 'ISENTA_COM_ST_30' || icms.CST === 'ISENTA_40' || icms.CST === 'NAO_TRIBUTADA_41' || icms.CST === 'SUSPENSAO_50' || icms.CST === 'ST_REDUCAO_BC_70' || icms.CST === 'OUTROS_90') {\n\t\t\tobj.vICMSDeson = icms.vICMSDeson;\n\t\t\tobj.motDesICMS = icms.motDesICMS;\n\t\t}\n\n\t\tif (icms.CST === 'NAO_TRIBUTADA_41_ICMSST') {\n\t\t\tobj.vBCSTRet = icms.vBCSTRet;\n\t\t\tobj.vBCSTDest = icms.vBCSTDest;\n\t\t\tobj.vICMSSTDest = icms.vICMSSTDest;\n\t\t\tobj.vICMSSTRet = icms.vICMSSTRet;\n\t\t}\n\n\t\tif (icms.CST === 'DIFERIMENTO_51') {\n\t\t\tobj.pDif = icms.pDif;\n\t\t\tobj.vICMSDif = icms.vICMSDif;\n\t\t\tobj.vICMSOp = icms.vICMSOp;\n\t\t}\n\n\t\tif (icms.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60') {\n\t\t\tobj.vBCSTRet = icms.vBCSTRet;\n\t\t\tobj.vICMSSTRet = icms.vICMSSTRet;\n\t\t}\n\t\treturn obj;\n\t}\n\n\tfunction mountIcmsSimples(icms) {\n\t\tvar obj = {\n\t\t\tversion: icms.version,\n\t\t\tcfop: icms.cfop,\n\t\t\tmensagem: icms.mensagem,\n\t\t\tCSOSN: icms.CSOSN,\n\t\t\tmensagemRef: icms.mensagemRef,\n\t\t\tcfopRef: icms.cfopRef,\n\t\t\tpReducaoBase: icms.pReducaoBase\n\t\t};\n\n\t\tif (icms.CSOSN === 'CREDITO_101' || icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'OUTROS_900') {\n\t\t\tobj.pCredSN = icms.pCredSN;\n\t\t\tobj.vCredICMSSN = icms.vCredICMSSN;\n\t\t}\n\n\t\tif (icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'SEM_CREDITO_COM_ST_202' || icms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' || icms.CSOSN === 'OUTROS_900') {\n\t\t\tobj.modBCST = icms.modBCST;\n\t\t\tobj.pICMSST = icms.pICMSST;\n\t\t\tobj.pMVAST = icms.pMVAST;\n\t\t\tobj.pRedBCST = icms.pRedBCST;\n\t\t\tobj.vBCST = icms.vBCST;\n\t\t\tobj.vICMSST = icms.vICMSST;\n\t\t}\n\n\t\tif (icms.CSOSN === 'ANTECIPACAO_ST_500') {\n\t\t\tobj.vBCSTRet = icms.vBCSTRet;\n\t\t\tobj.vICMSSTRet = icms.vICMSSTRet;\n\t\t}\n\n\t\tif (icms.CSOSN === 'OUTROS_900') {\n\t\t\tobj.modBC = icms.modBC;\n\t\t\tobj.vBC = icms.vBC;\n\t\t\tobj.pRedBC = icms.pRedBC;\n\t\t\tobj.pICMS = icms.pICMS;\n\t\t\tobj.vICMS = icms.vICMS;\n\t\t}\n\t\treturn obj;\n\t}\n\n\tfunction mountPis(pis) {\n\t\tvar obj = {\n\t\t\tCST: pis.CST,\n\t\t\tversion: pis.version,\n\t\t\tmensagem: pis.mensagem\n\t\t};\n\n\t\tswitch (pis.CST) {\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_05':\n\t\t\t\tobj.calculationTypeST = pis.calculationTypeST;\n\t\t\t\tif (pis.calculationTypeST === 'PORCENTAGEM') {\n\t\t\t\t\tobj.pPISST = pis.pPISST;\n\t\t\t\t\tobj.vBCST = pis.vBCST;\n\t\t\t\t\tobj.vPISST = pis.vPISST;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_01':\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_02':\n\t\t\t\tobj.pPIS = pis.pPIS;\n\t\t\t\tobj.vBC = pis.vBC;\n\t\t\t\tobj.vPIS = pis.vPIS;\n\t\t\t\tbreak;\n\t\t\tcase 'OUTRAS_SAIDAS_49':\n\t\t\tcase 'OPERACOES_CREDITO_50':\n\t\t\tcase 'OPERACOES_CREDITO_51':\n\t\t\tcase 'OPERACOES_CREDITO_52':\n\t\t\tcase 'OPERACOES_CREDITO_53':\n\t\t\tcase 'OPERACOES_CREDITO_54':\n\t\t\tcase 'OPERACOES_CREDITO_55':\n\t\t\tcase 'OPERACOES_CREDITO_56':\n\t\t\tcase 'CREDITO_PRESUMIDO_60':\n\t\t\tcase 'CREDITO_PRESUMIDO_61':\n\t\t\tcase 'CREDITO_PRESUMIDO_62':\n\t\t\tcase 'CREDITO_PRESUMIDO_63':\n\t\t\tcase 'CREDITO_PRESUMIDO_64':\n\t\t\tcase 'CREDITO_PRESUMIDO_65':\n\t\t\tcase 'CREDITO_PRESUMIDO_66':\n\t\t\tcase 'CREDITO_PRESUMIDO_67':\n\t\t\tcase 'AQUISICAO_SEM_CREDITO_70':\n\t\t\tcase 'AQUISICAO_ISENTA_71':\n\t\t\tcase 'AQUISICAO_COM_SUSPENSAO_72':\n\t\t\tcase 'AQUISICAO_ALIQUOTA_ZERO_73':\n\t\t\tcase 'AQUISICAO_SEM_CONTRIBUICAO_74':\n\t\t\tcase 'AQUISICAO_ST_75':\n\t\t\tcase 'OUTRAS_ENTRADAS_98':\n\t\t\tcase 'OUTRAS_99':\n\t\t\t\tobj.calculationType = pis.calculationType;\n\t\t\t\tif (pis.calculationType === 'PORCENTAGEM') {\n\t\t\t\t\tobj.pPIS = pis.pPIS;\n\t\t\t\t\tobj.vBC = pis.vBC;\n\t\t\t\t\tobj.vPIS = pis.vPIS;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t\treturn obj;\n\t}\n\n\tfunction mountCofins(cofins) {\n\t\tvar obj = {\n\t\t\tCST: cofins.CST,\n\t\t\tversion: cofins.version,\n\t\t\tmensagem: cofins.mensagem\n\t\t};\n\t\tswitch (cofins.CST) {\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_05':\n\t\t\t\tobj.calculationTypeST = cofins.calculationTypeST;\n\t\t\t\tif (cofins.calculationTypeST === 'PORCENTAGEM') {\n\t\t\t\t\tobj.pCOFINSST = cofins.pCOFINSST;\n\t\t\t\t\tobj.vBCST = cofins.vBCST;\n\t\t\t\t\tobj.vCOFINSST = cofins.vCOFINSST;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_01':\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_02':\n\t\t\t\tobj.pCOFINS = cofins.pCOFINS;\n\t\t\t\tobj.vBC = cofins.vBC;\n\t\t\t\tobj.vCOFINS = cofins.vCOFINS;\n\t\t\t\tbreak;\n\t\t\tcase 'OUTRAS_SAIDAS_49':\n\t\t\tcase 'OPERACOES_CREDITO_50':\n\t\t\tcase 'OPERACOES_CREDITO_51':\n\t\t\tcase 'OPERACOES_CREDITO_52':\n\t\t\tcase 'OPERACOES_CREDITO_53':\n\t\t\tcase 'OPERACOES_CREDITO_54':\n\t\t\tcase 'OPERACOES_CREDITO_55':\n\t\t\tcase 'OPERACOES_CREDITO_56':\n\t\t\tcase 'CREDITO_PRESUMIDO_60':\n\t\t\tcase 'CREDITO_PRESUMIDO_61':\n\t\t\tcase 'CREDITO_PRESUMIDO_62':\n\t\t\tcase 'CREDITO_PRESUMIDO_63':\n\t\t\tcase 'CREDITO_PRESUMIDO_64':\n\t\t\tcase 'CREDITO_PRESUMIDO_65':\n\t\t\tcase 'CREDITO_PRESUMIDO_66':\n\t\t\tcase 'CREDITO_PRESUMIDO_67':\n\t\t\tcase 'AQUISICAO_SEM_CREDITO_70':\n\t\t\tcase 'AQUISICAO_ISENTA_71':\n\t\t\tcase 'AQUISICAO_COM_SUSPENSAO_72':\n\t\t\tcase 'AQUISICAO_ALIQUOTA_ZERO_73':\n\t\t\tcase 'AQUISICAO_SEM_CONTRIBUICAO_74':\n\t\t\tcase 'AQUISICAO_ST_75':\n\t\t\tcase 'OUTRAS_ENTRADAS_98':\n\t\t\tcase 'OUTRAS_99':\n\t\t\t\tobj.calculationType = cofins.calculationType;\n\t\t\t\tif (cofins.calculationType === 'PORCENTAGEM') {\n\t\t\t\t\tobj.pCOFINS = cofins.pCOFINS;\n\t\t\t\t\tobj.vBC = cofins.vBC;\n\t\t\t\t\tobj.vCOFINS = cofins.vCOFINS;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn obj;\n\t}\n\n\tfunction mountIpi(ipi) {\n\t\tvar obj = {\n\t\t\tCST: ipi.CST,\n\t\t\tversion: ipi.version,\n\t\t\tmensagem: ipi.mensagem,\n\t\t\tenquadramentoIpi: ipi.enquadramentoIpi\n\t\t};\n\n\t\tswitch (ipi.CST) {\n\t\t\tcase 'ENTRADA_RECUPERACAO_CREDITO_00':\n\t\t\tcase 'OUTRAS_ENTRADAS_49':\n\t\t\tcase 'SAIDA_TRIBUTADA_50':\n\t\t\tcase 'OUTRAS_SAIDAS_99':\n\t\t\t\tobj.ipiCalculationType = ipi.ipiCalculationType;\n\t\t\t\tif (ipi.ipiCalculationType === 'PORCENTAGEM') {\n\t\t\t\t\tobj.pIPI = ipi.pIPI;\n\t\t\t\t\tobj.vBC = ipi.vBC;\n\t\t\t\t\tobj.vIPI = ipi.vIPI;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t\treturn obj;\n\t}\n\n\tfunction mountConflicts(values) {\n\t\t$scope.stateOriginConflicts = mountNewArr(values, 'destinations', 'key');\n\t\t$scope.stateDestinationConflicts = mountNewArr(values, 'destinations', 'key');\n\t\t$scope.personGroupConflicts = mountNewArr(values, 'personGroup', 'key');\n\t\t$scope.operationConflicts = mountNewArr(values, 'operationTypes', 'id');\n\t\t$scope.productGroupConflicts = mountNewArr(values, 'productGroups', 'id');\n\t}\n\n\tfunction mountNewArr(arr, field, comparationField) {\n\t\tvar newArr = [],\n\t\t    toReturn = [];\n\t\tarr.forEach(function (data) {\n\t\t\tdata[field].forEach(function (value) {\n\t\t\t\tnewArr[value[comparationField]] = value;\n\t\t\t});\n\t\t});\n\t\tfor (key in newArr) {\n\t\t\ttoReturn.push(newArr[key]);\n\t\t}\n\t\treturn toReturn;\n\t}\n\n\tfunction operationConditional(value) {\n\t\treturn {\n\t\t\t'2px solid red': function pxSolidRed() {\n\t\t\t\treturn $scope.operationConflicts.filter(function (data) {\n\t\t\t\t\treturn data.id === value.id;\n\t\t\t\t}).length > 0;\n\t\t\t}\n\t\t};\n\t}\n\n\t$scope.showAliquotaGroup = function (icms) {\n\t\treturn icms.CSOSN === 'CREDITO_101' || icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'OUTROS_900';\n\t};\n\t$scope.showIcmsStSimple = function (icms) {\n\t\treturn icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'SEM_CREDITO_COM_ST_202' || icms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' || icms.CSOSN === 'OUTROS_900';\n\t};\n\t$scope.showSimples = function (icms) {\n\t\treturn icms.CSOSN === 'CREDITO_101' || icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'OUTROS_900';\n\t};\n\t$scope.showSimplesSt = function (icms) {\n\t\treturn icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'SEM_CREDITO_COM_ST_202' || icms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' || icms.CSOSN === '' || icms.CSOSN === 'OUTROS_900';\n\t};\n\t$scope.isFCPVisible = function (icms) {\n\t\treturn icms.CSOSN !== 'IMUNE_300' && icms.CSOSN !== 'NAO_TRIBUTADA_400' && icms.CST !== 'NAO_TRIBUTADA_41' && icms.CST !== 'NAO_TRIBUTADA_41_ICMSST';\n\t};\n\n\t$scope.searchEnquadramento = function (param) {\n\t\treturn CodigoEnquadramentoIpiService.getSearch('descricao,codigo', param).then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n}\n\nmodule.exports = TaxSettingsFormController;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nTaxSettingsListController.$inject = ['TaxationGroupService', '$scope', 'gumgaController', 'SweetAlert', 'ConfigService'];\nfunction TaxSettingsListController(TaxationGroupService, $scope, gumgaController, SweetAlert, ConfigService) {\n    gumgaController.createRestMethods($scope, TaxationGroupService, 'taxationGroup');\n\n    var GQueryBase = new GQuery();\n\n\n    $scope.proxySearchWithGQuery = function (param) {\n        $scope.taxationGroup.methods.searchWithGQuery(GQueryBase.and(param));\n    };\n\n    $scope.taxationGroup.methods.searchWithGQuery(GQueryBase);\n\n    $scope.validBuddy = function (oi, id) {\n        return ConfigService.validateBuddy(oi, id);\n    };\n\n    $scope.getIcon = function (value) {\n        $scope.iconFabs = !$scope.validBuddy(value.oi, value.id) ? \"search\" : \"edit\";\n        $scope.translateIcon = !$scope.validBuddy(value.oi, value.id) ? \"Vizualizar\" : \"Editar\";\n    };\n\n    $scope.conf = {\n        columns: 'tribute,titleParameterization,acoes',\n        selection: 'single',\n        materialTheme: true,\n        activeLineColor: '#cccccc',\n        hoverLineColor: '#f5f5f5',\n        itemsPerPage: [5, 10, 25, 50, 100],\n        title: 'Listagem de Tributos',\n        columnsConfig: [{\n            name: 'tribute',\n            size: 'col-md-3',\n            title: '<strong gumga-translate-tag=\"taxsettings.tribute\">Tribute</strong>',\n            content: '<div>{{$value.taxationICMS?\\' ICMS\\':\\'\\'}}{{$value.taxationIPI?\\' IPI\\':\\'\\'}}{{$value.taxationPIS?\\' PIS\\':\\'\\'}}{{$value.taxationCOFINS?\\' COFINS\\':\\'\\'}}</div>'\n        }, {\n            name: 'titleParameterization',\n            size: 'col-md-8',\n            title: '<strong gumga-translate-tag=\"taxsettings.titleparameterization\">Title parameterization</strong>',\n            content: '<div>{{$value.name}}</div>'\n        }, {\n            name: 'acoes',\n            alignColumn: 'center',\n            alignRows: 'center',\n            size: 'col-md-1',\n            title: ' ',\n            content: '<button style=\"display:inline-block\" ' + 'type=\"button\"' + 'ng-show=\"!$parent.$parent.validBuddy($value.oi, $value.id)\" ' + 'uib-tooltip=\"Copiar registro\"' + 'ng-click=\"$parent.$parent.copyDeleteRecord($value.id)\"' + ' class=\"btn-link btn-xs\">' + '<i class=\"fa fa-plus text-success\"></i>' + '</button>' + '<button style=\"display:inline-block\" ' + 'type=\"button\" ' + 'ng-show=\"!$parent.$parent.validBuddy($value.oi.value, $value.id)\" uib-tooltip=\"Este registro  publico\" ' + 'class=\"btn-link btn-xs\"><i class=\"fa fa-users\" aria-hidden=\"true\"></i></button>',\n            widthPorcentage: 20\n        }]\n    };\n\n    $scope.goToLastPage = function () {\n        var lastPage = Math.ceil($scope.taxationGroup.count / $scope.taxationGroup.pageSize);\n        $scope.taxationGroup.methods.get(lastPage, $scope.taxationGroup.pageSize);\n    };\n\n    $scope.copyDeleteRecord = function (id) {\n        SweetAlert.swal({\n            title: 'Ateno.',\n            text: 'Aps a cpia do registro o mesmo antigo ser inativado para que no haja conflito de infomaes. Deseja realmente fazer a cpia?',\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonColor: '#DD6B55', confirmButtonText: \"Sim\",\n            cancelButtonText: 'No',\n            closeOnConfirm: false,\n            closeOnCancel: true\n        }, function (isConfirm) {\n            if (isConfirm) {\n                TaxationGroupService.copyAndDeleteRecord(id).then(function () {\n                    $scope.goToLastPage();\n                });\n                SweetAlert.swal(\"Pronto!\", \"Copiado com sucesso\", \"success\");\n            }\n        });\n    };\n\n    $scope.taxationGroup.execute('reset');\n\n    $scope.taxationGroup.on('deleteSuccess', function () {\n        $scope.taxationGroup.methods.getLatestOperation();\n    });\n}\nmodule.exports = TaxSettingsListController;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(0);\n\nmodule.exports = angular.module('app.taxsettings.controllers', ['app.taxsettings.services', 'ui.router']).controller('TaxSettingsFormController', __webpack_require__(5)).controller('ModalConflitoController', __webpack_require__(4)).controller('TaxSettingsListController', __webpack_require__(6));\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(7);\n__webpack_require__(0);\n\nvar list = __webpack_require__(15);\nvar form = __webpack_require__(14);\n\nmodule.exports = angular.module('app.taxsettings', ['ui.router', 'app.taxsettings.controllers', 'app.taxsettings.services', 'api.location']).config(['$stateProvider', 'apiLocation', function ($stateProvider, apiLocation) {\n    $stateProvider.state('app.taxsettings.list', {\n        url: '/list',\n        templateUrl: list,\n        controller: 'TaxSettingsListController',\n        data: { id: 2 }\n    }).state('app.taxsettings.insert', {\n        url: '/insert',\n        templateUrl: form,\n        controller: 'TaxSettingsFormController',\n        controllerAs: 'form',\n        data: { id: 3 }, resolve: {\n            entity: ['$http', 'TaxationGroupService', '$q', function ($http, TaxationGroupService, $q) {\n                var url = apiLocation + '/api/taxationgroup/new';\n                if (TaxationGroupService.newEntity) {\n                    return $q(function (resolve) {\n                        var ent = angular.copy(TaxationGroupService.newEntity);\n                        delete TaxationGroupService.newEntity;\n                        resolve({ data: ent });\n                    });\n                };\n                return $http.get(url);\n            }]\n        }\n    }).state('app.taxsettings.edit', {\n        url: '/edit/:id',\n        templateUrl: form,\n        controller: 'TaxSettingsFormController',\n        data: { id: 3 }, resolve: {\n            entity: ['$transition$', '$http', function ($transition$, $http) {\n                var url = apiLocation + '/api/taxationgroup/' + $transition$.params().id;\n                return $http.get(url);\n            }]\n        }\n    });\n}]);\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nCodigoEnquadramentoIpiService.$inject = ['GumgaRest', 'apiLocation'];\nfunction CodigoEnquadramentoIpiService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/codigoenquadramentoipi');\n    return service;\n}\nmodule.exports = CodigoEnquadramentoIpiService;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nFormulaService.$inject = ['GumgaRest', 'apiLocation'];\nfunction FormulaService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/formula');\n\n    service.copyRecord = function (id) {\n        return this.extend('post', '/copyrecord/' + id);\n    };\n    service.deleteRecord = function (id) {\n        return this.extend('delete', '/deleterecord/' + id);\n    };\n\n    return service;\n}\nmodule.exports = FormulaService;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nMensagemService.$inject = ['GumgaRest', 'apiLocation'];\nfunction MensagemService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/mensagem');\n\n    service.getAttributeMessageNames = function () {\n        return service.extend('get', '/attributemessagenames');\n    };\n\n    service.getTiposMensagem = function () {\n        return service.extend('get', '/tiposmensagem');\n    };\n\n    return service;\n}\nmodule.exports = MensagemService;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nTaxationGroupService.$inject = ['GumgaRest', 'apiLocation'];\n\nfunction TaxationGroupService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/taxationgroup');\n\n    service.saveValiding = function (entity) {\n        if (!entity.id) {\n            return this.extend('post', '/validatesave', entity);\n        }\n        return this.extend('put', '/validatesave', entity);\n    };\n    service.getStateList = function () {\n        return this.extend('get', '/state');\n    };\n\n    service.getICMSTypes = function () {\n        return this.extend('get', '/icmscst');\n    };\n\n    service.getCsosnTypes = function () {\n        return this.extend('get', '/csosntypes');\n    };\n\n    service.getIPITypes = function () {\n        return this.extend('get', '/ipicst');\n    };\n\n    service.getPISTypes = function () {\n        return this.extend('get', '/piscst');\n    };\n\n    service.getCalculationTypes = function () {\n        return this.extend('get', '/calculationtype');\n    };\n\n    service.getModeCalculationBaseTypes = function () {\n        return this.extend('get', '/modecalculationbase');\n    };\n\n    service.getModeCalculationBaseSTTypes = function () {\n        return this.extend('get', '/modecalculationbasest');\n    };\n\n    service.getUnburdeningMotives = function () {\n        return this.extend('get', '/unburdeningmotive');\n    };\n\n    service.getCofinsPisTypes = function () {\n        return this.extend('get', '/cofinscst');\n    };\n\n    service.copyAndDeleteRecord = function (id) {\n        return this.extend('post', '/copyanddeleterecord/' + id);\n    };\n\n    return service;\n}\n\nmodule.exports = TaxationGroupService;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nvar path = '/modules/taxsettings/views/form.html';\nvar html = \"<form name=\\\"forms\\\"\\n      novalidate\\n      gumga-form>\\n    <div class=\\\"row\\\"\\n         style=\\\"font-size: 12px\\\">\\n        <div class=\\\"col-lg-10 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1 align-layout-panel cl-dark-primary text-uppercase\\\"\\n    \\n             style=\\\"margin: 10px; margin-left: 130px\\\">\\n            <label style=\\\"font-size: 24px\\\"\\n                   class=\\\"ng-binding\\\">CADASTRO DE TRIBUTOS</label>\\n        </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-10 col-md-offset-1\\\">\\n            <!--Arvore de tributao-->\\n            <div class=\\\"panel gmd\\\">\\n                <div class=\\\"panel-body\\\">\\n                    <div class=\\\"row\\\">\\n                        <!--Passo 1-->\\n                        <div ng-hide=\\\"step2\\\"\\n                             class=\\\"list-tax-scroll\\\">\\n                            <!--Tipo de operao-->\\n                            <div class=\\\"list-tax-option\\\"\\n                                 align=\\\"center\\\"\\n                                 style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.operation\\\"\\n                                        class=\\\"b\\\">OPERATION</h4>\\n                                    <a ng-click=\\\"addOrRemoveAll('operationTypes', operationTypesList)\\\">\\n                                        {{ isEqualArray(entity.operationTypes, operationTypesList) ? 'Remover todos' : 'Adicionar todos' }}\\n                                    </a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\"\\n                                                 search-field=\\\"name\\\"\\n                                                 filter-option-by=\\\"contains\\\"\\n                                                 full-mode\\n                                                 ng-model=\\\"entity.operationTypes\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.operationTypes\\\"\\n                                                          ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in operationTypesList\\\"\\n                                                            ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Origem-->\\n                            <div class=\\\"list-tax-option\\\"\\n                                 align=\\\"center\\\"\\n                                 style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.origin\\\"\\n                                        class=\\\"b\\\">ORIGIN</h4>\\n                                    <a ng-click=\\\"addOrRemoveAll('origins', stateOriginList)\\\">\\n                                        {{ isEqualArray(entity.origins, stateOriginList) ? 'Remover todos' : 'Adicionar todos' }}\\n                                    </a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\"\\n                                                 search-field=\\\"label\\\"\\n                                                 filter-option-by=\\\"contains\\\"\\n                                                 full-mode\\n                                                 ng-model=\\\"entity.origins\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.origins\\\"\\n                                                          ng-value=\\\"item\\\">\\n                                            {{item.label}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in stateOriginList\\\"\\n                                                            ng-value=\\\"option\\\">\\n                                            {{option.label}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Destino-->\\n                            <div class=\\\"list-tax-option\\\"\\n                                 align=\\\"center\\\"\\n                                 style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.destination\\\"\\n                                        class=\\\"b\\\">DESTINATION</h4>\\n                                    <a ng-click=\\\"addOrRemoveAll('destinations', stateDestinationList)\\\">\\n                                        {{ isEqualArray(entity.destinations, stateDestinationList) ? 'Remover todos' : 'Adicionar todos' }}\\n                                    </a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\"\\n                                                 search-field=\\\"label\\\"\\n                                                 filter-option-by=\\\"contains\\\"\\n                                                 full-mode\\n                                                 ng-model=\\\"entity.destinations\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.destinations\\\"\\n                                                          ng-value=\\\"item\\\">\\n                                            {{item.label}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in stateDestinationList\\\"\\n                                                            ng-value=\\\"option\\\">\\n                                            {{option.label}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Tipo de Pessoa-->\\n                            <div class=\\\"list-tax-option\\\"\\n                                 align=\\\"center\\\"\\n                                 style=\\\"font-size: 11px;\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.person\\\"\\n                                        class=\\\"b\\\">PERSON</h4>\\n                                    <a ng-click=\\\"addOrRemoveAll('personGroups', personGroupList)\\\">\\n                                        {{ isEqualArray(entity.personGroups, personGroupList) ? 'Remover todos' : 'Adicionar todos' }}\\n                                    </a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\"\\n                                                 search-field=\\\"name\\\"\\n                                                 filter-option-by=\\\"contains\\\"\\n                                                 full-mode\\n                                                 ng-model=\\\"entity.personGroups\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.personGroups\\\"\\n                                                          ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in personGroupList\\\"\\n                                                            ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Tipo de Produto-->\\n                            <div class=\\\"list-tax-option\\\"\\n                                 align=\\\"center\\\"\\n                                 style=\\\"font-size: 11px;\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.product\\\"\\n                                        class=\\\"b\\\">PRODUCT</h4>\\n                                    <a ng-click=\\\"addOrRemoveAll('productGroups', productGroupList)\\\">\\n                                        {{ isEqualArray(entity.productGroups, productGroupList) ? 'Remover todos' : 'Adicionar todos' }}\\n                                    </a>\\n\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\"\\n                                                 search-field=\\\"name\\\"\\n                                                 filter-option-by=\\\"contains\\\"\\n                                                 full-mode\\n                                                 ng-model=\\\"entity.productGroups\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.productGroups\\\"\\n                                                          ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in productGroupList\\\"\\n                                                            ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"panel gmd\\\">\\n                <div class=\\\"panel-body\\\">\\n                    <!--Nome da tributao-->\\n                    <div class=\\\"row m-t\\\">\\n                        <div class=\\\"col-md-12\\\">\\n                            <gmd-input>\\n                                <input type=\\\"text\\\"\\n                                       class=\\\"form-control gmd\\\"\\n                                       ng-model=\\\"entity.name\\\"\\n                                       style=\\\"font-size: 20px\\\" />\\n                                <span class=\\\"bar\\\"></span>\\n                                <label class=\\\"control-label\\\"\\n                                       gumga-translate-tag=\\\"taxsettings.titleparameterization\\\">Title parameterization\\n                                </label>\\n                            </gmd-input>\\n                        </div>\\n                    </div>\\n                    <uib-tabset active=\\\"activePill\\\">\\n                        <!--ICMS-->\\n                        <uib-tab index=\\\"0\\\"\\n                                 heading=\\\"ICMS\\\">\\n                            <div>\\n                                <div class=\\\"row container-fluid\\\">\\n\\n                                    <div class=\\\"row m-t\\\">\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>CFOP</label>\\n                                            <gumga-many-to-one value=\\\"icms.cfop\\\"\\n                                                               search-method=\\\"getCfopIcms(param)\\\"\\n                                                               field=\\\"descricao\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.codigo}}</div>\\n                                                    <div>{{match.model.descricao}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\"\\n                                             ng-show=\\\"icmsNormal\\\">\\n                                            <label>CST</label>\\n                                            <select name=\\\"icmsCst\\\"\\n                                                    id=\\\"icmsCst\\\"\\n                                                    ng-model=\\\"icms.CST\\\"\\n                                                    ng-options=\\\"cst.key as cst.label for cst in icmsTypes\\\"\\n                                                    class=\\\"form-control\\\"></select>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\"\\n                                             ng-hide=\\\"icmsNormal\\\">\\n                                            <label>CSOSN</label>\\n                                            <select name=\\\"CSOSN\\\"\\n                                                    id=\\\"CSOSN\\\"\\n                                                    ng-model=\\\"icms.CSOSN\\\"\\n                                                    ng-options=\\\"cst.key as cst.label for cst in csosnTypes\\\"\\n                                                    class=\\\"form-control\\\"></select>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>Mensagem</label>\\n                                            <gumga-many-to-one value=\\\"icms.mensagem\\\"\\n                                                               search-method=\\\"getMensagem(param,'ICMS')\\\"\\n                                                               field=\\\"name\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.name}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"row m-t\\\">\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>CFOP para referenciado</label>\\n                                            <gumga-many-to-one value=\\\"icms.cfopRef\\\"\\n                                                               search-method=\\\"getCfopIcms(param)\\\"\\n                                                               field=\\\"descricao\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.codigo}}</div>\\n                                                    <div>{{match.model.descricao}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\"\\n                                             ng-if=\\\"icms.CSOSN === 'ANTECIPACAO_ST_500'\\\"\\n                                             style=\\\"margin-top: 17px;\\\">\\n                                            <gmd-input>\\n                                                <input type=\\\"text\\\"\\n                                                       class=\\\"form-control gmd\\\"\\n                                                       ui-percentage-mask\\n                                                       ng-model=\\\"icms.pReducaoBase\\\"\\n                                                       id=\\\"pReducaoBase\\\">\\n                                                <span class=\\\"bar\\\"></span>\\n                                                <label for=\\\"pReducaoBase\\\"\\n                                                       class=\\\"control-label\\\">Reduo da base de calculo</label>\\n                                            </gmd-input>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>Mensagem para referenciado</label>\\n                                            <gumga-many-to-one value=\\\"icms.mensagemRef\\\"\\n                                                               search-method=\\\"getMensagem(param,'ICMS')\\\"\\n                                                               field=\\\"name\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.name}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"row m-t\\\"\\n                                         ng-show=\\\"icmsNormal\\\">\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <div ng-hide=\\\"isIcmsAble(icms)\\\">\\n                                                <div class=\\\"row\\\"\\n                                                     align=\\\"center\\\">\\n                                                    <h4 class=\\\"b\\\">\\n                                                        ICMS</h4>\\n                                                </div>\\n                                                <div ng-show=\\\"isIcmsStandartGroupAble(icms)\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>Modalidade Deter. da BC ICMS</label>\\n                                                            <select name=\\\"icmsModBC\\\"\\n                                                                    id=\\\"icmsModBC\\\"\\n                                                                    ng-model=\\\"icms.modBC\\\"\\n                                                                    class=\\\"form-control\\\"\\n                                                                    ng-options=\\\"mod.key as mod.label for mod in modeCalculationBaseList\\\"></select>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-5\\\">\\n                                                            <label>Frmula Valor da BC ICMS</label>\\n                                                            <gumga-many-to-one value=\\\"icms.vBC\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"row m-t\\\">\\n                                                        <div class=\\\"col-md-5\\\">\\n                                                            <label>Alquota ICMS</label>\\n                                                            <input type=\\\"text\\\"\\n                                                                   class=\\\"form-control\\\"\\n                                                                   ui-percentage-mask\\n                                                                   ng-model=\\\"icms.pICMS\\\" />\\n                                                        </div>\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>Frmula Valor ICMS</label>\\n\\n                                                            <gumga-many-to-one value=\\\"icms.vICMS\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row\\\"\\n                                                     ng-show=\\\"isRedGroupAble(icms)\\\">\\n                                                    <div class=\\\"col-md-5 m-t container-fluid\\\">\\n                                                        <label>Reduo da BC ICMS</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ng-model=\\\"icms.pRedBC\\\"\\n                                                               ui-percentage-mask/>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7 m-t\\\"\\n                                                         ng-hide=\\\"!(icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'OUTRAS_COM_PARTILHA_90')\\\">\\n                                                        <label>BC da operao prpria</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ng-model=\\\"icms.pBCOp\\\"\\n                                                               ui-percentage-mask/>\\n                                                    </div>\\n                                                </div>\\n                                                <div ng-show=\\\"isIcmsDesoGroupAble(icms)\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <div class=\\\"col-md-7 m-t\\\">\\n                                                            <label>Valor ICMS Desonerado</label>\\n\\n                                                            <gumga-many-to-one value=\\\"icms.vICMSDeson\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-12 m-t\\\">\\n                                                        <div class=\\\"row\\\">\\n                                                            <label>Motivo da desonerao</label>\\n                                                            <select name=\\\"icmsMotDes\\\"\\n                                                                    id=\\\"icmsMotDes\\\"\\n                                                                    ng-model=\\\"icms.motDesICMS\\\"\\n                                                                    class=\\\"form-control\\\"\\n                                                                    ng-options=\\\"obj.key as obj.label for obj in unburdeningMotiveList\\\"></select>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div ng-show=\\\"icms.CST == 'DIFERIMENTO_51'\\\">\\n                                                    <div class=\\\"row m-t\\\">\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>ICMS da Operao</label>\\n                                                            <gumga-many-to-one value=\\\"icms.vICMSOp\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-5\\\">\\n                                                            <label>Percentual do Diferimento</label>\\n                                                            <input type=\\\"text\\\"\\n                                                                   class=\\\"form-control\\\"\\n                                                                   ui-percentage-mask\\n                                                                   ng-model=\\\"icms.pDif\\\" />\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"row m-t\\\">\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>Valor do ICMS diferido</label>\\n                                                            <gumga-many-to-one value=\\\"icms.vICMSDif\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\"\\n                                                     ng-show=\\\"isFCPVisible(icms)\\\">\\n                                                    <div class=\\\"col-md-6\\\">\\n                                                        <label>Alquota interna da UF de destino</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pICMSUFDest\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-6\\\">\\n                                                        <label>Perc. Fundo Comb.  Pobreza</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pFCPUFDest\\\" />\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"col-md-6\\\"\\n                                             ng-hide=\\\"isIcmsStAble(icms)\\\">\\n                                            <div class=\\\"row\\\"\\n                                                 align=\\\"center\\\">\\n                                                <h4 class=\\\"b\\\">\\n                                                    ICMS ST</h4>\\n                                            </div>\\n                                            <div ng-hide=\\\"isIcmsStStandartGroupAble(icms)\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Modalidade Deter. da BC ICMS ST</label>\\n                                                        <select name=\\\"icmsmodBCST\\\"\\n                                                                id=\\\"icmsBCST\\\"\\n                                                                ng-model=\\\"icms.modBCST\\\"\\n                                                                class=\\\"form-control\\\"\\n                                                                ng-options=\\\"modst.key as modst.label for modst in modeCalculationBaseSTList\\\"></select>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\"\\n                                                         ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                        <label>Reduo BC ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pRedBCST\\\" />\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\"\\n                                                         ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                        <label>Margem valor adic. ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pMVAST\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7\\\"\\n                                                         ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                        <label>Frmula Valor BC ICMS ST</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vBCST\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\"\\n                                                         ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                        <label>Alquota ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pICMSST\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7\\\"\\n                                                         ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                        <label>Frmula Valor ICMS ST</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSST\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\"\\n                                                 ng-show=\\\"icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'OUTRAS_COM_PARTILHA_90'\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>UF do ICMS ST devido na operao</label>\\n                                                    <select name=\\\"icmsuficmsdo\\\"\\n                                                            id=\\\"icmsuficmsdo\\\"\\n                                                            ng-model=\\\"icms.UFST\\\"\\n                                                            class=\\\"form-control\\\"\\n                                                            ng-options=\\\"obj.key as obj.label for obj in stateList\\\"></select>\\n                                                </div>\\n                                            </div>\\n                                            <div ng-show=\\\"icms.CST == 'ISENTA_COM_ST_30'\\\">\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Valor ICMS Desonerado</label>\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSDeson\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"col-md-12 m-t\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <label>Motivo da desonerao</label>\\n                                                        <select name=\\\"modIcmsSetDeson\\\"\\n                                                                id=\\\"modIcmsSetDeson\\\"\\n                                                                ng-model=\\\"icms.motDesICMS\\\"\\n                                                                class=\\\"form-control\\\"\\n                                                                ng-options=\\\"obj.key as obj.label for obj in unburdeningMotiveList\\\"></select>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\"\\n                                                 ng-show=\\\"icms.CST == 'NAO_TRIBUTADA_41_ICMSST' || icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label ng-hide=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">BC ICMS ST retido na UF remet.</label>\\n                                                    <label ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">BC ICMS ST retido anteriormente</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vBCSTRet\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label ng-hide=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">ICMS ST retido na UF remet.</label>\\n                                                    <label ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">ICMS ST retido anteriormente\\n                                                    </label>\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSSTRet\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-5\\\"\\n                                                     ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60' ||icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Reduo ICMS ST Prprio</label>\\n                                                    <input type=\\\"text\\\"\\n                                                           class=\\\"form-control\\\"\\n                                                           ui-percentage-mask\\n                                                           ng-model=\\\"icms.pRedIMCSSTProp\\\" />\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\"\\n                                                 ng-show=\\\"icms.CST == 'NAO_TRIBUTADA_41_ICMSST'\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>BC ICMS ST da UF destino</label>\\n\\n                                                    <gumga-many-to-one value=\\\"icms.vBCSTDest\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>ICMS ST da UF destino</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSSTDest\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"row m-t\\\"\\n                                         ng-hide=\\\"icmsNormal\\\">\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <div ng-show=\\\"showSimples(icms)\\\">\\n                                                <div class=\\\"row \\\"\\n                                                     align=\\\"center\\\">\\n                                                    <h4 class=\\\"b\\\">\\n                                                        ICMS</h4>\\n                                                </div>\\n                                                <div ng-show=\\\"icms.CSOSN === 'OUTROS_900'\\\"\\n                                                     class=\\\"m-b\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>Modalidade Deter. da BC ICMS</label>\\n                                                            <select name=\\\"icmsModBC\\\"\\n                                                                    ng-model=\\\"icms.modBC\\\"\\n                                                                    class=\\\"form-control\\\"\\n                                                                    ng-options=\\\"mod.key as mod.label for mod in modeCalculationBaseList\\\"></select>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-5\\\">\\n                                                            <label>Frmula Valor da BC ICMS</label>\\n                                                            <gumga-many-to-one value=\\\"icms.vBC\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"row m-t\\\">\\n                                                        <div class=\\\"col-md-5\\\">\\n                                                            <label>Alquota ICMS</label>\\n                                                            <input type=\\\"text\\\"\\n                                                                   class=\\\"form-control\\\"\\n                                                                   ui-percentage-mask\\n                                                                   ng-model=\\\"icms.pICMS\\\" />\\n                                                        </div>\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>Frmula Valor ICMS</label>\\n\\n\\n                                                            <gumga-many-to-one value=\\\"icms.vICMS\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"row\\\">\\n                                                        <div class=\\\"col-md-5 m-t container-fluid\\\">\\n                                                            <label>Reduo da BC ICMS</label>\\n                                                            <input type=\\\"text\\\"\\n                                                                   class=\\\"form-control\\\"\\n                                                                   ng-model=\\\"icms.pRedBC\\\"\\n                                                                   ui-percentage-mask/>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row \\\"\\n                                                     ng-if=\\\"showAliquotaGroup(icms)\\\">\\n                                                    <div class=\\\"col-md-7\\\"\\n                                                         ng-show=\\\"icms.CSOSN !== 'CREDITO_101'\\\">\\n                                                        <label>Alquota aplicvel de clculo do crdito</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pCredSN\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Frmula Vl. crdito do ICMS</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vCredICMSSN\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\"\\n                                                     ng-show=\\\"isFCPVisible(icms)\\\">\\n                                                    <div class=\\\"col-md-6\\\">\\n                                                        <label>Alquota interna da UF de destino</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pICMSUFDest\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-6\\\">\\n                                                        <label>Perc. Fundo Comb.  Pobreza</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pFCPUFDest\\\" />\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"col-md-6\\\"\\n                                             ng-show=\\\"showSimplesSt(icms)\\\">\\n                                            <div class=\\\"row\\\"\\n                                                 align=\\\"center\\\">\\n                                                <h4 class=\\\"b\\\">\\n                                                    ICMS ST</h4>\\n                                            </div>\\n                                            <div ng-show=\\\"showIcmsStSimple(icms)\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Modalidade Deter. da BC ICMS ST</label>\\n                                                        <select name=\\\"icmsmodBCST\\\"\\n                                                                ng-model=\\\"icms.modBCST\\\"\\n                                                                class=\\\"form-control\\\"\\n                                                                ng-options=\\\"modst.key as modst.label for modst in modeCalculationBaseSTList\\\"></select>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Reduo BC ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pRedBCST\\\" />\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\"\\n                                                         ng-if=\\\"icms.modBCST !== 'PAUTA'\\\">\\n                                                        <label>Margem valor adic. ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pMVAST\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7 pull-right\\\">\\n                                                        <label>Frmula Valor BC ICMS ST</label>\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vBCST\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Alquota ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pICMSST\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Frmula Valor ICMS ST</label>\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSST\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\"\\n                                                 ng-show=\\\"icms.CSOSN === ''\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>BC ICMS ST retido anteriormente</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vBCSTRet\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>ICMS ST retido anteriormente\\n                                                    </label>\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSSTRet\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </uib-tab>\\n                        <!--PIS-->\\n                        <uib-tab index=\\\"1\\\"\\n                                 heading=\\\"PIS\\\">\\n                            <div>\\n                                <div class=\\\"row container-fluid\\\">\\n                                    <div class=\\\"row\\\">\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <label>CST</label>\\n                                            <select name=\\\"cstpis\\\"\\n                                                    id=\\\"cstpis\\\"\\n                                                    ng-model=\\\"pis.CST\\\"\\n                                                    class=\\\"form-control\\\"\\n                                                    ng-options=\\\"obj.key as obj.label for obj in cstpis\\\"></select>\\n                                        </div>\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <label>Mensagem</label>\\n\\n                                            <gumga-many-to-one value=\\\"pis.mensagem\\\"\\n                                                               search-method=\\\"getMensagem(param,'PIS')\\\"\\n                                                               field=\\\"name\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.name}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"row m-t\\\"\\n                                         ng-hide=\\\"isPisAble(pis)\\\">\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <div ng-hide=\\\"pis.CST == 'OPERACAO_TRIBUTAVEL_05'\\\">\\n\\n                                                <div class=\\\"row\\\">\\n                                                    <h4 class=\\\"b\\\"\\n                                                        align=\\\"center\\\">PIS</h4>\\n                                                </div>\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-6\\\"\\n                                                         ng-hide=\\\"isPisOperationTypeUnable(pis)\\\">\\n                                                        <label>Tipo de clculo</label>\\n                                                        <select name=\\\"calculationpis\\\"\\n                                                                id=\\\"calculationpis\\\"\\n                                                                ng-model=\\\"pis.calculationType\\\"\\n                                                                class=\\\"form-control\\\"\\n                                                                ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                    </div>\\n                                                    <div class=\\\"row\\\"\\n                                                         ng-show=\\\"isPisAliquotaAble(pis)\\\">\\n                                                        <div class=\\\"col-md-12\\\">\\n                                                            <div class=\\\"row\\\">\\n                                                                <div class=\\\"col-md-12\\\">\\n\\n                                                                    <div class=\\\"col-md-6\\\">\\n                                                                        <label>Valor da base de clculo</label>\\n\\n                                                                        <gumga-many-to-one value=\\\"pis.vBC\\\"\\n                                                                                           search-method=\\\"getFormulaPis(param)\\\"\\n                                                                                           field=\\\"name\\\"\\n                                                                                           async=\\\"true\\\"\\n                                                                                           display-info=\\\"false\\\"\\n                                                                                           editable=\\\"false\\\">\\n                                                                            <match>\\n                                                                                <div>{{match.model.name}}</div>\\n                                                                            </match>\\n                                                                        </gumga-many-to-one>\\n                                                                    </div>\\n                                                                    <div class=\\\"col-md-6\\\">\\n                                                                        <label>Alquota (percentual)</label>\\n                                                                        <input type=\\\"text\\\"\\n                                                                               class=\\\"form-control\\\"\\n                                                                               ui-percentage-mask\\n                                                                               ng-model=\\\"pis.pPIS\\\" />\\n                                                                    </div>\\n\\n                                                                </div>\\n                                                            </div>\\n\\n                                                            <div class=\\\"col-md-6 m-t\\\">\\n                                                                <label>Valor do PIS</label>\\n\\n                                                                <gumga-many-to-one value=\\\"pis.vPIS\\\"\\n                                                                                   search-method=\\\"getFormulaPis(param)\\\"\\n                                                                                   field=\\\"name\\\"\\n                                                                                   async=\\\"true\\\"\\n                                                                                   display-info=\\\"false\\\"\\n                                                                                   editable=\\\"false\\\">\\n                                                                    <match>\\n                                                                        <div>{{match.model.name}}</div>\\n                                                                    </match>\\n                                                                </gumga-many-to-one>\\n                                                            </div>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"col-md-6\\\"\\n                                             ng-show=\\\"pis.CST === 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <h4 class=\\\"b\\\"\\n                                                    align=\\\"center\\\">PIS ST</h4>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Tipo de clculo</label>\\n                                                    <select name=\\\"calculationpisst\\\"\\n                                                            id=\\\"calculationpisst\\\"\\n                                                            ng-model=\\\"pis.calculationTypeST\\\"\\n                                                            class=\\\"form-control\\\"\\n                                                            ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\"\\n                                                 ng-show=\\\" pis.calculationTypeST == 'PORCENTAGEM'\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor da base de clculo</label>\\n\\n                                                            <gumga-many-to-one value=\\\"pis.vBCST\\\"\\n                                                                               search-method=\\\"getFormulaPis(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Alquota (percentual)</label>\\n                                                            <input type=\\\"text\\\"\\n                                                                   class=\\\"form-control\\\"\\n                                                                   ui-percentage-mask\\n                                                                   ng-model=\\\"pis.pPISST\\\" />\\n                                                        </div>\\n\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor do PIS ST</label>\\n\\n                                                            <gumga-many-to-one value=\\\"pis.vPISST\\\"\\n                                                                               search-method=\\\"getFormulaPis(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </uib-tab>\\n                        <!--COFINS-->\\n                        <uib-tab index=\\\"2\\\"\\n                                 heading=\\\"COFINS\\\">\\n                            <div class=\\\"row container-fluid\\\">\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>CST</label>\\n                                        <select name=\\\"cstcofins\\\"\\n                                                id=\\\"cstcofins\\\"\\n                                                ng-model=\\\"cofins.CST\\\"\\n                                                class=\\\"form-control\\\"\\n                                                ng-options=\\\"obj.key as obj.label for obj in cstpis\\\"></select>\\n\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>Mensagem</label>\\n                                        <gumga-many-to-one value=\\\"cofins.mensagem\\\"\\n                                                           search-method=\\\"getMensagem(param,'COFINS')\\\"\\n                                                           field=\\\"name\\\"\\n                                                           async=\\\"true\\\"\\n                                                           display-info=\\\"false\\\"\\n                                                           editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\"\\n                                     ng-hide=\\\"isCofinsAble(cofins)\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div ng-hide=\\\"cofins.CST == 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <h4 class=\\\"b\\\"\\n                                                    align=\\\"center\\\">COFINS</h4>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-6\\\"\\n                                                     ng-hide=\\\"isCofinsOperationTypeUnable(cofins)\\\">\\n                                                    <label>Tipo de clculo</label>\\n                                                    <select name=\\\"calculationcofins\\\"\\n                                                            id=\\\"calculationcofins\\\"\\n                                                            ng-model=\\\"cofins.calculationType\\\"\\n                                                            class=\\\"form-control\\\"\\n                                                            ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                </div>\\n                                                <div class=\\\"row\\\"\\n                                                     ng-show=\\\"isCofinsAliquotaAble(cofins)\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n                                                        <div class=\\\"row\\\">\\n                                                            <div class=\\\"col-md-12\\\">\\n                                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                                    <label>Valor da base de clculo</label>\\n\\n                                                                    <gumga-many-to-one value=\\\"cofins.vBC\\\"\\n                                                                                       search-method=\\\"getFormulaCofins(param)\\\"\\n                                                                                       field=\\\"name\\\"\\n                                                                                       async=\\\"true\\\"\\n                                                                                       display-info=\\\"false\\\"\\n                                                                                       editable=\\\"false\\\">\\n                                                                        <match>\\n                                                                            <div>{{match.model.name}}</div>\\n                                                                        </match>\\n                                                                    </gumga-many-to-one>\\n                                                                </div>\\n                                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                                    <label>Alquota (percentual)</label>\\n                                                                    <input type=\\\"text\\\"\\n                                                                           class=\\\"form-control\\\"\\n                                                                           ui-percentage-mask\\n                                                                           ng-model=\\\"cofins.pCOFINS\\\" />\\n                                                                </div>\\n                                                            </div>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor do COFINS</label>\\n\\n                                                            <gumga-many-to-one value=\\\"cofins.vCOFINS\\\"\\n                                                                               search-method=\\\"getFormulaCofins(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\"\\n                                         ng-show=\\\"cofins.CST === 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                        <div class=\\\"row\\\">\\n                                            <h4 class=\\\"b\\\"\\n                                                align=\\\"center\\\">COFINS ST</h4>\\n                                        </div>\\n                                        <div class=\\\"row\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>Tipo de clculo</label>\\n                                                <select name=\\\"calculationcofinsst\\\"\\n                                                        id=\\\"calculationcofinsst\\\"\\n                                                        ng-model=\\\"cofins.calculationTypeST\\\"\\n                                                        class=\\\"form-control\\\"\\n                                                        ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                            </div>\\n                                        </div>\\n                                        <div ng-show=\\\"cofins.calculationTypeST == 'PORCENTAGEM'\\\">\\n                                            <div class=\\\"row\\\">\\n\\n                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                    <label>Valor da base de clculo</label>\\n\\n                                                    <gumga-many-to-one value=\\\"cofins.vBCST\\\"\\n                                                                       search-method=\\\"getFormulaCofins(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                                <div class=\\\"col-md-4 m-t\\\">\\n                                                    <label>Alquota (percentual)</label>\\n                                                    <input type=\\\"text\\\"\\n                                                           class=\\\"form-control\\\"\\n                                                           ui-percentage-mask\\n                                                           ng-model=\\\"cofins.pCOFINSST\\\" />\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n\\n                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                    <label>Valor do COFINS ST</label>\\n\\n                                                    <gumga-many-to-one value=\\\"cofins.vCOFINSST\\\"\\n                                                                       search-method=\\\"getFormulaCofins(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </uib-tab>\\n                        <!--IPI-->\\n                        <uib-tab index=\\\"3\\\"\\n                                 heading=\\\"IPI\\\">\\n                            <div>\\n                                <div class=\\\"row container-fluid\\\">\\n                                    <div class=\\\"row\\\">\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>CST</label>\\n                                            <select name=\\\"cstipi\\\"\\n                                                    id=\\\"cstipi\\\"\\n                                                    ng-model=\\\"ipi.CST\\\"\\n                                                    class=\\\"form-control\\\"\\n                                                    ng-options=\\\"obj.key as obj.label for obj in cstipi\\\"></select>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>Cd. Enquadramento legal do IPI</label>\\n                                            <gumga-many-to-one value=\\\"ipi.enquadramentoIpi\\\"\\n                                                               search-method=\\\"searchEnquadramento(param)\\\"\\n                                                               class=\\\"gmd\\\"\\n                                                               field=\\\"descricao\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               async=\\\"true\\\">\\n                                                <match>\\n                                                    <div>{{match.model.codigo}} - {{match.model.descricao}}\\n                                                    </div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>Mensagem</label>\\n                                            <gumga-many-to-one value=\\\"ipi.mensagem\\\"\\n                                                               search-method=\\\"getMensagem(param,'IPI')\\\"\\n                                                               field=\\\"name\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.name}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"row\\\">\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <div class=\\\"row m-t\\\"\\n                                                 ng-hide=\\\"isIpiAble(ipi)\\\">\\n\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Tipo de clculo</label>\\n                                                    <select name=\\\"calculationipi\\\"\\n                                                            id=\\\"calculationipi\\\"\\n                                                            ng-model=\\\"ipi.ipiCalculationType\\\"\\n                                                            class=\\\"form-control\\\"\\n                                                            ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                </div>\\n                                                <div ng-show=\\\"ipi.ipiCalculationType == 'PORCENTAGEM'\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <div class=\\\"col-md-12\\\">\\n\\n                                                            <div class=\\\"col-md-6 m-t\\\">\\n                                                                <label>Valor da base de clculo</label>\\n\\n                                                                <gumga-many-to-one value=\\\"ipi.vBC\\\"\\n                                                                                   search-method=\\\"getFormulaIpi(param)\\\"\\n                                                                                   field=\\\"name\\\"\\n                                                                                   async=\\\"true\\\"\\n                                                                                   display-info=\\\"false\\\"\\n                                                                                   editable=\\\"false\\\">\\n                                                                    <match>\\n                                                                        <div>{{match.model.name}}</div>\\n                                                                    </match>\\n                                                                </gumga-many-to-one>\\n                                                            </div>\\n                                                            <div class=\\\"col-md-6 m-t\\\">\\n                                                                <label>Alquota</label>\\n                                                                <input type=\\\"text\\\"\\n                                                                       class=\\\"form-control\\\"\\n                                                                       ui-percentage-mask\\n                                                                       ng-model=\\\"ipi.pIPI\\\" />\\n                                                            </div>\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-6 m-t\\\">\\n                                                        <label>Valor do IPI</label>\\n                                                        <gumga-many-to-one value=\\\"ipi.vIPI\\\"\\n                                                                           search-method=\\\"getFormulaIpi(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </uib-tab>\\n                    </uib-tabset>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <gmd-fab force-click=\\\"false\\\"\\n                     fixed\\n                     opened=\\\"!fabs\\\"\\n                     style=\\\"z-index: 99\\\">\\n                <button class=\\\"bg-accent gmd-ripple\\\"\\n                        type=\\\"button\\\"\\n                        ng-class=\\\"{ 'gmd-disabled' : blockBtnTributos(entity) || saveDisabled(entity,icms,pis,cofins,ipi) }\\\"\\n                        ng-click=\\\"update(entity,icms,pis,cofins,ipi, blockBtnTributos(entity) || saveDisabled(entity,icms,pis,cofins,ipi))\\\">\\n                    <span class=\\\"material-icons\\\">check</span>\\n                </button>\\n                <ul>\\n                    <li class=\\\"bg-primary\\\"\\n                        ng-show=\\\"entity.id\\\"\\n                        ui-sref=\\\"app.taxsettings.list\\\">\\n                        <span>Voltar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">keyboard_backspace</i>\\n                    </li>\\n                    <li class=\\\"bg-primary\\\"\\n                        ng-click=\\\"clearPage()\\\">\\n                        <span>Limpar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">delete_sweep</i>\\n                    </li>\\n                    <li class=\\\"btn-danger\\\"\\n                        ng-hide=\\\"entity.id\\\"\\n                        ui-sref=\\\"app.taxsettings.list\\\">\\n                        <span>Cancelar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">close</i>\\n                    </li>\\n                    <li class=\\\"bg-primary\\\"\\n                        ng-show=\\\"entity.id\\\"\\n                        ng-click=\\\"replicateTaxSetting()\\\">\\n                        <span>Replicar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">content_copy</i>\\n                    </li>\\n                </ul>\\n            </gmd-fab>\\n        </div>\\n    </div>\\n</form>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nvar path = '/modules/taxsettings/views/list.html';\nvar html = \"<div class=\\\"row\\\">\\n    <div class=\\\"col-lg-12\\\">\\n        <div class=\\\"ibox float-e-margins\\\">\\n            <div class=\\\"ibox-content\\\">\\n                <div class=\\\"col-md-12\\\">\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"row\\\">\\n                            <!--<div class=\\\"col-md-5\\\">-->\\n                            <!--<button type=\\\"button\\\" ui-sref=\\\"taxsettings.insert\\\" grands-button=\\\"new\\\"></button>-->\\n                            <!--<button type=\\\"button\\\" ng-click=\\\"taxationGroup.methods.delete(selectedValues)\\\"-->\\n                            <!--grands-button=\\\"delete\\\" ng-disabled=\\\"selectedValues.length == 0\\\"></button>-->\\n                            <!--</div>-->\\n                            <div class=\\\"col-md-offset-5 col-md-7\\\">\\n                                <gumga-query search=\\\"proxySearchWithGQuery(param)\\\"\\n                                             advanced-search=\\\"proxySearchWithGQuery(param)\\\"\\n                                             use-gquery=\\\"true\\\">\\n                                    <search-field field=\\\"name\\\"\\n                                                  label=\\\"{{'titleparameterization'|gumgaTranslate:'taxsettings'}}\\\"\\n                                                  select=\\\"true\\\"></search-field>\\n                                    <advanced-search-field type=\\\"string\\\"\\n                                                           label=\\\"{{'titleparameterization'|gumgaTranslate:'taxsettings'}}\\\"\\n                                                           field=\\\"name\\\"></advanced-search-field>\\n                                </gumga-query>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-md-12\\\" style=\\\"margin-top:1%\\\">\\n                        <gumga-list data=\\\"taxationGroup.data\\\"\\n                                    configuration=\\\"conf\\\"\\n                                    on-click=\\\"getIcon($value)\\\"\\n                                    class=\\\"table-striped\\\"\\n                                    sort=\\\"taxationGroup.methods.sort(field, dir)\\\"\\n                                    page-size=\\\"taxationGroup.pageSize\\\"\\n                                    count=\\\"taxationGroup.count\\\"\\n                                    page-model=\\\"page\\\"\\n                                    max-height=\\\"400px\\\"\\n                                    on-page-change=\\\"taxationGroup.methods.searchWithGQuery(taxationGroup.lastGQuery, page, pageSize)\\\">\\n                        </gumga-list>\\n                    </div>\\n                </div>\\n                <gmd-fab force-click=\\\"false\\\" fixed opened=\\\"selectedValues.length > 0\\\">\\n                    <button class=\\\"bg-accent gmd-ripple\\\" ui-sref=\\\"app.taxsettings.insert\\\"\\n                            ng-if=\\\"selectedValues.length == 0\\\">\\n                        <span class=\\\"material-icons\\\">add</span>\\n                    </button>\\n                    <button class=\\\"bg-accent gmd-ripple\\\" ng-if=\\\"selectedValues.length > 0\\\">\\n                        <span class=\\\"material-icons\\\">menu</span>\\n                    </button>\\n                    <ul>\\n                        <li class=\\\"btn-danger\\\"\\n                            ng-class=\\\"{'gmd-invisible' : iconFabs === 'search' || selectedValues.length == 0}\\\"\\n                            ng-click=\\\"taxationGroup.methods.delete(selectedValues)\\\">\\n                            <span>Excluir</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">delete</i>\\n                        </li>\\n                        <li class=\\\"btn-warning\\\"\\n                            ui-sref=\\\"app.taxsettings.edit({id: selectedValues[0].id})\\\"\\n                            ng-class=\\\"{'gmd-invisible' : selectedValues.length == 0}\\\">\\n                            <span>{{translateIcon}}</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">{{iconFabs}}</i>\\n                        </li>\\n                        <li class=\\\"btn-primary\\\"\\n                            ui-sref=\\\"app.taxsettings.insert\\\"\\n                            ng-class=\\\"{'gmd-invisible' : selectedValues.length == 0}\\\">\\n                            <span>Novo</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">add</i>\\n                        </li>\\n                    </ul>\\n                </gmd-fab>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nvar path = '/modules/taxsettings/views/modalConflito.html';\nvar html = \"<div class=\\\"modal-header\\\">\\n    <h3 class=\\\"modal-title\\\" gumga-translate-tag=\\\"taxsettings.modaltitle\\\"></h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <p gumga-translate-tag=\\\"taxsettings.modaltext\\\"></p>\\n    <gumga-list data=\\\"values\\\"\\n                configuration=\\\"conf\\\"\\n                class=\\\"table-bordered\\\"></gumga-list>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" ng-click=\\\"close()\\\" grands-button=\\\"close\\\"></button>\\n</div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// tributador.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4e32bd55296cef304e7d","module.exports = angular.module('app.taxsettings.services', ['api.location'])\n    .service('MensagemService', require('./MensagemService'))\n    .service('FormulaService', require('./FormulaService'))\n    .service('CodigoEnquadramentoIpiService', require('./CodigoEnquadramentoIpiService'))\n    .service('TaxationGroupService', require('./TaxationGroupService'));\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/services/module.js","require('./modules/taxsettings/module');\n\n\n\n// WEBPACK FOOTER //\n// ./app/import-modules.js","require('./style/index.styl')\n\n\n// WEBPACK FOOTER //\n// ./app/import-style.js","require('./import-style');\nrequire('./import-modules');\n\nlet base = '/baseGrandsComponents.html';\n\nmodule.exports = angular.module('taxsettings.core', [\n    'ui.router',\n    'ngSanitize',\n    'gumga.core',\n    'brasil.filters',\n    'ui.utils.masks',\n    'datePicker',\n    'app.stock',\n    'app.taxsettings',\n    'buddy.core',\n    'operationtype.core',\n    'product.core'\n    //FIMINJECTIONS\n])\n    .config(function ($stateProvider) {\n        $stateProvider\n            .state('app.taxsettings', {\n                data: {\n                    id: 1\n                },\n                url: '/taxsettings',\n                abstract: true\n            })\n    });\n\n\n// WEBPACK FOOTER //\n// ./app/app.js","ModalConflitoController.$inject = ['entity', 'values', '$scope', '$uibModalInstance'];\nfunction ModalConflitoController(entity, values, $scope, $uibModalInstance) {\n\n    entity = angular.copy(entity);\n    $scope.values = angular.copy(values);\n    $scope.values = $scope.values.map(function (data) {\n        data.operationTypes = filterById(data.operationTypes, entity.operationTypes);\n        data.productTypes = filterById(data.productGroups, entity.productGroups);\n        data.personTypes = filterById(data.personGroups, entity.personGroups);\n        data.destinations = filterByKey(data.destinations, entity.destinations);\n        data.origins = filterByKey(data.origins, entity.origins);\n        return data;\n    });\n    $scope.conf = {\n        columns: 'id,name,operations,origins,destinations,personTypes,productType',\n        selection: 'none',\n        columnsConfig: [\n            {\n                name: 'id',\n                size: 'col-md-1',\n                title: '<strong gumga-translate-tag=\"taxsettings.id\">Code</strong>',\n                content: '<div>{{$value.id}}</div>'\n            },\n            {\n                name: 'name',\n                size: 'col-md-1',\n                title: '<strong gumga-translate-tag=\"taxsettings.name\">Tribute</strong>',\n                content: '<div>{{$value.name}}</div>'\n            },\n            {\n                name: 'operations',\n                size: 'col-md-2',\n                title: '<strong gumga-translate-tag=\"taxsettings.operations\">Operations</strong>',\n                content: '<span ng-repeat=\"obj in $value.operationTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n            },\n            {\n                name: 'origins',\n                size: 'col-md-2',\n                title: '<strong gumga-translate-tag=\"taxsettings.origins\">Origins</strong>',\n                content: '<span ng-repeat=\"obj in $value.origins track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.label}}</span>'\n            },\n            {\n                name: 'destinations',\n                size: 'col-md-2',\n                title: '<strong gumga-translate-tag=\"taxsettings.destinations\">Destinations</strong>',\n                content: '<span ng-repeat=\"obj in $value.destinations track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.label}}</span>'\n            },\n            {\n                name: 'personTypes',\n                size: 'col-md-2',\n                title: '<strong gumga-translate-tag=\"taxsettings.groupofpeople\">Group of People</strong>',\n                content: '<span ng-repeat=\"obj in $value.personTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n            },\n            {\n                name: 'productType',\n                size: 'col-md-2',\n                title: '<strong gumga-translate-tag=\"taxsettings.productgroup\">Product Group</strong>',\n                content: '<span ng-repeat=\"obj in $value.productTypes track by $index\"> {{!$first?\\', \\':\\'\\'}}{{obj.name}}</span>'\n            }\n        ]\n    };\n    $scope.close = function () {\n        $uibModalInstance.close($scope.values);\n    };\n\n\n    function filterById(arr, insideArr) {\n        return arr.filter(function (data) {\n            return insideArr.filter(function (value) {\n                    return value.id === data.id;\n                }).length > 0;\n        });\n    }\n\n    function filterByKey(arr, insideArr) {\n        return arr.filter(function (data) {\n            return insideArr.filter(function (value) {\n                    return value.key\n                        === data.key;\n                }).length > 0;\n        });\n    }\n}\nmodule.exports = ModalConflitoController;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/controllers/ModalConflitoController.js","let modalConflito = require('../views/modalConflito.html');\n\nTaxSettingsFormController.$inject = [\n\t'TaxationGroupService',\n\t'MensagemService',\n\t'CompanyService',\n\t'OperationTypeService',\n\t'PersonGroupService',\n\t'ProductGroupService',\n\t'CfopService',\n\t'FormulaService',\n\t'$state',\n\t'entity',\n\t'$scope',\n\t'$timeout',\n\t'$uibModal',\n\t'$rootScope',\n\t'CodigoEnquadramentoIpiService',\n\t'MbgNotification',\n\t'gumgaController',\n\t'ConfigService',\n\t'SweetAlert'];\n\nfunction TaxSettingsFormController(TaxationGroupService,\n\tMensagemService,\n\tCompanyService,\n\tOperationTypeService,\n\tPersonGroupService,\n\tProductGroupService,\n\tCfopService,\n\tFormulaService,\n\t$state,\n\tentity,\n\t$scope,\n\t$timeout,\n\t$uibModal,\n\t$rootScope,\n\tCodigoEnquadramentoIpiService,\n\tMbgNotification,\n\tgumgaController,\n\tConfigService,\n\tSweetAlert) {\n\n\tgumgaController.createRestMethods($scope, TaxationGroupService, 'taxationGroup');\n\t$scope.taxationGroup.execute('reset');\n\t$scope.entity = angular.copy(entity.data);\n\t$scope.pis = $scope.entity.taxationPIS || {};\n\t$scope.icms = $scope.entity.taxationICMS || {};\n\t$scope.cofins = $scope.entity.taxationCOFINS || {};\n\t$scope.ipi = $scope.entity.taxationIPI || {};\n\t$scope.continue = {};\n\t$scope.entity.operationTypes = $scope.entity.operationTypes || [];\n\t$scope.entity.origins = $scope.entity.origins || [];\n\t$scope.entity.destinations = $scope.entity.destinations || [];\n\t$scope.entity.personGroups = $scope.entity.personGroups || [];\n\t$scope.entity.productGroups = $scope.entity.productGroups || [];\n\t$scope.vICMSd = $scope.vICMSd || 0;\n\t$scope.showICMS = false;\n\t$scope.showPIS = false;\n\t$scope.showCOFINS = false;\n\t$scope.openTaxation = false;\n\t$scope.step1 = false;\n\t$scope.configOpen = false;\n\t$scope.configOpenNext = false;\n\t$scope.mensagemICMSList = [];\n\t$scope.mensagemPISList = [];\n\t$scope.mensagemIPIList = [];\n\t$scope.mensagemCOFINSList = [];\n\t$scope.formulaIcmsBCList = [];\n\t$scope.formulaValorIcms = [];\n\t$scope.formulaBaseIcmsSt = [];\n\t$scope.formulaValorIcmsSt = [];\n\t$scope.formulaValorIcmsDeson = [];\n\t$scope.formulaIcmsStDeson = [];\n\t$scope.fomulasBaseIcmsRet = [];\n\t$scope.formulaValorIcmsRet = [];\n\t$scope.formulaBaseIcmsDest = [];\n\t$scope.formulaValorIcmsDest = [];\n\t$scope.formulaValorIcmsOpe = [];\n\t$scope.formulaBasePis = [];\n\t$scope.formulaBasePisST = [];\n\t$scope.formulaValorPisST = [];\n\t$scope.formulaValorPis = [];\n\t$scope.formulaBaseCofins = [];\n\t$scope.formulaBaseCofinsST = [];\n\t$scope.formulaValorCofinsST = [];\n\t$scope.formulaValorCofins = [];\n\t$scope.cfopList = [];\n\t$scope.stateOriginConflicts = [];\n\t$scope.stateDestinationsConflicts = [];\n\t$scope.personGroupConflicts = [];\n\t$scope.productGroupConflicts = [];\n\t$scope.operationConflicts = [];\n\n\tif ($scope.entity.id) {\n\t\t$scope.openTaxation = true;\n\t\t$scope.configOpen = false;\n\t\t$scope.configOpenNext = false;\n\t}\n\n\tCompanyService.getCurrentCompany().then(function (data) {\n\t\t$scope.icmsNormal = data.data.crt === 'REGIME_NORMAL';\n\t\tif ($scope.icmsNormal) {\n\t\t\t$scope.tribute = ['ICMS', 'PIS', 'COFINS', 'IPI'];\n\t\t} else {\n\t\t\t$scope.tribute = ['ICMS Simples', 'PIS', 'COFINS', 'IPI'];\n\t\t\t$scope.icms.CST = '';\n\t\t}\n\t});\n\n\tOperationTypeService.all().then(function (data) {\n\t\t$scope.operationTypesList = data.data.values;\n\t\t$timeout(function () {\n\t\t\t$scope.entity.operationTypes = entity.data.operationTypes || [];\n\t\t\t$scope.entity.operationTypes = $scope.entity.operationTypes.map(function (data) {\n\t\t\t\treturn $scope.operationTypesList.filter(function (value) {\n\t\t\t\t\treturn value.id === data.id;\n\t\t\t\t})[0];\n\t\t\t})\n\t\t});\n\t});\n\n\t$scope.isEqualArray = (arr, arr2) => angular.equals(arr, arr2);\n\n\t$scope.addOrRemoveAll = (listEntityKey, listOption) => {\n\t\tif ($scope.isEqualArray($scope.entity[listEntityKey], listOption)) {\n\t\t\t$scope.entity[listEntityKey] = [];\n\t\t\treturn;\n\t\t}\n\t\t$scope.entity[listEntityKey] = listOption;\n\t};\n\n\t$scope.clearPage = function () {\n\t\t$scope.pis = {};\n\t\t$scope.icms = {};\n\t\t$scope.cofins = {};\n\t\t$scope.ipi = {};\n\t\t$scope.entity.operationTypes = [];\n\t\t$scope.entity.origins = [];\n\t\t$scope.entity.destinations = [];\n\t\t$scope.entity.personGroups = [];\n\t\t$scope.entity.productGroups = [];\n\t\t$scope.entity.name = \"\";\n\t\t$scope.openTaxation = false;\n\t\t$scope.stateOriginConflicts = [];\n\t\t$scope.personGroupConflicts = [];\n\t\t$scope.productGroupConflicts = [];\n\t\t$scope.operationConflicts = [];\n\t\t$scope.entity.taxationPIS = {};\n\t\t$scope.entity.taxationICMS = {};\n\t\t$scope.entity.taxationCOFINS = {};\n\t\t$scope.entity.taxationIPI = {};\n\t};\n\n\t$scope.replicateTaxSetting = function () {\n\t\tvar newEntity = angular.copy($scope.entity);\n\t\tdelete newEntity.id;\n\n\t\tTaxationGroupService.newEntity = newEntity;\n\t\t$state.go('app.taxsettings.insert');\n\t};\n\n\tPersonGroupService.all().then(function (data) {\n\t\t$scope.personGroupList = data.data.values;\n\t\t$timeout(function () {\n\t\t\t$scope.entity.personGroups = entity.data.personGroups || [];\n\t\t})\n\t});\n\tProductGroupService.all().then(function (data) {\n\t\t$scope.productGroupList = data.data.values;\n\t\t$timeout(function () {\n\t\t\t$scope.entity.productGroups = entity.data.productGroups || [];\n\t\t})\n\t});\n\tTaxationGroupService.getStateList().then(function (data) {\n\t\t$scope.stateDestinationList = $scope.stateOriginList = data.data;\n\t\t$timeout(function () {\n\t\t\t$scope.entity.origins = unmapEnum(entity.data.origins, $scope.stateOriginList);\n\t\t\t$scope.entity.destinations = unmapEnum(entity.data.destinations, $scope.stateDestinationList);\n\t\t})\n\t});\n\tTaxationGroupService.getICMSTypes().then(function (data) {\n\t\t$scope.icmsTypes = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getCsosnTypes().then(function (data) {\n\t\t$scope.csosnTypes = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getPISTypes().then(function (data) {\n\t\t$scope.cstpis = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getIPITypes().then(function (data) {\n\t\t$scope.cstipi = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getCalculationTypes().then(function (data) {\n\t\t$scope.calculationTypes = data.data;\n\t});\n\tTaxationGroupService.getModeCalculationBaseTypes().then(function (data) {\n\t\t$scope.modeCalculationBaseList = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getModeCalculationBaseSTTypes().then(function (data) {\n\t\t$scope.modeCalculationBaseSTList = [{ label: ' ' }].concat(data.data);\n\t});\n\tTaxationGroupService.getUnburdeningMotives().then(function (data) {\n\t\t$scope.unburdeningMotiveList = [{ label: ' ' }].concat(data.data);\n\t});\n\t$scope.confOperation = {\n\t\tcolumns: 'operations',\n\t\tselection: 'multi',\n\t\tconditional: operationConditional,\n\t\tcheckbox: true,\n\t\tcolumnsConfig: [\n\t\t\t{\n\t\t\t\tname: 'operations',\n\t\t\t\tsize: 'col-md-9',\n\t\t\t\ttitle: '<strong gumga-translate-tag=\"taxsettings.operations\">Operations</strong>',\n\t\t\t\tcontent: '<div>{{$value.name}}</div>'\n\t\t\t}\n\t\t]\n\t};\n\t$scope.confState = {\n\t\tcolumns: 'state',\n\t\tselection: 'multi',\n\t\tcheckbox: true,\n\t\tcolumnsConfig: [\n\t\t\t{\n\t\t\t\tname: 'state',\n\t\t\t\tsize: 'col-md-9',\n\t\t\t\ttitle: '<strong gumga-translate-tag=\"taxsettings.state\">State</strong>',\n\t\t\t\tcontent: '<div>{{$value.label}}</div>'\n\t\t\t}\n\t\t]\n\t};\n\t$scope.confPerson = {\n\t\tcolumns: 'person',\n\t\tselection: 'multi',\n\t\tcheckbox: true,\n\t\tcolumnsConfig: [\n\t\t\t{\n\t\t\t\tname: 'person',\n\t\t\t\tsize: 'col-md-9',\n\t\t\t\ttitle: '<strong gumga-translate-tag=\"taxsettings.groupofpeople\">Group of People</strong>',\n\t\t\t\tcontent: '<div>{{$value.name}}</div>'\n\t\t\t}\n\t\t]\n\t};\n\t$scope.confProduct = {\n\t\tcolumns: 'product',\n\t\tselection: 'multi',\n\t\tcheckbox: true,\n\t\tcolumnsConfig: [\n\t\t\t{\n\t\t\t\tname: 'product',\n\t\t\t\tsize: 'col-md-9',\n\t\t\t\ttitle: '<strong gumga-translate-tag=\"taxsettings.productgroup\">Product Group</strong>',\n\t\t\t\tcontent: '<div>{{$value.name}}</div>'\n\t\t\t}\n\t\t]\n\t};\n\n\t$scope.blockBtnTributos = function (entity) {\n\t\treturn entity.operationTypes.length === 0 ||\n\t\t\tentity.origins.length === 0 ||\n\t\t\tentity.destinations.length === 0 ||\n\t\t\tentity.personGroups.length === 0 ||\n\t\t\tentity.productGroups.length === 0;\n\t};\n\t$scope.isIcmsAble = function (entity) {\n\t\treturn !entity.CST ||\n\t\t\tentity.CST === 'ISENTA_COM_ST_30' ||\n\t\t\tentity.CST === 'NAO_TRIBUTADA_41_ICMSST' ||\n\t\t\tentity.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60';\n\t};\n\t$scope.isIcmsStandartGroupAble = function (entity) {\n\t\treturn entity.CST === 'INTEGRALMENTE_00' ||\n\t\t\tentity.CST === 'COBRANCA_ST_10' ||\n\t\t\tentity.CST === 'COBRANCA_ST_10_COM_PARTILHA' ||\n\t\t\tentity.CST === 'REDUCAO_BC_20' ||\n\t\t\tentity.CST === 'DIFERIMENTO_51' ||\n\t\t\tentity.CST === 'ST_REDUCAO_BC_70' ||\n\t\t\tentity.CST === 'OUTRAS_COM_PARTILHA_90' ||\n\t\t\tentity.CST === 'OUTROS_90';\n\t};\n\t$scope.isIcmsDesoGroupAble = function (entity) {\n\t\treturn entity.CST === 'REDUCAO_BC_20' ||\n\t\t\tentity.CST === 'ISENTA_40' ||\n\t\t\tentity.CST === 'NAO_TRIBUTADA_41' ||\n\t\t\tentity.CST === 'SUSPENSAO_50' ||\n\t\t\tentity.CST === 'ST_REDUCAO_BC_70' ||\n\t\t\tentity.CST === 'OUTROS_90';\n\t};\n\t$scope.isIcmsRedGroupAble = function (entity) {\n\t\treturn entity.CST === 'COBRANCA_ST_10_COM_PARTILHA' ||\n\t\t\tentity.CST === 'REDUCAO_BC_20' ||\n\t\t\tentity.CST === 'DIFERIMENTO_51' ||\n\t\t\tentity.CST === 'ST_REDUCAO_BC_70' ||\n\t\t\tentity.CST === 'OUTRAS_COM_PARTILHA_90' ||\n\t\t\tentity.CST === 'OUTROS_90';\n\t};\n\t$scope.isIcmsStAble = function (entity) {\n\t\treturn !entity.CST ||\n\t\t\tentity.CST === 'INTEGRALMENTE_00' ||\n\t\t\tentity.CST === 'REDUCAO_BC_20' ||\n\t\t\tentity.CST === 'ISENTA_40' ||\n\t\t\tentity.CST === 'NAO_TRIBUTADA_41' ||\n\t\t\tentity.CST === 'SUSPENSAO_50' ||\n\t\t\tentity.CST === 'DIFERIMENTO_51';\n\t};\n\t$scope.isIcmsStStandartGroupAble = function (entity) {\n\t\treturn entity.CST === 'NAO_TRIBUTADA_41_ICMSST' || entity.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60';\n\t};\n\t$scope.getCfopIcms = function (value) {\n\t\tvalue = value || '';\n\t\treturn CfopService.getAdvancedSearch('lower(obj.codigo) like lower(\\'%' + value + '%\\') or lower(obj.descricao) like lower(\\'%' + value + '%\\')').then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.getFormulaIcms = function (value) {\n\t\treturn FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = 'ICMS'\").then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.getFormulaPis = function (value) {\n\t\treturn FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%\\') and obj.tariffType = 'PIS'\").then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.getFormulaCofins = function (value) {\n\t\treturn FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%\\') and obj.tariffType = 'COFINS'\").then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.getFormulaIpi = function (value) {\n\t\treturn FormulaService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = 'IPI'\").then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.getMensagem = function (value, tribute) {\n\t\treturn MensagemService.getAdvancedSearch('lower(obj.name) like lower(\\'%' + value + \"%') and obj.tariffType = '\" + tribute + \"'\").then(function (data) {\n\t\t\treturn data.data.values;\n\t\t});\n\t};\n\t$scope.isIpiAble = function (entity) {\n\t\treturn !entity.CST ||\n\t\t\t(entity.CST !== 'ENTRADA_RECUPERACAO_CREDITO_00' &&\n\t\t\t\tentity.CST !== 'OUTRAS_ENTRADAS_49' &&\n\t\t\t\tentity.CST !== 'SAIDA_TRIBUTADA_50' &&\n\t\t\t\tentity.CST !== 'OUTRAS_SAIDAS_99');\n\t};\n\t$scope.isPisAble = function (entity) {\n\t\treturn !entity.CST ||\n\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_04' ||\n\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_03' ||\n\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_06' ||\n\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_07' ||\n\t\t\tentity.CST === 'SEM_INCIDENCIA_08' ||\n\t\t\tentity.CST === 'COM_SUSPENSAO_09';\n\t};\n\t$scope.isPisOperationTypeUnable = function (entity) {\n\t\treturn entity.CST &&\n\t\t\t($scope.isPisAble(entity) ||\n\t\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_01' ||\n\t\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_02');\n\t};\n\t$scope.isPisAliquotaAble = function (entity) {\n\t\treturn $scope.isPisOperationTypeUnable(entity) ||\n\t\t\tentity.calculationType === 'PORCENTAGEM';\n\t};\n\t$scope.isCofinsAble = function (entity) {\n\t\treturn !entity.CST ||\n\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_04' ||\n\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_03' ||\n\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_06' ||\n\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_07' ||\n\t\t\tentity.CST === 'SEM_INCIDENCIA_08' ||\n\t\t\tentity.CST === 'COM_SUSPENSAO_09';\n\t};\n\t$scope.isCofinsOperationTypeUnable = function (entity) {\n\t\treturn entity.CST &&\n\t\t\t($scope.isCofinsAble(entity) ||\n\t\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_01' ||\n\t\t\t\tentity.CST === 'OPERACAO_TRIBUTAVEL_02');\n\t};\n\t$scope.isCofinsAliquotaAble = function (entity) {\n\t\treturn $scope.isCofinsOperationTypeUnable(entity) || entity.calculationType === 'PORCENTAGEM';\n\t};\n\n\tfunction invalidPis(pis) {\n\t\tif (pis.CST) {\n\t\t\tswitch (pis.CST) {\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_01':\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_02':\n\t\t\t\t\tif (invalidPisAliquota(pis)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_05':\n\t\t\t\t\tif (!pis.calculationTypeST) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (pis.calculationTypeST === 'PORCENTAGEM' && invalidPisAliquotaST(pis)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OUTRAS_SAIDAS_49':\n\t\t\t\tcase 'OPERACOES_CREDITO_50':\n\t\t\t\tcase 'OPERACOES_CREDITO_51':\n\t\t\t\tcase 'OPERACOES_CREDITO_52':\n\t\t\t\tcase 'OPERACOES_CREDITO_53':\n\t\t\t\tcase 'OPERACOES_CREDITO_54':\n\t\t\t\tcase 'OPERACOES_CREDITO_55':\n\t\t\t\tcase 'OPERACOES_CREDITO_56':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_60':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_61':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_62':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_63':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_64':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_65':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_66':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_67':\n\t\t\t\tcase 'AQUISICAO_SEM_CREDITO_70':\n\t\t\t\tcase 'AQUISICAO_ISENTA_71':\n\t\t\t\tcase 'AQUISICAO_COM_SUSPENSAO_72':\n\t\t\t\tcase 'AQUISICAO_ALIQUOTA_ZERO_73':\n\t\t\t\tcase 'AQUISICAO_SEM_CONTRIBUICAO_74':\n\t\t\t\tcase 'AQUISICAO_ST_75':\n\t\t\t\tcase 'OUTRAS_ENTRADAS_98':\n\t\t\t\tcase 'OUTRAS_99':\n\t\t\t\t\tif (!pis.calculationType) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (pis.calculationType === 'PORCENTAGEM' && invalidPisAliquota(pis)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction invalidCofins(cofins) {\n\t\tif (cofins.CST) {\n\t\t\tswitch (cofins.CST) {\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_01':\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_02':\n\t\t\t\t\tif (invalidCofinsAliquota(cofins)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OPERACAO_TRIBUTAVEL_05':\n\t\t\t\t\tif (!cofins.calculationTypeST) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (cofins.calculationTypeST === 'PORCENTAGEM' && invalidCofinsAliquotaST(cofins)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OUTRAS_SAIDAS_49':\n\t\t\t\tcase 'OPERACOES_CREDITO_50':\n\t\t\t\tcase 'OPERACOES_CREDITO_51':\n\t\t\t\tcase 'OPERACOES_CREDITO_52':\n\t\t\t\tcase 'OPERACOES_CREDITO_53':\n\t\t\t\tcase 'OPERACOES_CREDITO_54':\n\t\t\t\tcase 'OPERACOES_CREDITO_55':\n\t\t\t\tcase 'OPERACOES_CREDITO_56':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_60':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_61':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_62':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_63':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_64':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_65':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_66':\n\t\t\t\tcase 'CREDITO_PRESUMIDO_67':\n\t\t\t\tcase 'AQUISICAO_SEM_CREDITO_70':\n\t\t\t\tcase 'AQUISICAO_ISENTA_71':\n\t\t\t\tcase 'AQUISICAO_COM_SUSPENSAO_72':\n\t\t\t\tcase 'AQUISICAO_ALIQUOTA_ZERO_73':\n\t\t\t\tcase 'AQUISICAO_SEM_CONTRIBUICAO_74':\n\t\t\t\tcase 'AQUISICAO_ST_75':\n\t\t\t\tcase 'OUTRAS_ENTRADAS_98':\n\t\t\t\tcase 'OUTRAS_99':\n\t\t\t\t\tif (!cofins.calculationType) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (cofins.calculationType === 'PORCENTAGEM' && invalidCofinsAliquota(cofins)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction invalidIpi(ipi) {\n\t\tif (ipi.CST) {\n\t\t\tswitch (ipi.CST) {\n\t\t\t\tcase 'ENTRADA_RECUPERACAO_CREDITO_00':\n\t\t\t\tcase 'OUTRAS_ENTRADAS_49':\n\t\t\t\tcase 'SAIDA_TRIBUTADA_50':\n\t\t\t\tcase 'OUTRAS_SAIDAS_99':\n\t\t\t\t\tif (!ipi.ipiCalculationType || (ipi.ipiCalculationType === 'PORCENTAGEM' && invalidIpiAliquota(ipi))) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction invalidIcmsNormal(icms) {\n\t\tif (icms.CST) {\n\t\t\tswitch (icms.CST) {\n\t\t\t\tcase 'INTEGRALMENTE_00':\n\t\t\t\t\tif (invalidIcmsBase(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'COBRANCA_ST_10':\n\t\t\t\t\tif (invalidIcmsBase(icms) || invalidIcmsStBase(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OUTRAS_COM_PARTILHA_90':\n\t\t\t\tcase 'COBRANCA_ST_10_COM_PARTILHA':\n\t\t\t\t\tif (invalidIcmsBase(icms) || invalidIcmsStBase(icms) || !icms.UFST) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'REDUCAO_BC_20':\n\t\t\t\t\tif (invalidIcmsBase(icms) || invalidIcmsDeson(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ISENTA_COM_ST_30':\n\t\t\t\t\tif (invalidIcmsStBase(icms) || invalidIcmsDeson(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ISENTA_40':\n\t\t\t\tcase 'NAO_TRIBUTADA_41':\n\t\t\t\tcase 'SUSPENSAO_50':\n\t\t\t\t\tif (invalidIcmsDeson(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'NAO_TRIBUTADA_41_ICMSST':\n\t\t\t\t\tif (invalidIcmsStRetid(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'DIFERIMENTO_51':\n\t\t\t\t\tif (invalidIcmsBase(icms) || invalidIcmsDife(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'COBRADO_ANTERIORMENTE_POR_ST_60':\n\t\t\t\t\tif (invalidIcmsStRetidoAnter(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ST_REDUCAO_BC_70':\n\t\t\t\tcase 'OUTROS_90':\n\t\t\t\t\tif (invalidIcmsBase(icms) || invalidIcmsDeson(icms) || invalidIcmsStBase(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction invalidIcmsSimples(icms) {\n\t\tif (icms.CSOSN) {\n\t\t\tswitch (icms.CSOSN) {\n\t\t\t\tcase 'CREDITO_101':\n\t\t\t\t\tif (icms.vCredICMSSN == null) {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'CREDITO_COM_ST_201':\n\t\t\t\t\tif (invalidBaseStSimples(icms) || invalidAliquotaGroup(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'SEM_CREDITO_COM_ST_202':\n\t\t\t\tcase 'RECEITA_BRUTA_COM_ST_203':\n\t\t\t\t\tif (invalidBaseStSimples(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ANTECIPACAO_ST_500':\n\t\t\t\t\tif (invalidIcmsStRetidoAnterSimples(icms)) {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'OUTROS_900':\n\t\t\t\t\tif (invalidBaseStSimples(icms) || invalidAliquotaGroup(icms) || invalidIcmsBase(icms)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction invalidIcmsStRetidoAnterSimples(icms) {\n\t\treturn (icms.vBCSTRet && !icms.vICMSSTRet) || (!icms.vBCSTRet && icms.vICMSSTRet);\n\t}\n\n\tentity\n\n\tfunction invalidBaseStSimples(icms) {\n\t\treturn !icms.modBCST || !icms.vBCST || (icms.pICMSST == null) || !icms.vICMSST;\n\t}\n\n\tfunction invalidAliquotaGroup(icms) {\n\t\treturn icms.pCredSN == null || icms.vCredICMSSN == null;\n\t}\n\n\n\t$scope.saveDisabled = function (entity, icms, pis, cofins, ipi) {\n\t\treturn (($scope.icmsNormal && invalidIcmsNormal(icms)) ||\n\t\t\t(!$scope.icmsNormal && invalidIcmsSimples(icms)) ||\n\t\t\tinvalidPis(pis) ||\n\t\t\tinvalidCofins(cofins) ||\n\t\t\tinvalidIpi(ipi) ||\n\t\t\t(entity.name && entity.name.length === 0));\n\t};\n\t$scope.update = function (entity, icms, pis, cofins, ipi, disabled) {\n\t\tif (disabled) {\n\t\t\treturn;\n\t\t}\n\t\tentity.destinations = entity.destinations.map(mapEnum);\n\t\tentity.origins = entity.origins.map(mapEnum);\n\t\tdelete entity.taxationIPI;\n\t\tdelete entity.taxationPIS;\n\t\tdelete entity.taxationCOFINS;\n\t\tdelete entity.taxationICMS;\n\t\tipi = angular.copy(ipi);\n\t\ticms = angular.copy(icms);\n\t\tpis = angular.copy(pis);\n\t\tcofins = angular.copy(cofins);\n\t\tif (ipi.CST) {\n\t\t\tentity.taxationIPI = mountIpi(ipi);\n\t\t}\n\t\tif ($scope.icmsNormal && icms.CST) {\n\t\t\tentity.taxationICMS = mountIcms(icms);\n\t\t} else if (!$scope.icmsNormal && icms.CSOSN) {\n\t\t\tentity.taxationICMS = mountIcmsSimples(icms);\n\t\t}\n\t\tif (entity.taxationICMS && $scope.isFCPVisible(entity.taxationICMS)) {\n\t\t\tentity.taxationICMS.pICMSUFDest = icms.pICMSUFDest;\n\t\t\tentity.taxationICMS.pFCPUFDest = icms.pFCPUFDest;\n\t\t}\n\t\tif (pis.CST) {\n\t\t\tentity.taxationPIS = mountPis(pis);\n\t\t}\n\t\tif (cofins.CST) {\n\t\t\tentity.taxationCOFINS = mountCofins(cofins);\n\t\t}\n\t\t$rootScope.$emit('hideNextErrorMessage');\n\t\tTaxationGroupService.saveValiding(entity).then(doSave, doErr)\n\t};\n\n\tfunction doSave() {\n\t\tif ($state.current.name === \"taxsettings.insert\") {\n\t\t\tswal({\n\t\t\t\ttitle: \"Confirmao\",\n\t\t\t\ttext: \"Deseja continuar inserindo?\",\n\t\t\t\ttype: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonClass: \"btn-success\",\n\t\t\t\tconfirmButtonText: \"Continuar\",\n\t\t\t\tcancelButtonText: \"No\",\n\t\t\t\tcloseOnConfirm: true,\n\t\t\t\tcloseOnCancel: true\n\t\t\t},\n\t\t\t\tfunction (isConfirm) {\n\t\t\t\t\tif (!isConfirm) {\n\t\t\t\t\t\t$state.go('app.taxsettings.list');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\t$state.go('app.taxsettings.list');\n\t\t}\n\t\t;\n\t}\n\n\tfunction doErr(err) {\n\t\tif (Array.isArray(err.data)) {\n\t\t\tvar values = err.data.map(function (data) {\n\t\t\t\tdata.destinations = unmapEnum(data.destinations, $scope.stateDestinationList);\n\t\t\t\tdata.origins = unmapEnum(data.origins, $scope.stateOriginList);\n\t\t\t\treturn data;\n\t\t\t});\n\t\t\t$uibModal.open({\n\t\t\t\tsize: 'lg',\n\t\t\t\ttemplateUrl: modalConflito,\n\t\t\t\tcontroller: 'ModalConflitoController',\n\t\t\t\tresolve: {\n\t\t\t\t\tvalues: function () {\n\t\t\t\t\t\treturn values;\n\t\t\t\t\t},\n\t\t\t\t\tentity: function () {\n\t\t\t\t\t\treturn $scope.entity;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tMbgNotification.openNotification({\n\t\t\t\ttype: 'warn',\n\t\t\t\tvariation: 'toast',\n\t\t\t\tduration: 4000,\n\t\t\t\ttext: `Tributao incorreta ${err.data.details}`,\n\t\t\t\tactionButton: false\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction unmapEnum(valueArr, dtoArr) {\n\t\tvalueArr = valueArr || [];\n\t\treturn valueArr.map(function (data) {\n\t\t\treturn dtoArr.filter(function (value) {\n\t\t\t\treturn value.key === data || value.key === data.key;\n\t\t\t})[0]\n\t\t});\n\t}\n\n\tfunction invalidCofinsAliquotaST(cofins) {\n\t\treturn !cofins.vBCST || cofins.pCOFINSST == null || !cofins.vCOFINSST;\n\t}\n\n\tfunction invalidCofinsAliquota(cofins) {\n\t\treturn !cofins.vBC || cofins.pCOFINS == null || !cofins.vCOFINS;\n\t}\n\n\tfunction invalidIpiAliquota(ipi) {\n\t\treturn !ipi.vBC || ipi.pIPI == null || !ipi.vIPI;\n\t}\n\n\tfunction invalidPisAliquotaST(pis) {\n\t\treturn !pis.vBCST || pis.pPISST == null || !pis.vPISST;\n\t}\n\n\tfunction invalidPisAliquota(pis) {\n\t\treturn !pis.vBC || pis.pPIS == null || !pis.vPIS;\n\t}\n\n\tfunction invalidIcmsBase(icms) {\n\t\treturn !icms.modBC || !icms.vBC || (icms.pICMS == null) || !icms.vICMS;\n\t}\n\n\tfunction invalidIcmsDeson(icms) {\n\t\treturn (icms.vICMSDeson && !icms.motDesICMS) || (!icms.vICMSDeson && icms.motDesICMS);\n\t}\n\n\tfunction invalidIcmsStBase(icms) {\n\t\treturn !icms.modBCST || !icms.pRedBCST || (icms.pMVAST == null) || !icms.vBCST || (icms.pICMSST == null) || !icms.vICMSST;\n\t}\n\n\tfunction invalidIcmsStRetid(icms) {\n\t\treturn !icms.vBCSTRet || !icms.vICMSSTRet || !icms.vBCSTDest || !icms.vICMSSTDest;\n\t}\n\n\tfunction invalidIcmsDife(icms) {\n\t\treturn !icms.vICMSOp || (icms.pDif == null) || !icms.vICMSDif;\n\t}\n\n\tfunction invalidIcmsStRetidoAnter(icms) {\n\t\treturn !icms.vBCSTRet || !icms.vICMSSTRet;\n\t}\n\n\tfunction mapEnum(data) {\n\t\treturn data.key;\n\t}\n\n\tfunction mountIcms(icms) {\n\t\tvar obj = {\n\t\t\tCST: icms.CST,\n\t\t\tversion: icms.version,\n\t\t\tcfop: icms.cfop,\n\t\t\tmensagem: icms.mensagem,\n\t\t\tmensagemRef: icms.mensagemRef,\n\t\t\tcfopRef: icms.cfopRef,\n\t\t\tpReducaoBase: icms.pReducaoBase\n\t\t};\n\n\t\tif (icms.CST === 'INTEGRALMENTE_00' || icms.CST === 'COBRANCA_ST_10' ||\n\t\t\ticms.CST === 'OUTRAS_COM_PARTILHA_90' || icms.CST === 'COBRANCA_ST_10_COM_PARTILHA' ||\n\t\t\ticms.CST === 'REDUCAO_BC_20' || icms.CST === 'DIFERIMENTO_51' ||\n\t\t\ticms.CST === 'ST_REDUCAO_BC_70' || icms.CST === 'OUTROS_90') {\n\t\t\tobj.modBC = icms.modBC;\n\t\t\tobj.pICMS = icms.pICMS;\n\t\t\tobj.vBC = icms.vBC;\n\t\t\tobj.vICMS = icms.vICMS;\n\t\t}\n\n\t\tif (icms.CST === 'COBRANCA_ST_10' || icms.CST === 'OUTRAS_COM_PARTILHA_90' ||\n\t\t\ticms.CST === 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST === 'ISENTA_COM_ST_30' ||\n\t\t\ticms.CST === 'ST_REDUCAO_BC_70' || icms.CST === 'OUTROS_90') {\n\t\t\tobj.modBCST = icms.modBCST;\n\t\t\tobj.pICMSST = icms.pICMSST;\n\t\t\tobj.pMVAST = icms.pMVAST;\n\t\t\tobj.pRedBCST = icms.pRedBCST;\n\t\t\tobj.vBCST = icms.vBCST;\n\t\t\tobj.vICMSST = icms.vICMSST;\n\t\t}\n\n\t\tif (icms.CST === 'OUTRAS_COM_PARTILHA_90' || icms.CST === 'COBRANCA_ST_10_COM_PARTILHA') {\n\t\t\tobj.UFST = icms.UFST;\n\t\t}\n\n\t\tif (icms.CST === 'REDUCAO_BC_20' || icms.CST === 'ISENTA_COM_ST_30' ||\n\t\t\ticms.CST === 'ISENTA_40' || icms.CST === 'NAO_TRIBUTADA_41' ||\n\t\t\ticms.CST === 'SUSPENSAO_50' || icms.CST === 'ST_REDUCAO_BC_70' ||\n\t\t\ticms.CST === 'OUTROS_90') {\n\t\t\tobj.vICMSDeson = icms.vICMSDeson;\n\t\t\tobj.motDesICMS = icms.motDesICMS;\n\t\t}\n\n\t\tif (icms.CST === 'NAO_TRIBUTADA_41_ICMSST') {\n\t\t\tobj.vBCSTRet = icms.vBCSTRet;\n\t\t\tobj.vBCSTDest = icms.vBCSTDest;\n\t\t\tobj.vICMSSTDest = icms.vICMSSTDest;\n\t\t\tobj.vICMSSTRet = icms.vICMSSTRet;\n\t\t}\n\n\t\tif (icms.CST === 'DIFERIMENTO_51') {\n\t\t\tobj.pDif = icms.pDif;\n\t\t\tobj.vICMSDif = icms.vICMSDif;\n\t\t\tobj.vICMSOp = icms.vICMSOp;\n\t\t}\n\n\t\tif (icms.CST === 'COBRADO_ANTERIORMENTE_POR_ST_60') {\n\t\t\tobj.vBCSTRet = icms.vBCSTRet;\n\t\t\tobj.vICMSSTRet = icms.vICMSSTRet;\n\t\t}\n\t\treturn obj;\n\t}\n\n\tfunction mountIcmsSimples(icms) {\n\t\tvar obj = {\n\t\t\tversion: icms.version,\n\t\t\tcfop: icms.cfop,\n\t\t\tmensagem: icms.mensagem,\n\t\t\tCSOSN: icms.CSOSN,\n\t\t\tmensagemRef: icms.mensagemRef,\n\t\t\tcfopRef: icms.cfopRef,\n\t\t\tpReducaoBase: icms.pReducaoBase\n\t\t};\n\n\t\tif (icms.CSOSN === 'CREDITO_101' ||\n\t\t\ticms.CSOSN === 'CREDITO_COM_ST_201' ||\n\t\t\ticms.CSOSN === 'OUTROS_900') {\n\t\t\tobj.pCredSN = icms.pCredSN;\n\t\t\tobj.vCredICMSSN = icms.vCredICMSSN;\n\t\t}\n\n\t\tif (icms.CSOSN === 'CREDITO_COM_ST_201' ||\n\t\t\ticms.CSOSN === 'SEM_CREDITO_COM_ST_202' ||\n\t\t\ticms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' ||\n\t\t\ticms.CSOSN === 'OUTROS_900') {\n\t\t\tobj.modBCST = icms.modBCST;\n\t\t\tobj.pICMSST = icms.pICMSST;\n\t\t\tobj.pMVAST = icms.pMVAST;\n\t\t\tobj.pRedBCST = icms.pRedBCST;\n\t\t\tobj.vBCST = icms.vBCST;\n\t\t\tobj.vICMSST = icms.vICMSST;\n\t\t}\n\n\t\tif (icms.CSOSN === 'ANTECIPACAO_ST_500') {\n\t\t\tobj.vBCSTRet = icms.vBCSTRet;\n\t\t\tobj.vICMSSTRet = icms.vICMSSTRet;\n\t\t}\n\n\t\tif (icms.CSOSN === 'OUTROS_900') {\n\t\t\tobj.modBC = icms.modBC;\n\t\t\tobj.vBC = icms.vBC;\n\t\t\tobj.pRedBC = icms.pRedBC;\n\t\t\tobj.pICMS = icms.pICMS;\n\t\t\tobj.vICMS = icms.vICMS;\n\t\t}\n\t\treturn obj;\n\t}\n\n\tfunction mountPis(pis) {\n\t\tvar obj = {\n\t\t\tCST: pis.CST,\n\t\t\tversion: pis.version,\n\t\t\tmensagem: pis.mensagem\n\t\t};\n\n\t\tswitch (pis.CST) {\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_05':\n\t\t\t\tobj.calculationTypeST = pis.calculationTypeST;\n\t\t\t\tif (pis.calculationTypeST === 'PORCENTAGEM') {\n\t\t\t\t\tobj.pPISST = pis.pPISST;\n\t\t\t\t\tobj.vBCST = pis.vBCST;\n\t\t\t\t\tobj.vPISST = pis.vPISST;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_01':\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_02':\n\t\t\t\tobj.pPIS = pis.pPIS;\n\t\t\t\tobj.vBC = pis.vBC;\n\t\t\t\tobj.vPIS = pis.vPIS;\n\t\t\t\tbreak;\n\t\t\tcase 'OUTRAS_SAIDAS_49':\n\t\t\tcase 'OPERACOES_CREDITO_50':\n\t\t\tcase 'OPERACOES_CREDITO_51':\n\t\t\tcase 'OPERACOES_CREDITO_52':\n\t\t\tcase 'OPERACOES_CREDITO_53':\n\t\t\tcase 'OPERACOES_CREDITO_54':\n\t\t\tcase 'OPERACOES_CREDITO_55':\n\t\t\tcase 'OPERACOES_CREDITO_56':\n\t\t\tcase 'CREDITO_PRESUMIDO_60':\n\t\t\tcase 'CREDITO_PRESUMIDO_61':\n\t\t\tcase 'CREDITO_PRESUMIDO_62':\n\t\t\tcase 'CREDITO_PRESUMIDO_63':\n\t\t\tcase 'CREDITO_PRESUMIDO_64':\n\t\t\tcase 'CREDITO_PRESUMIDO_65':\n\t\t\tcase 'CREDITO_PRESUMIDO_66':\n\t\t\tcase 'CREDITO_PRESUMIDO_67':\n\t\t\tcase 'AQUISICAO_SEM_CREDITO_70':\n\t\t\tcase 'AQUISICAO_ISENTA_71':\n\t\t\tcase 'AQUISICAO_COM_SUSPENSAO_72':\n\t\t\tcase 'AQUISICAO_ALIQUOTA_ZERO_73':\n\t\t\tcase 'AQUISICAO_SEM_CONTRIBUICAO_74':\n\t\t\tcase 'AQUISICAO_ST_75':\n\t\t\tcase 'OUTRAS_ENTRADAS_98':\n\t\t\tcase 'OUTRAS_99':\n\t\t\t\tobj.calculationType = pis.calculationType;\n\t\t\t\tif (pis.calculationType === 'PORCENTAGEM') {\n\t\t\t\t\tobj.pPIS = pis.pPIS;\n\t\t\t\t\tobj.vBC = pis.vBC;\n\t\t\t\t\tobj.vPIS = pis.vPIS;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t\treturn obj;\n\t}\n\n\tfunction mountCofins(cofins) {\n\t\tvar obj = {\n\t\t\tCST: cofins.CST,\n\t\t\tversion: cofins.version,\n\t\t\tmensagem: cofins.mensagem\n\t\t};\n\t\tswitch (cofins.CST) {\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_05':\n\t\t\t\tobj.calculationTypeST = cofins.calculationTypeST;\n\t\t\t\tif (cofins.calculationTypeST === 'PORCENTAGEM') {\n\t\t\t\t\tobj.pCOFINSST = cofins.pCOFINSST;\n\t\t\t\t\tobj.vBCST = cofins.vBCST;\n\t\t\t\t\tobj.vCOFINSST = cofins.vCOFINSST;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_01':\n\t\t\tcase 'OPERACAO_TRIBUTAVEL_02':\n\t\t\t\tobj.pCOFINS = cofins.pCOFINS;\n\t\t\t\tobj.vBC = cofins.vBC;\n\t\t\t\tobj.vCOFINS = cofins.vCOFINS;\n\t\t\t\tbreak;\n\t\t\tcase 'OUTRAS_SAIDAS_49':\n\t\t\tcase 'OPERACOES_CREDITO_50':\n\t\t\tcase 'OPERACOES_CREDITO_51':\n\t\t\tcase 'OPERACOES_CREDITO_52':\n\t\t\tcase 'OPERACOES_CREDITO_53':\n\t\t\tcase 'OPERACOES_CREDITO_54':\n\t\t\tcase 'OPERACOES_CREDITO_55':\n\t\t\tcase 'OPERACOES_CREDITO_56':\n\t\t\tcase 'CREDITO_PRESUMIDO_60':\n\t\t\tcase 'CREDITO_PRESUMIDO_61':\n\t\t\tcase 'CREDITO_PRESUMIDO_62':\n\t\t\tcase 'CREDITO_PRESUMIDO_63':\n\t\t\tcase 'CREDITO_PRESUMIDO_64':\n\t\t\tcase 'CREDITO_PRESUMIDO_65':\n\t\t\tcase 'CREDITO_PRESUMIDO_66':\n\t\t\tcase 'CREDITO_PRESUMIDO_67':\n\t\t\tcase 'AQUISICAO_SEM_CREDITO_70':\n\t\t\tcase 'AQUISICAO_ISENTA_71':\n\t\t\tcase 'AQUISICAO_COM_SUSPENSAO_72':\n\t\t\tcase 'AQUISICAO_ALIQUOTA_ZERO_73':\n\t\t\tcase 'AQUISICAO_SEM_CONTRIBUICAO_74':\n\t\t\tcase 'AQUISICAO_ST_75':\n\t\t\tcase 'OUTRAS_ENTRADAS_98':\n\t\t\tcase 'OUTRAS_99':\n\t\t\t\tobj.calculationType = cofins.calculationType;\n\t\t\t\tif (cofins.calculationType === 'PORCENTAGEM') {\n\t\t\t\t\tobj.pCOFINS = cofins.pCOFINS;\n\t\t\t\t\tobj.vBC = cofins.vBC;\n\t\t\t\t\tobj.vCOFINS = cofins.vCOFINS;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn obj;\n\t}\n\n\tfunction mountIpi(ipi) {\n\t\tvar obj = {\n\t\t\tCST: ipi.CST,\n\t\t\tversion: ipi.version,\n\t\t\tmensagem: ipi.mensagem,\n\t\t\tenquadramentoIpi: ipi.enquadramentoIpi\n\t\t};\n\n\t\tswitch (ipi.CST) {\n\t\t\tcase 'ENTRADA_RECUPERACAO_CREDITO_00':\n\t\t\tcase 'OUTRAS_ENTRADAS_49':\n\t\t\tcase 'SAIDA_TRIBUTADA_50':\n\t\t\tcase 'OUTRAS_SAIDAS_99':\n\t\t\t\tobj.ipiCalculationType = ipi.ipiCalculationType;\n\t\t\t\tif (ipi.ipiCalculationType === 'PORCENTAGEM') {\n\t\t\t\t\tobj.pIPI = ipi.pIPI;\n\t\t\t\t\tobj.vBC = ipi.vBC;\n\t\t\t\t\tobj.vIPI = ipi.vIPI;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t\treturn obj;\n\t}\n\n\t//Funes dos conflitos na grade\n\tfunction mountConflicts(values) {\n\t\t$scope.stateOriginConflicts = mountNewArr(values, 'destinations', 'key');\n\t\t$scope.stateDestinationConflicts = mountNewArr(values, 'destinations', 'key');\n\t\t$scope.personGroupConflicts = mountNewArr(values, 'personGroup', 'key');\n\t\t$scope.operationConflicts = mountNewArr(values, 'operationTypes', 'id');\n\t\t$scope.productGroupConflicts = mountNewArr(values, 'productGroups', 'id');\n\t}\n\n\tfunction mountNewArr(arr, field, comparationField) {\n\t\tvar newArr = [],\n\t\t\ttoReturn = [];\n\t\tarr.forEach(function (data) {\n\t\t\tdata[field].forEach(function (value) {\n\t\t\t\tnewArr[value[comparationField]] = value;\n\t\t\t});\n\t\t});\n\t\tfor (key in newArr) {\n\t\t\ttoReturn.push(newArr[key]);\n\t\t}\n\t\treturn toReturn;\n\t}\n\n\tfunction operationConditional(value) {\n\t\treturn {\n\t\t\t'2px solid red': function () {\n\t\t\t\treturn $scope.operationConflicts.filter(function (data) {\n\t\t\t\t\treturn data.id === value.id;\n\t\t\t\t}).length > 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t$scope.showAliquotaGroup = function (icms) {\n\t\treturn icms.CSOSN === 'CREDITO_101' || icms.CSOSN === 'CREDITO_COM_ST_201' || icms.CSOSN === 'OUTROS_900';\n\t};\n\t$scope.showIcmsStSimple = function (icms) {\n\t\treturn icms.CSOSN === 'CREDITO_COM_ST_201' ||\n\t\t\ticms.CSOSN === 'SEM_CREDITO_COM_ST_202' ||\n\t\t\ticms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' ||\n\t\t\ticms.CSOSN === 'OUTROS_900'\n\t};\n\t$scope.showSimples = function (icms) {\n\t\treturn icms.CSOSN === 'CREDITO_101' ||\n\t\t\ticms.CSOSN === 'CREDITO_COM_ST_201' ||\n\t\t\ticms.CSOSN === 'OUTROS_900';\n\t};\n\t$scope.showSimplesSt = function (icms) {\n\t\treturn icms.CSOSN === 'CREDITO_COM_ST_201' ||\n\t\t\ticms.CSOSN === 'SEM_CREDITO_COM_ST_202' ||\n\t\t\ticms.CSOSN === 'RECEITA_BRUTA_COM_ST_203' ||\n\t\t\ticms.CSOSN === '' ||\n\t\t\ticms.CSOSN === 'OUTROS_900';\n\t};\n\t$scope.isFCPVisible = function (icms) {\n\t\treturn icms.CSOSN !== 'IMUNE_300' &&\n\t\t\ticms.CSOSN !== 'NAO_TRIBUTADA_400' &&\n\t\t\ticms.CST !== 'NAO_TRIBUTADA_41' &&\n\t\t\ticms.CST !== 'NAO_TRIBUTADA_41_ICMSST';\n\t};\n\n\t$scope.searchEnquadramento = function (param) {\n\t\treturn CodigoEnquadramentoIpiService.getSearch('descricao,codigo', param).then(function (data) {\n\t\t\treturn data.data.values;\n\t\t})\n\t};\n}\n\nmodule.exports = TaxSettingsFormController;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/controllers/TaxSettingsFormController.js","TaxSettingsListController.$inject = ['TaxationGroupService', '$scope', 'gumgaController', 'SweetAlert', 'ConfigService'];\nfunction TaxSettingsListController(TaxationGroupService, $scope, gumgaController, SweetAlert, ConfigService) {\n    gumgaController.createRestMethods($scope, TaxationGroupService, 'taxationGroup');\n\n    var GQueryBase = new GQuery();\n        // .select(\"obj.name as name\")\n        // .select(\"obj.id as id\")\n        // .select(\"obj.oi as oi\")\n        // .select(\"obj.taxationCOFINS.id as taxationCOFINS\")\n        // .select(\"obj.taxationIPI.id as taxationIPI\")\n        // .select(\"obj.taxationPIS.id as taxationPIS\")\n        // .select(\"obj.taxationICMS.id as taxationICMS\");\n\n    $scope.proxySearchWithGQuery = function (param) {\n        $scope.taxationGroup.methods.searchWithGQuery(GQueryBase.and(param))\n    };\n\n    $scope.taxationGroup.methods.searchWithGQuery(GQueryBase);\n\n    $scope.validBuddy = function (oi, id) {\n        return ConfigService.validateBuddy(oi, id);\n    };\n\n    $scope.getIcon = (value) => {\n        $scope.iconFabs = !$scope.validBuddy(value.oi,value.id) ? \"search\" : \"edit\";\n        $scope.translateIcon = !$scope.validBuddy(value.oi,value.id) ? \"Vizualizar\" : \"Editar\";\n    };\n\n    $scope.conf = {\n        columns: 'tribute,titleParameterization,acoes',\n        selection: 'single',\n        materialTheme: true,\n        activeLineColor: '#cccccc',\n        hoverLineColor: '#f5f5f5',\n        itemsPerPage: [5, 10, 25, 50, 100],\n        title: 'Listagem de Tributos',\n        columnsConfig: [\n            {\n                name: 'tribute',\n                size: 'col-md-3',\n                title: '<strong gumga-translate-tag=\"taxsettings.tribute\">Tribute</strong>',\n                content: '<div>{{$value.taxationICMS?\\' ICMS\\':\\'\\'}}{{$value.taxationIPI?\\' IPI\\':\\'\\'}}{{$value.taxationPIS?\\' PIS\\':\\'\\'}}{{$value.taxationCOFINS?\\' COFINS\\':\\'\\'}}</div>'\n            },\n            {\n                name: 'titleParameterization',\n                size: 'col-md-8',\n                title: '<strong gumga-translate-tag=\"taxsettings.titleparameterization\">Title parameterization</strong>',\n                content: '<div>{{$value.name}}</div>'\n            }, {\n                name: 'acoes',\n                alignColumn: 'center',\n                alignRows: 'center',\n                size: 'col-md-1',\n                title: ' ',\n                content:\n                '<button style=\"display:inline-block\" ' +\n                'type=\"button\"' +\n                'ng-show=\"!$parent.$parent.validBuddy($value.oi, $value.id)\" ' +\n                'uib-tooltip=\"Copiar registro\"' +\n                'ng-click=\"$parent.$parent.copyDeleteRecord($value.id)\"' +\n                ' class=\"btn-link btn-xs\">' +\n                '<i class=\"fa fa-plus text-success\"></i>' +\n                '</button>' +\n                '<button style=\"display:inline-block\" ' +\n                    'type=\"button\" ' +\n                'ng-show=\"!$parent.$parent.validBuddy($value.oi.value, $value.id)\" uib-tooltip=\"Este registro  publico\" ' +\n                'class=\"btn-link btn-xs\"><i class=\"fa fa-users\" aria-hidden=\"true\"></i></button>',\n                widthPorcentage: 20\n            }\n        ]\n    };\n\n    $scope.goToLastPage = () => {\n        let lastPage = Math.ceil($scope.taxationGroup.count / $scope.taxationGroup.pageSize);\n        $scope.taxationGroup.methods.get(lastPage, $scope.taxationGroup.pageSize);\n    };\n\n    $scope.copyDeleteRecord = (id) => {\n        SweetAlert.swal({\n                title: 'Ateno.',\n                text: 'Aps a cpia do registro o mesmo antigo ser inativado para que no haja conflito de infomaes. Deseja realmente fazer a cpia?',\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: '#DD6B55', confirmButtonText: \"Sim\",\n                cancelButtonText: 'No',\n                closeOnConfirm: false,\n                closeOnCancel: true\n            },\n            function (isConfirm) {\n                if (isConfirm) {\n                    TaxationGroupService.copyAndDeleteRecord(id).then(function () {\n                        $scope.goToLastPage();\n                    });\n                    SweetAlert.swal(\"Pronto!\", \"Copiado com sucesso\", \"success\");\n                }\n            });\n\n\n    };\n\n    $scope.taxationGroup.execute('reset');\n\n    $scope.taxationGroup.on('deleteSuccess', function () {\n        $scope.taxationGroup.methods.getLatestOperation();\n    });\n\n}\nmodule.exports = TaxSettingsListController;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/controllers/TaxSettingsListController.js","require('../services/module')\n\nmodule.exports = angular.module('app.taxsettings.controllers', ['app.taxsettings.services', 'ui.router'])\n    .controller('TaxSettingsFormController', require('./TaxSettingsFormController'))\n    .controller('ModalConflitoController', require('./ModalConflitoController'))\n    .controller('TaxSettingsListController', require('./TaxSettingsListController'))\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/controllers/module.js","require('./controllers/module');\nrequire('./services/module');\n\nlet list = require('./views/list.html');\nlet form = require('./views/form.html');\n\n\nmodule.exports = angular.module('app.taxsettings', ['ui.router', 'app.taxsettings.controllers', 'app.taxsettings.services', 'api.location'])\n    .config(['$stateProvider', 'apiLocation', function ($stateProvider, apiLocation) {\n        $stateProvider\n            .state('app.taxsettings.list', {\n                url: '/list',\n                templateUrl: list,\n                controller: 'TaxSettingsListController',\n                data: {id: 2}\n            })\n            .state('app.taxsettings.insert', {\n                url: '/insert',\n                templateUrl: form,\n                controller: 'TaxSettingsFormController',\n                controllerAs: 'form',\n                data: {id: 3}, resolve: {\n                    entity: ['$http', 'TaxationGroupService', '$q', function ($http, TaxationGroupService, $q) {\n                        var url = apiLocation + '/api/taxationgroup/new';\n                        if(TaxationGroupService.newEntity){\n                            return $q(function(resolve){\n                                var ent = angular.copy(TaxationGroupService.newEntity);\n                                delete TaxationGroupService.newEntity;\n                                resolve({data: ent});\n                            });\n                        };\n                        return $http.get(url);\n                    }]\n                }\n            })\n            .state('app.taxsettings.edit', {\n                url: '/edit/:id',\n                templateUrl: form,\n                controller: 'TaxSettingsFormController',\n                data: {id: 3}, resolve: {\n                    entity: ['$transition$', '$http', function ($transition$, $http) {\n                        var url = apiLocation + '/api/taxationgroup/' + $transition$.params().id;\n                        return $http.get(url);\n                    }]\n                }\n            });\n    }])\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/module.js","CodigoEnquadramentoIpiService.$inject = ['GumgaRest', 'apiLocation'];\nfunction CodigoEnquadramentoIpiService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/codigoenquadramentoipi');\n    return service;\n}\nmodule.exports = CodigoEnquadramentoIpiService;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/services/CodigoEnquadramentoIpiService.js","FormulaService.$inject = ['GumgaRest', 'apiLocation'];\nfunction FormulaService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/formula');\n\n    service.copyRecord = function (id) {\n        return this.extend('post', '/copyrecord/' + id);\n    };\n    service.deleteRecord = function (id) {\n        return this.extend('delete', '/deleterecord/' + id);\n    };\n\n    return service;\n}\nmodule.exports = FormulaService;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/services/FormulaService.js","MensagemService.$inject = ['GumgaRest', 'apiLocation'];\nfunction MensagemService(GumgaRest, apiLocation) {\n    const service = new GumgaRest(apiLocation + '/api/mensagem');\n\n    service.getAttributeMessageNames = () => {\n        return service.extend('get', '/attributemessagenames');\n    };\n\n    service.getTiposMensagem = () => {\n        return service.extend('get', '/tiposmensagem');\n    };\n\n    return service;\n}\nmodule.exports = MensagemService\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/services/MensagemService.js","TaxationGroupService.$inject = ['GumgaRest', 'apiLocation'];\n\nfunction TaxationGroupService(GumgaRest, apiLocation) {\n    var service = new GumgaRest(apiLocation + '/api/taxationgroup');\n\n    service.saveValiding = function (entity) {\n        if (!entity.id) {\n            return this.extend('post', '/validatesave', entity);\n        }\n        return this.extend('put', '/validatesave', entity);\n    };\n    service.getStateList = function () {\n        return this.extend('get', '/state')\n    };\n\n    service.getICMSTypes = function () {\n        return this.extend('get', '/icmscst')\n    };\n\n    service.getCsosnTypes = function () {\n        return this.extend('get', '/csosntypes')\n    };\n\n    service.getIPITypes = function () {\n        return this.extend('get', '/ipicst');\n    };\n\n    service.getPISTypes = function () {\n        return this.extend('get', '/piscst');\n    };\n\n    service.getCalculationTypes = function () {\n        return this.extend('get', '/calculationtype');\n    };\n\n    service.getModeCalculationBaseTypes = function () {\n        return this.extend('get', '/modecalculationbase')\n    };\n\n    service.getModeCalculationBaseSTTypes = function () {\n        return this.extend('get', '/modecalculationbasest')\n    };\n\n    service.getUnburdeningMotives = function () {\n        return this.extend('get', '/unburdeningmotive')\n    };\n\n    service.getCofinsPisTypes = function () {\n        return this.extend('get', '/cofinscst')\n    };\n\n    service.copyAndDeleteRecord = function (id) {\n        return this.extend('post', '/copyanddeleterecord/' + id)\n    };\n\n    return service;\n}\n\nmodule.exports = TaxationGroupService;\n\n\n// WEBPACK FOOTER //\n// ./app/modules/taxsettings/services/TaxationGroupService.js","var path = '/modules/taxsettings/views/form.html';\nvar html = \"<form name=\\\"forms\\\"\\n      novalidate\\n      gumga-form>\\n    <div class=\\\"row\\\"\\n         style=\\\"font-size: 12px\\\">\\n        <div class=\\\"col-lg-10 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1 align-layout-panel cl-dark-primary text-uppercase\\\"\\n    \\n             style=\\\"margin: 10px; margin-left: 130px\\\">\\n            <label style=\\\"font-size: 24px\\\"\\n                   class=\\\"ng-binding\\\">CADASTRO DE TRIBUTOS</label>\\n        </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-10 col-md-offset-1\\\">\\n            <!--Arvore de tributao-->\\n            <div class=\\\"panel gmd\\\">\\n                <div class=\\\"panel-body\\\">\\n                    <div class=\\\"row\\\">\\n                        <!--Passo 1-->\\n                        <div ng-hide=\\\"step2\\\"\\n                             class=\\\"list-tax-scroll\\\">\\n                            <!--Tipo de operao-->\\n                            <div class=\\\"list-tax-option\\\"\\n                                 align=\\\"center\\\"\\n                                 style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.operation\\\"\\n                                        class=\\\"b\\\">OPERATION</h4>\\n                                    <a ng-click=\\\"addOrRemoveAll('operationTypes', operationTypesList)\\\">\\n                                        {{ isEqualArray(entity.operationTypes, operationTypesList) ? 'Remover todos' : 'Adicionar todos' }}\\n                                    </a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\"\\n                                                 search-field=\\\"name\\\"\\n                                                 filter-option-by=\\\"contains\\\"\\n                                                 full-mode\\n                                                 ng-model=\\\"entity.operationTypes\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.operationTypes\\\"\\n                                                          ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in operationTypesList\\\"\\n                                                            ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Origem-->\\n                            <div class=\\\"list-tax-option\\\"\\n                                 align=\\\"center\\\"\\n                                 style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.origin\\\"\\n                                        class=\\\"b\\\">ORIGIN</h4>\\n                                    <a ng-click=\\\"addOrRemoveAll('origins', stateOriginList)\\\">\\n                                        {{ isEqualArray(entity.origins, stateOriginList) ? 'Remover todos' : 'Adicionar todos' }}\\n                                    </a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\"\\n                                                 search-field=\\\"label\\\"\\n                                                 filter-option-by=\\\"contains\\\"\\n                                                 full-mode\\n                                                 ng-model=\\\"entity.origins\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.origins\\\"\\n                                                          ng-value=\\\"item\\\">\\n                                            {{item.label}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in stateOriginList\\\"\\n                                                            ng-value=\\\"option\\\">\\n                                            {{option.label}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Destino-->\\n                            <div class=\\\"list-tax-option\\\"\\n                                 align=\\\"center\\\"\\n                                 style=\\\"font-size: 11px\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.destination\\\"\\n                                        class=\\\"b\\\">DESTINATION</h4>\\n                                    <a ng-click=\\\"addOrRemoveAll('destinations', stateDestinationList)\\\">\\n                                        {{ isEqualArray(entity.destinations, stateDestinationList) ? 'Remover todos' : 'Adicionar todos' }}\\n                                    </a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\"\\n                                                 search-field=\\\"label\\\"\\n                                                 filter-option-by=\\\"contains\\\"\\n                                                 full-mode\\n                                                 ng-model=\\\"entity.destinations\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.destinations\\\"\\n                                                          ng-value=\\\"item\\\">\\n                                            {{item.label}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in stateDestinationList\\\"\\n                                                            ng-value=\\\"option\\\">\\n                                            {{option.label}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Tipo de Pessoa-->\\n                            <div class=\\\"list-tax-option\\\"\\n                                 align=\\\"center\\\"\\n                                 style=\\\"font-size: 11px;\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.person\\\"\\n                                        class=\\\"b\\\">PERSON</h4>\\n                                    <a ng-click=\\\"addOrRemoveAll('personGroups', personGroupList)\\\">\\n                                        {{ isEqualArray(entity.personGroups, personGroupList) ? 'Remover todos' : 'Adicionar todos' }}\\n                                    </a>\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\"\\n                                                 search-field=\\\"name\\\"\\n                                                 filter-option-by=\\\"contains\\\"\\n                                                 full-mode\\n                                                 ng-model=\\\"entity.personGroups\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.personGroups\\\"\\n                                                          ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in personGroupList\\\"\\n                                                            ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                            <!--Tipo de Produto-->\\n                            <div class=\\\"list-tax-option\\\"\\n                                 align=\\\"center\\\"\\n                                 style=\\\"font-size: 11px;\\\">\\n                                <div class=\\\"list-tax-option-header\\\">\\n                                    <h4 gumga-translate-tag=\\\"taxsettings.product\\\"\\n                                        class=\\\"b\\\">PRODUCT</h4>\\n                                    <a ng-click=\\\"addOrRemoveAll('productGroups', productGroupList)\\\">\\n                                        {{ isEqualArray(entity.productGroups, productGroupList) ? 'Remover todos' : 'Adicionar todos' }}\\n                                    </a>\\n\\n                                </div>\\n                                <div>\\n                                    <gumga-chips placeholder=\\\"Buscar...\\\"\\n                                                 search-field=\\\"name\\\"\\n                                                 filter-option-by=\\\"contains\\\"\\n                                                 full-mode\\n                                                 ng-model=\\\"entity.productGroups\\\">\\n                                        <gumga-chips-item ng-repeat=\\\"item in entity.productGroups\\\"\\n                                                          ng-value=\\\"item\\\">\\n                                            {{item.name}}\\n                                        </gumga-chips-item>\\n                                        <gumga-chips-option ng-repeat=\\\"option in productGroupList\\\"\\n                                                            ng-value=\\\"option\\\">\\n                                            {{option.name}}\\n                                        </gumga-chips-option>\\n                                    </gumga-chips>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"panel gmd\\\">\\n                <div class=\\\"panel-body\\\">\\n                    <!--Nome da tributao-->\\n                    <div class=\\\"row m-t\\\">\\n                        <div class=\\\"col-md-12\\\">\\n                            <gmd-input>\\n                                <input type=\\\"text\\\"\\n                                       class=\\\"form-control gmd\\\"\\n                                       ng-model=\\\"entity.name\\\"\\n                                       style=\\\"font-size: 20px\\\" />\\n                                <span class=\\\"bar\\\"></span>\\n                                <label class=\\\"control-label\\\"\\n                                       gumga-translate-tag=\\\"taxsettings.titleparameterization\\\">Title parameterization\\n                                </label>\\n                            </gmd-input>\\n                        </div>\\n                    </div>\\n                    <uib-tabset active=\\\"activePill\\\">\\n                        <!--ICMS-->\\n                        <uib-tab index=\\\"0\\\"\\n                                 heading=\\\"ICMS\\\">\\n                            <div>\\n                                <div class=\\\"row container-fluid\\\">\\n\\n                                    <div class=\\\"row m-t\\\">\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>CFOP</label>\\n                                            <gumga-many-to-one value=\\\"icms.cfop\\\"\\n                                                               search-method=\\\"getCfopIcms(param)\\\"\\n                                                               field=\\\"descricao\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.codigo}}</div>\\n                                                    <div>{{match.model.descricao}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\"\\n                                             ng-show=\\\"icmsNormal\\\">\\n                                            <label>CST</label>\\n                                            <select name=\\\"icmsCst\\\"\\n                                                    id=\\\"icmsCst\\\"\\n                                                    ng-model=\\\"icms.CST\\\"\\n                                                    ng-options=\\\"cst.key as cst.label for cst in icmsTypes\\\"\\n                                                    class=\\\"form-control\\\"></select>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\"\\n                                             ng-hide=\\\"icmsNormal\\\">\\n                                            <label>CSOSN</label>\\n                                            <select name=\\\"CSOSN\\\"\\n                                                    id=\\\"CSOSN\\\"\\n                                                    ng-model=\\\"icms.CSOSN\\\"\\n                                                    ng-options=\\\"cst.key as cst.label for cst in csosnTypes\\\"\\n                                                    class=\\\"form-control\\\"></select>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>Mensagem</label>\\n                                            <gumga-many-to-one value=\\\"icms.mensagem\\\"\\n                                                               search-method=\\\"getMensagem(param,'ICMS')\\\"\\n                                                               field=\\\"name\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.name}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"row m-t\\\">\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>CFOP para referenciado</label>\\n                                            <gumga-many-to-one value=\\\"icms.cfopRef\\\"\\n                                                               search-method=\\\"getCfopIcms(param)\\\"\\n                                                               field=\\\"descricao\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.codigo}}</div>\\n                                                    <div>{{match.model.descricao}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\"\\n                                             ng-if=\\\"icms.CSOSN === 'ANTECIPACAO_ST_500'\\\"\\n                                             style=\\\"margin-top: 17px;\\\">\\n                                            <gmd-input>\\n                                                <input type=\\\"text\\\"\\n                                                       class=\\\"form-control gmd\\\"\\n                                                       ui-percentage-mask\\n                                                       ng-model=\\\"icms.pReducaoBase\\\"\\n                                                       id=\\\"pReducaoBase\\\">\\n                                                <span class=\\\"bar\\\"></span>\\n                                                <label for=\\\"pReducaoBase\\\"\\n                                                       class=\\\"control-label\\\">Reduo da base de calculo</label>\\n                                            </gmd-input>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>Mensagem para referenciado</label>\\n                                            <gumga-many-to-one value=\\\"icms.mensagemRef\\\"\\n                                                               search-method=\\\"getMensagem(param,'ICMS')\\\"\\n                                                               field=\\\"name\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.name}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"row m-t\\\"\\n                                         ng-show=\\\"icmsNormal\\\">\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <div ng-hide=\\\"isIcmsAble(icms)\\\">\\n                                                <div class=\\\"row\\\"\\n                                                     align=\\\"center\\\">\\n                                                    <h4 class=\\\"b\\\">\\n                                                        ICMS</h4>\\n                                                </div>\\n                                                <div ng-show=\\\"isIcmsStandartGroupAble(icms)\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>Modalidade Deter. da BC ICMS</label>\\n                                                            <select name=\\\"icmsModBC\\\"\\n                                                                    id=\\\"icmsModBC\\\"\\n                                                                    ng-model=\\\"icms.modBC\\\"\\n                                                                    class=\\\"form-control\\\"\\n                                                                    ng-options=\\\"mod.key as mod.label for mod in modeCalculationBaseList\\\"></select>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-5\\\">\\n                                                            <label>Frmula Valor da BC ICMS</label>\\n                                                            <gumga-many-to-one value=\\\"icms.vBC\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"row m-t\\\">\\n                                                        <div class=\\\"col-md-5\\\">\\n                                                            <label>Alquota ICMS</label>\\n                                                            <input type=\\\"text\\\"\\n                                                                   class=\\\"form-control\\\"\\n                                                                   ui-percentage-mask\\n                                                                   ng-model=\\\"icms.pICMS\\\" />\\n                                                        </div>\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>Frmula Valor ICMS</label>\\n\\n                                                            <gumga-many-to-one value=\\\"icms.vICMS\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row\\\"\\n                                                     ng-show=\\\"isRedGroupAble(icms)\\\">\\n                                                    <div class=\\\"col-md-5 m-t container-fluid\\\">\\n                                                        <label>Reduo da BC ICMS</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ng-model=\\\"icms.pRedBC\\\"\\n                                                               ui-percentage-mask/>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7 m-t\\\"\\n                                                         ng-hide=\\\"!(icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'OUTRAS_COM_PARTILHA_90')\\\">\\n                                                        <label>BC da operao prpria</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ng-model=\\\"icms.pBCOp\\\"\\n                                                               ui-percentage-mask/>\\n                                                    </div>\\n                                                </div>\\n                                                <div ng-show=\\\"isIcmsDesoGroupAble(icms)\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <div class=\\\"col-md-7 m-t\\\">\\n                                                            <label>Valor ICMS Desonerado</label>\\n\\n                                                            <gumga-many-to-one value=\\\"icms.vICMSDeson\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-12 m-t\\\">\\n                                                        <div class=\\\"row\\\">\\n                                                            <label>Motivo da desonerao</label>\\n                                                            <select name=\\\"icmsMotDes\\\"\\n                                                                    id=\\\"icmsMotDes\\\"\\n                                                                    ng-model=\\\"icms.motDesICMS\\\"\\n                                                                    class=\\\"form-control\\\"\\n                                                                    ng-options=\\\"obj.key as obj.label for obj in unburdeningMotiveList\\\"></select>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div ng-show=\\\"icms.CST == 'DIFERIMENTO_51'\\\">\\n                                                    <div class=\\\"row m-t\\\">\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>ICMS da Operao</label>\\n                                                            <gumga-many-to-one value=\\\"icms.vICMSOp\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-5\\\">\\n                                                            <label>Percentual do Diferimento</label>\\n                                                            <input type=\\\"text\\\"\\n                                                                   class=\\\"form-control\\\"\\n                                                                   ui-percentage-mask\\n                                                                   ng-model=\\\"icms.pDif\\\" />\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"row m-t\\\">\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>Valor do ICMS diferido</label>\\n                                                            <gumga-many-to-one value=\\\"icms.vICMSDif\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\"\\n                                                     ng-show=\\\"isFCPVisible(icms)\\\">\\n                                                    <div class=\\\"col-md-6\\\">\\n                                                        <label>Alquota interna da UF de destino</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pICMSUFDest\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-6\\\">\\n                                                        <label>Perc. Fundo Comb.  Pobreza</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pFCPUFDest\\\" />\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"col-md-6\\\"\\n                                             ng-hide=\\\"isIcmsStAble(icms)\\\">\\n                                            <div class=\\\"row\\\"\\n                                                 align=\\\"center\\\">\\n                                                <h4 class=\\\"b\\\">\\n                                                    ICMS ST</h4>\\n                                            </div>\\n                                            <div ng-hide=\\\"isIcmsStStandartGroupAble(icms)\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Modalidade Deter. da BC ICMS ST</label>\\n                                                        <select name=\\\"icmsmodBCST\\\"\\n                                                                id=\\\"icmsBCST\\\"\\n                                                                ng-model=\\\"icms.modBCST\\\"\\n                                                                class=\\\"form-control\\\"\\n                                                                ng-options=\\\"modst.key as modst.label for modst in modeCalculationBaseSTList\\\"></select>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\"\\n                                                         ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                        <label>Reduo BC ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pRedBCST\\\" />\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\"\\n                                                         ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                        <label>Margem valor adic. ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pMVAST\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7\\\"\\n                                                         ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                        <label>Frmula Valor BC ICMS ST</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vBCST\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\"\\n                                                         ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                        <label>Alquota ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pICMSST\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7\\\"\\n                                                         ng-show=\\\"icms.CST == 'COBRANCA_ST_10' || icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'ISENTA_COM_ST_30' || icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                        <label>Frmula Valor ICMS ST</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSST\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\"\\n                                                 ng-show=\\\"icms.CST == 'COBRANCA_ST_10_COM_PARTILHA' || icms.CST == 'OUTRAS_COM_PARTILHA_90'\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>UF do ICMS ST devido na operao</label>\\n                                                    <select name=\\\"icmsuficmsdo\\\"\\n                                                            id=\\\"icmsuficmsdo\\\"\\n                                                            ng-model=\\\"icms.UFST\\\"\\n                                                            class=\\\"form-control\\\"\\n                                                            ng-options=\\\"obj.key as obj.label for obj in stateList\\\"></select>\\n                                                </div>\\n                                            </div>\\n                                            <div ng-show=\\\"icms.CST == 'ISENTA_COM_ST_30'\\\">\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Valor ICMS Desonerado</label>\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSDeson\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"col-md-12 m-t\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <label>Motivo da desonerao</label>\\n                                                        <select name=\\\"modIcmsSetDeson\\\"\\n                                                                id=\\\"modIcmsSetDeson\\\"\\n                                                                ng-model=\\\"icms.motDesICMS\\\"\\n                                                                class=\\\"form-control\\\"\\n                                                                ng-options=\\\"obj.key as obj.label for obj in unburdeningMotiveList\\\"></select>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\"\\n                                                 ng-show=\\\"icms.CST == 'NAO_TRIBUTADA_41_ICMSST' || icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label ng-hide=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">BC ICMS ST retido na UF remet.</label>\\n                                                    <label ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">BC ICMS ST retido anteriormente</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vBCSTRet\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label ng-hide=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">ICMS ST retido na UF remet.</label>\\n                                                    <label ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60'\\\">ICMS ST retido anteriormente\\n                                                    </label>\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSSTRet\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-5\\\"\\n                                                     ng-show=\\\"icms.CST == 'COBRADO_ANTERIORMENTE_POR_ST_60' ||icms.CST == 'ST_REDUCAO_BC_70' || icms.CST == 'OUTRAS_COM_PARTILHA_90' || icms.CST == 'OUTROS_90'\\\">\\n                                                    <label>Reduo ICMS ST Prprio</label>\\n                                                    <input type=\\\"text\\\"\\n                                                           class=\\\"form-control\\\"\\n                                                           ui-percentage-mask\\n                                                           ng-model=\\\"icms.pRedIMCSSTProp\\\" />\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row m-t\\\"\\n                                                 ng-show=\\\"icms.CST == 'NAO_TRIBUTADA_41_ICMSST'\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>BC ICMS ST da UF destino</label>\\n\\n                                                    <gumga-many-to-one value=\\\"icms.vBCSTDest\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>ICMS ST da UF destino</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSSTDest\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"row m-t\\\"\\n                                         ng-hide=\\\"icmsNormal\\\">\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <div ng-show=\\\"showSimples(icms)\\\">\\n                                                <div class=\\\"row \\\"\\n                                                     align=\\\"center\\\">\\n                                                    <h4 class=\\\"b\\\">\\n                                                        ICMS</h4>\\n                                                </div>\\n                                                <div ng-show=\\\"icms.CSOSN === 'OUTROS_900'\\\"\\n                                                     class=\\\"m-b\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>Modalidade Deter. da BC ICMS</label>\\n                                                            <select name=\\\"icmsModBC\\\"\\n                                                                    ng-model=\\\"icms.modBC\\\"\\n                                                                    class=\\\"form-control\\\"\\n                                                                    ng-options=\\\"mod.key as mod.label for mod in modeCalculationBaseList\\\"></select>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-5\\\">\\n                                                            <label>Frmula Valor da BC ICMS</label>\\n                                                            <gumga-many-to-one value=\\\"icms.vBC\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"row m-t\\\">\\n                                                        <div class=\\\"col-md-5\\\">\\n                                                            <label>Alquota ICMS</label>\\n                                                            <input type=\\\"text\\\"\\n                                                                   class=\\\"form-control\\\"\\n                                                                   ui-percentage-mask\\n                                                                   ng-model=\\\"icms.pICMS\\\" />\\n                                                        </div>\\n                                                        <div class=\\\"col-md-7\\\">\\n                                                            <label>Frmula Valor ICMS</label>\\n\\n\\n                                                            <gumga-many-to-one value=\\\"icms.vICMS\\\"\\n                                                                               search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"row\\\">\\n                                                        <div class=\\\"col-md-5 m-t container-fluid\\\">\\n                                                            <label>Reduo da BC ICMS</label>\\n                                                            <input type=\\\"text\\\"\\n                                                                   class=\\\"form-control\\\"\\n                                                                   ng-model=\\\"icms.pRedBC\\\"\\n                                                                   ui-percentage-mask/>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row \\\"\\n                                                     ng-if=\\\"showAliquotaGroup(icms)\\\">\\n                                                    <div class=\\\"col-md-7\\\"\\n                                                         ng-show=\\\"icms.CSOSN !== 'CREDITO_101'\\\">\\n                                                        <label>Alquota aplicvel de clculo do crdito</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pCredSN\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Frmula Vl. crdito do ICMS</label>\\n                                                        <gumga-many-to-one value=\\\"icms.vCredICMSSN\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\"\\n                                                     ng-show=\\\"isFCPVisible(icms)\\\">\\n                                                    <div class=\\\"col-md-6\\\">\\n                                                        <label>Alquota interna da UF de destino</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pICMSUFDest\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-6\\\">\\n                                                        <label>Perc. Fundo Comb.  Pobreza</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pFCPUFDest\\\" />\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"col-md-6\\\"\\n                                             ng-show=\\\"showSimplesSt(icms)\\\">\\n                                            <div class=\\\"row\\\"\\n                                                 align=\\\"center\\\">\\n                                                <h4 class=\\\"b\\\">\\n                                                    ICMS ST</h4>\\n                                            </div>\\n                                            <div ng-show=\\\"showIcmsStSimple(icms)\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Modalidade Deter. da BC ICMS ST</label>\\n                                                        <select name=\\\"icmsmodBCST\\\"\\n                                                                ng-model=\\\"icms.modBCST\\\"\\n                                                                class=\\\"form-control\\\"\\n                                                                ng-options=\\\"modst.key as modst.label for modst in modeCalculationBaseSTList\\\"></select>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Reduo BC ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pRedBCST\\\" />\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\"\\n                                                         ng-if=\\\"icms.modBCST !== 'PAUTA'\\\">\\n                                                        <label>Margem valor adic. ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pMVAST\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7 pull-right\\\">\\n                                                        <label>Frmula Valor BC ICMS ST</label>\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vBCST\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row m-t\\\">\\n                                                    <div class=\\\"col-md-5\\\">\\n                                                        <label>Alquota ICMS ST</label>\\n                                                        <input type=\\\"text\\\"\\n                                                               class=\\\"form-control\\\"\\n                                                               ui-percentage-mask\\n                                                               ng-model=\\\"icms.pICMSST\\\" />\\n                                                    </div>\\n                                                    <div class=\\\"col-md-7\\\">\\n                                                        <label>Frmula Valor ICMS ST</label>\\n\\n                                                        <gumga-many-to-one value=\\\"icms.vICMSST\\\"\\n                                                                           search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\"\\n                                                 ng-show=\\\"icms.CSOSN === ''\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>BC ICMS ST retido anteriormente</label>\\n                                                    <gumga-many-to-one value=\\\"icms.vBCSTRet\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>ICMS ST retido anteriormente\\n                                                    </label>\\n                                                    <gumga-many-to-one value=\\\"icms.vICMSSTRet\\\"\\n                                                                       search-method=\\\"getFormulaIcms(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </uib-tab>\\n                        <!--PIS-->\\n                        <uib-tab index=\\\"1\\\"\\n                                 heading=\\\"PIS\\\">\\n                            <div>\\n                                <div class=\\\"row container-fluid\\\">\\n                                    <div class=\\\"row\\\">\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <label>CST</label>\\n                                            <select name=\\\"cstpis\\\"\\n                                                    id=\\\"cstpis\\\"\\n                                                    ng-model=\\\"pis.CST\\\"\\n                                                    class=\\\"form-control\\\"\\n                                                    ng-options=\\\"obj.key as obj.label for obj in cstpis\\\"></select>\\n                                        </div>\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <label>Mensagem</label>\\n\\n                                            <gumga-many-to-one value=\\\"pis.mensagem\\\"\\n                                                               search-method=\\\"getMensagem(param,'PIS')\\\"\\n                                                               field=\\\"name\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.name}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"row m-t\\\"\\n                                         ng-hide=\\\"isPisAble(pis)\\\">\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <div ng-hide=\\\"pis.CST == 'OPERACAO_TRIBUTAVEL_05'\\\">\\n\\n                                                <div class=\\\"row\\\">\\n                                                    <h4 class=\\\"b\\\"\\n                                                        align=\\\"center\\\">PIS</h4>\\n                                                </div>\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-6\\\"\\n                                                         ng-hide=\\\"isPisOperationTypeUnable(pis)\\\">\\n                                                        <label>Tipo de clculo</label>\\n                                                        <select name=\\\"calculationpis\\\"\\n                                                                id=\\\"calculationpis\\\"\\n                                                                ng-model=\\\"pis.calculationType\\\"\\n                                                                class=\\\"form-control\\\"\\n                                                                ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                    </div>\\n                                                    <div class=\\\"row\\\"\\n                                                         ng-show=\\\"isPisAliquotaAble(pis)\\\">\\n                                                        <div class=\\\"col-md-12\\\">\\n                                                            <div class=\\\"row\\\">\\n                                                                <div class=\\\"col-md-12\\\">\\n\\n                                                                    <div class=\\\"col-md-6\\\">\\n                                                                        <label>Valor da base de clculo</label>\\n\\n                                                                        <gumga-many-to-one value=\\\"pis.vBC\\\"\\n                                                                                           search-method=\\\"getFormulaPis(param)\\\"\\n                                                                                           field=\\\"name\\\"\\n                                                                                           async=\\\"true\\\"\\n                                                                                           display-info=\\\"false\\\"\\n                                                                                           editable=\\\"false\\\">\\n                                                                            <match>\\n                                                                                <div>{{match.model.name}}</div>\\n                                                                            </match>\\n                                                                        </gumga-many-to-one>\\n                                                                    </div>\\n                                                                    <div class=\\\"col-md-6\\\">\\n                                                                        <label>Alquota (percentual)</label>\\n                                                                        <input type=\\\"text\\\"\\n                                                                               class=\\\"form-control\\\"\\n                                                                               ui-percentage-mask\\n                                                                               ng-model=\\\"pis.pPIS\\\" />\\n                                                                    </div>\\n\\n                                                                </div>\\n                                                            </div>\\n\\n                                                            <div class=\\\"col-md-6 m-t\\\">\\n                                                                <label>Valor do PIS</label>\\n\\n                                                                <gumga-many-to-one value=\\\"pis.vPIS\\\"\\n                                                                                   search-method=\\\"getFormulaPis(param)\\\"\\n                                                                                   field=\\\"name\\\"\\n                                                                                   async=\\\"true\\\"\\n                                                                                   display-info=\\\"false\\\"\\n                                                                                   editable=\\\"false\\\">\\n                                                                    <match>\\n                                                                        <div>{{match.model.name}}</div>\\n                                                                    </match>\\n                                                                </gumga-many-to-one>\\n                                                            </div>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"col-md-6\\\"\\n                                             ng-show=\\\"pis.CST === 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <h4 class=\\\"b\\\"\\n                                                    align=\\\"center\\\">PIS ST</h4>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Tipo de clculo</label>\\n                                                    <select name=\\\"calculationpisst\\\"\\n                                                            id=\\\"calculationpisst\\\"\\n                                                            ng-model=\\\"pis.calculationTypeST\\\"\\n                                                            class=\\\"form-control\\\"\\n                                                            ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\"\\n                                                 ng-show=\\\" pis.calculationTypeST == 'PORCENTAGEM'\\\">\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor da base de clculo</label>\\n\\n                                                            <gumga-many-to-one value=\\\"pis.vBCST\\\"\\n                                                                               search-method=\\\"getFormulaPis(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Alquota (percentual)</label>\\n                                                            <input type=\\\"text\\\"\\n                                                                   class=\\\"form-control\\\"\\n                                                                   ui-percentage-mask\\n                                                                   ng-model=\\\"pis.pPISST\\\" />\\n                                                        </div>\\n\\n                                                    </div>\\n                                                </div>\\n                                                <div class=\\\"row\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor do PIS ST</label>\\n\\n                                                            <gumga-many-to-one value=\\\"pis.vPISST\\\"\\n                                                                               search-method=\\\"getFormulaPis(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </uib-tab>\\n                        <!--COFINS-->\\n                        <uib-tab index=\\\"2\\\"\\n                                 heading=\\\"COFINS\\\">\\n                            <div class=\\\"row container-fluid\\\">\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>CST</label>\\n                                        <select name=\\\"cstcofins\\\"\\n                                                id=\\\"cstcofins\\\"\\n                                                ng-model=\\\"cofins.CST\\\"\\n                                                class=\\\"form-control\\\"\\n                                                ng-options=\\\"obj.key as obj.label for obj in cstpis\\\"></select>\\n\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <label>Mensagem</label>\\n                                        <gumga-many-to-one value=\\\"cofins.mensagem\\\"\\n                                                           search-method=\\\"getMensagem(param,'COFINS')\\\"\\n                                                           field=\\\"name\\\"\\n                                                           async=\\\"true\\\"\\n                                                           display-info=\\\"false\\\"\\n                                                           editable=\\\"false\\\">\\n                                            <match>\\n                                                <div>{{match.model.name}}</div>\\n                                            </match>\\n                                        </gumga-many-to-one>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row m-t\\\"\\n                                     ng-hide=\\\"isCofinsAble(cofins)\\\">\\n                                    <div class=\\\"col-md-6\\\">\\n                                        <div ng-hide=\\\"cofins.CST == 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                            <div class=\\\"row\\\">\\n                                                <h4 class=\\\"b\\\"\\n                                                    align=\\\"center\\\">COFINS</h4>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n                                                <div class=\\\"col-md-6\\\"\\n                                                     ng-hide=\\\"isCofinsOperationTypeUnable(cofins)\\\">\\n                                                    <label>Tipo de clculo</label>\\n                                                    <select name=\\\"calculationcofins\\\"\\n                                                            id=\\\"calculationcofins\\\"\\n                                                            ng-model=\\\"cofins.calculationType\\\"\\n                                                            class=\\\"form-control\\\"\\n                                                            ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                </div>\\n                                                <div class=\\\"row\\\"\\n                                                     ng-show=\\\"isCofinsAliquotaAble(cofins)\\\">\\n                                                    <div class=\\\"col-md-12\\\">\\n                                                        <div class=\\\"row\\\">\\n                                                            <div class=\\\"col-md-12\\\">\\n                                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                                    <label>Valor da base de clculo</label>\\n\\n                                                                    <gumga-many-to-one value=\\\"cofins.vBC\\\"\\n                                                                                       search-method=\\\"getFormulaCofins(param)\\\"\\n                                                                                       field=\\\"name\\\"\\n                                                                                       async=\\\"true\\\"\\n                                                                                       display-info=\\\"false\\\"\\n                                                                                       editable=\\\"false\\\">\\n                                                                        <match>\\n                                                                            <div>{{match.model.name}}</div>\\n                                                                        </match>\\n                                                                    </gumga-many-to-one>\\n                                                                </div>\\n                                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                                    <label>Alquota (percentual)</label>\\n                                                                    <input type=\\\"text\\\"\\n                                                                           class=\\\"form-control\\\"\\n                                                                           ui-percentage-mask\\n                                                                           ng-model=\\\"cofins.pCOFINS\\\" />\\n                                                                </div>\\n                                                            </div>\\n                                                        </div>\\n                                                        <div class=\\\"col-md-6 m-t\\\">\\n                                                            <label>Valor do COFINS</label>\\n\\n                                                            <gumga-many-to-one value=\\\"cofins.vCOFINS\\\"\\n                                                                               search-method=\\\"getFormulaCofins(param)\\\"\\n                                                                               field=\\\"name\\\"\\n                                                                               async=\\\"true\\\"\\n                                                                               display-info=\\\"false\\\"\\n                                                                               editable=\\\"false\\\">\\n                                                                <match>\\n                                                                    <div>{{match.model.name}}</div>\\n                                                                </match>\\n                                                            </gumga-many-to-one>\\n                                                        </div>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"col-md-6\\\"\\n                                         ng-show=\\\"cofins.CST === 'OPERACAO_TRIBUTAVEL_05'\\\">\\n                                        <div class=\\\"row\\\">\\n                                            <h4 class=\\\"b\\\"\\n                                                align=\\\"center\\\">COFINS ST</h4>\\n                                        </div>\\n                                        <div class=\\\"row\\\">\\n                                            <div class=\\\"col-md-6\\\">\\n                                                <label>Tipo de clculo</label>\\n                                                <select name=\\\"calculationcofinsst\\\"\\n                                                        id=\\\"calculationcofinsst\\\"\\n                                                        ng-model=\\\"cofins.calculationTypeST\\\"\\n                                                        class=\\\"form-control\\\"\\n                                                        ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                            </div>\\n                                        </div>\\n                                        <div ng-show=\\\"cofins.calculationTypeST == 'PORCENTAGEM'\\\">\\n                                            <div class=\\\"row\\\">\\n\\n                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                    <label>Valor da base de clculo</label>\\n\\n                                                    <gumga-many-to-one value=\\\"cofins.vBCST\\\"\\n                                                                       search-method=\\\"getFormulaCofins(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                                <div class=\\\"col-md-4 m-t\\\">\\n                                                    <label>Alquota (percentual)</label>\\n                                                    <input type=\\\"text\\\"\\n                                                           class=\\\"form-control\\\"\\n                                                           ui-percentage-mask\\n                                                           ng-model=\\\"cofins.pCOFINSST\\\" />\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\\"row\\\">\\n\\n                                                <div class=\\\"col-md-6 m-t\\\">\\n                                                    <label>Valor do COFINS ST</label>\\n\\n                                                    <gumga-many-to-one value=\\\"cofins.vCOFINSST\\\"\\n                                                                       search-method=\\\"getFormulaCofins(param)\\\"\\n                                                                       field=\\\"name\\\"\\n                                                                       async=\\\"true\\\"\\n                                                                       display-info=\\\"false\\\"\\n                                                                       editable=\\\"false\\\">\\n                                                        <match>\\n                                                            <div>{{match.model.name}}</div>\\n                                                        </match>\\n                                                    </gumga-many-to-one>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </uib-tab>\\n                        <!--IPI-->\\n                        <uib-tab index=\\\"3\\\"\\n                                 heading=\\\"IPI\\\">\\n                            <div>\\n                                <div class=\\\"row container-fluid\\\">\\n                                    <div class=\\\"row\\\">\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>CST</label>\\n                                            <select name=\\\"cstipi\\\"\\n                                                    id=\\\"cstipi\\\"\\n                                                    ng-model=\\\"ipi.CST\\\"\\n                                                    class=\\\"form-control\\\"\\n                                                    ng-options=\\\"obj.key as obj.label for obj in cstipi\\\"></select>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>Cd. Enquadramento legal do IPI</label>\\n                                            <gumga-many-to-one value=\\\"ipi.enquadramentoIpi\\\"\\n                                                               search-method=\\\"searchEnquadramento(param)\\\"\\n                                                               class=\\\"gmd\\\"\\n                                                               field=\\\"descricao\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               async=\\\"true\\\">\\n                                                <match>\\n                                                    <div>{{match.model.codigo}} - {{match.model.descricao}}\\n                                                    </div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                        <div class=\\\"col-md-4\\\">\\n                                            <label>Mensagem</label>\\n                                            <gumga-many-to-one value=\\\"ipi.mensagem\\\"\\n                                                               search-method=\\\"getMensagem(param,'IPI')\\\"\\n                                                               field=\\\"name\\\"\\n                                                               async=\\\"true\\\"\\n                                                               display-info=\\\"false\\\"\\n                                                               editable=\\\"false\\\">\\n                                                <match>\\n                                                    <div>{{match.model.name}}</div>\\n                                                </match>\\n                                            </gumga-many-to-one>\\n                                        </div>\\n                                    </div>\\n                                    <div class=\\\"row\\\">\\n                                        <div class=\\\"col-md-6\\\">\\n                                            <div class=\\\"row m-t\\\"\\n                                                 ng-hide=\\\"isIpiAble(ipi)\\\">\\n\\n                                                <div class=\\\"col-md-6\\\">\\n                                                    <label>Tipo de clculo</label>\\n                                                    <select name=\\\"calculationipi\\\"\\n                                                            id=\\\"calculationipi\\\"\\n                                                            ng-model=\\\"ipi.ipiCalculationType\\\"\\n                                                            class=\\\"form-control\\\"\\n                                                            ng-options=\\\"obj for obj in calculationTypes\\\"></select>\\n                                                </div>\\n                                                <div ng-show=\\\"ipi.ipiCalculationType == 'PORCENTAGEM'\\\">\\n                                                    <div class=\\\"row\\\">\\n                                                        <div class=\\\"col-md-12\\\">\\n\\n                                                            <div class=\\\"col-md-6 m-t\\\">\\n                                                                <label>Valor da base de clculo</label>\\n\\n                                                                <gumga-many-to-one value=\\\"ipi.vBC\\\"\\n                                                                                   search-method=\\\"getFormulaIpi(param)\\\"\\n                                                                                   field=\\\"name\\\"\\n                                                                                   async=\\\"true\\\"\\n                                                                                   display-info=\\\"false\\\"\\n                                                                                   editable=\\\"false\\\">\\n                                                                    <match>\\n                                                                        <div>{{match.model.name}}</div>\\n                                                                    </match>\\n                                                                </gumga-many-to-one>\\n                                                            </div>\\n                                                            <div class=\\\"col-md-6 m-t\\\">\\n                                                                <label>Alquota</label>\\n                                                                <input type=\\\"text\\\"\\n                                                                       class=\\\"form-control\\\"\\n                                                                       ui-percentage-mask\\n                                                                       ng-model=\\\"ipi.pIPI\\\" />\\n                                                            </div>\\n                                                        </div>\\n                                                    </div>\\n                                                    <div class=\\\"col-md-6 m-t\\\">\\n                                                        <label>Valor do IPI</label>\\n                                                        <gumga-many-to-one value=\\\"ipi.vIPI\\\"\\n                                                                           search-method=\\\"getFormulaIpi(param)\\\"\\n                                                                           field=\\\"name\\\"\\n                                                                           async=\\\"true\\\"\\n                                                                           display-info=\\\"false\\\"\\n                                                                           editable=\\\"false\\\">\\n                                                            <match>\\n                                                                <div>{{match.model.name}}</div>\\n                                                            </match>\\n                                                        </gumga-many-to-one>\\n                                                    </div>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </uib-tab>\\n                    </uib-tabset>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <gmd-fab force-click=\\\"false\\\"\\n                     fixed\\n                     opened=\\\"!fabs\\\"\\n                     style=\\\"z-index: 99\\\">\\n                <button class=\\\"bg-accent gmd-ripple\\\"\\n                        type=\\\"button\\\"\\n                        ng-class=\\\"{ 'gmd-disabled' : blockBtnTributos(entity) || saveDisabled(entity,icms,pis,cofins,ipi) }\\\"\\n                        ng-click=\\\"update(entity,icms,pis,cofins,ipi, blockBtnTributos(entity) || saveDisabled(entity,icms,pis,cofins,ipi))\\\">\\n                    <span class=\\\"material-icons\\\">check</span>\\n                </button>\\n                <ul>\\n                    <li class=\\\"bg-primary\\\"\\n                        ng-show=\\\"entity.id\\\"\\n                        ui-sref=\\\"app.taxsettings.list\\\">\\n                        <span>Voltar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">keyboard_backspace</i>\\n                    </li>\\n                    <li class=\\\"bg-primary\\\"\\n                        ng-click=\\\"clearPage()\\\">\\n                        <span>Limpar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">delete_sweep</i>\\n                    </li>\\n                    <li class=\\\"btn-danger\\\"\\n                        ng-hide=\\\"entity.id\\\"\\n                        ui-sref=\\\"app.taxsettings.list\\\">\\n                        <span>Cancelar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">close</i>\\n                    </li>\\n                    <li class=\\\"bg-primary\\\"\\n                        ng-show=\\\"entity.id\\\"\\n                        ng-click=\\\"replicateTaxSetting()\\\">\\n                        <span>Replicar</span>\\n                        <i class=\\\"material-icons gmd-ripple\\\">content_copy</i>\\n                    </li>\\n                </ul>\\n            </gmd-fab>\\n        </div>\\n    </div>\\n</form>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/taxsettings/views/form.html\n// module id = 14\n// module chunks = 0","var path = '/modules/taxsettings/views/list.html';\nvar html = \"<div class=\\\"row\\\">\\n    <div class=\\\"col-lg-12\\\">\\n        <div class=\\\"ibox float-e-margins\\\">\\n            <div class=\\\"ibox-content\\\">\\n                <div class=\\\"col-md-12\\\">\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"row\\\">\\n                            <!--<div class=\\\"col-md-5\\\">-->\\n                            <!--<button type=\\\"button\\\" ui-sref=\\\"taxsettings.insert\\\" grands-button=\\\"new\\\"></button>-->\\n                            <!--<button type=\\\"button\\\" ng-click=\\\"taxationGroup.methods.delete(selectedValues)\\\"-->\\n                            <!--grands-button=\\\"delete\\\" ng-disabled=\\\"selectedValues.length == 0\\\"></button>-->\\n                            <!--</div>-->\\n                            <div class=\\\"col-md-offset-5 col-md-7\\\">\\n                                <gumga-query search=\\\"proxySearchWithGQuery(param)\\\"\\n                                             advanced-search=\\\"proxySearchWithGQuery(param)\\\"\\n                                             use-gquery=\\\"true\\\">\\n                                    <search-field field=\\\"name\\\"\\n                                                  label=\\\"{{'titleparameterization'|gumgaTranslate:'taxsettings'}}\\\"\\n                                                  select=\\\"true\\\"></search-field>\\n                                    <advanced-search-field type=\\\"string\\\"\\n                                                           label=\\\"{{'titleparameterization'|gumgaTranslate:'taxsettings'}}\\\"\\n                                                           field=\\\"name\\\"></advanced-search-field>\\n                                </gumga-query>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-md-12\\\" style=\\\"margin-top:1%\\\">\\n                        <gumga-list data=\\\"taxationGroup.data\\\"\\n                                    configuration=\\\"conf\\\"\\n                                    on-click=\\\"getIcon($value)\\\"\\n                                    class=\\\"table-striped\\\"\\n                                    sort=\\\"taxationGroup.methods.sort(field, dir)\\\"\\n                                    page-size=\\\"taxationGroup.pageSize\\\"\\n                                    count=\\\"taxationGroup.count\\\"\\n                                    page-model=\\\"page\\\"\\n                                    max-height=\\\"400px\\\"\\n                                    on-page-change=\\\"taxationGroup.methods.searchWithGQuery(taxationGroup.lastGQuery, page, pageSize)\\\">\\n                        </gumga-list>\\n                    </div>\\n                </div>\\n                <gmd-fab force-click=\\\"false\\\" fixed opened=\\\"selectedValues.length > 0\\\">\\n                    <button class=\\\"bg-accent gmd-ripple\\\" ui-sref=\\\"app.taxsettings.insert\\\"\\n                            ng-if=\\\"selectedValues.length == 0\\\">\\n                        <span class=\\\"material-icons\\\">add</span>\\n                    </button>\\n                    <button class=\\\"bg-accent gmd-ripple\\\" ng-if=\\\"selectedValues.length > 0\\\">\\n                        <span class=\\\"material-icons\\\">menu</span>\\n                    </button>\\n                    <ul>\\n                        <li class=\\\"btn-danger\\\"\\n                            ng-class=\\\"{'gmd-invisible' : iconFabs === 'search' || selectedValues.length == 0}\\\"\\n                            ng-click=\\\"taxationGroup.methods.delete(selectedValues)\\\">\\n                            <span>Excluir</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">delete</i>\\n                        </li>\\n                        <li class=\\\"btn-warning\\\"\\n                            ui-sref=\\\"app.taxsettings.edit({id: selectedValues[0].id})\\\"\\n                            ng-class=\\\"{'gmd-invisible' : selectedValues.length == 0}\\\">\\n                            <span>{{translateIcon}}</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">{{iconFabs}}</i>\\n                        </li>\\n                        <li class=\\\"btn-primary\\\"\\n                            ui-sref=\\\"app.taxsettings.insert\\\"\\n                            ng-class=\\\"{'gmd-invisible' : selectedValues.length == 0}\\\">\\n                            <span>Novo</span>\\n                            <i class=\\\"material-icons gmd-ripple\\\">add</i>\\n                        </li>\\n                    </ul>\\n                </gmd-fab>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/taxsettings/views/list.html\n// module id = 15\n// module chunks = 0","var path = '/modules/taxsettings/views/modalConflito.html';\nvar html = \"<div class=\\\"modal-header\\\">\\n    <h3 class=\\\"modal-title\\\" gumga-translate-tag=\\\"taxsettings.modaltitle\\\"></h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <p gumga-translate-tag=\\\"taxsettings.modaltext\\\"></p>\\n    <gumga-list data=\\\"values\\\"\\n                configuration=\\\"conf\\\"\\n                class=\\\"table-bordered\\\"></gumga-list>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" ng-click=\\\"close()\\\" grands-button=\\\"close\\\"></button>\\n</div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/modules/taxsettings/views/modalConflito.html\n// module id = 16\n// module chunks = 0"],"sourceRoot":""}